import{d as R,t as Wo,a as Go,u as Ko,r as Zo,q as Qo,K as Ge,h as lt,T as E,b as t,x as ve,A as D,y as I,c as L,e as M,k as j,N as Qn,f as J,g as ct,i as F,$ as Te,M as Me,j as Pe,l as jt,L as Jo,m as Xo,n as Jn,D as qt,o as er,p as tr,s as Xn,_ as nr,v as eo,F as or,I as rr,O as ar,w as sr,H as ir,R as lr,z as bt,B as cr}from"./vendor-AE42EBMU.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();R.extend(Wo);R.extend(Go);R.extend(Ko);R.extend(Zo);const dr=()=>window.location.href.replace(/(\/(select\/)?vmui\/.*|\/#\/.*)/,""),mn="YYYY-MM-DD",Ne="YYYY-MM-DD HH:mm:ss",Wt="YYYY-MM-DD[T]HH:mm:ss",ur="YYYY-MM-DD_HHmmss",mr=50,to=100,Gt=5,Pt="Ungrouped",oe="_stream",Fe="_msg",Re=`${Ne}.SSS`,X={GROUP_BY:"groupBy",DISPLAY_FIELDS:"displayFields",NO_WRAP_LINES:"noWrapLines",COMPACT_GROUP_HEADER:"compactGroupHeader",DATE_FORMAT:"dateFormat",ROWS_PER_PAGE:"rows_per_page"},Ot=1,no=25,Le=(e,n)=>{const o=window.location.hash.split("?")[1];return Qo.parse(o,{ignoreQueryPrefix:!0})?.[e]??n??""},hr=()=>{const n=(window.location.hash.split("?")[1]||"").match(/g\d+\.expr/g)?.length||1;return new Array(n>Ot?Ot:n).fill(1).map((o,r)=>Le(`g${r}.expr`,""))},me=(e,n)=>{n?window.localStorage.setItem(e,JSON.stringify({value:n})):pr([e]),window.dispatchEvent(new Event("storage"))},pe=e=>{const n=window.localStorage.getItem(e);if(n!==null)try{return JSON.parse(n)?.value}catch{return n}},pr=e=>e.forEach(n=>window.localStorage.removeItem(n));var ce=(e=>(e.yhat="yhat",e.yhatUpper="yhat_upper",e.yhatLower="yhat_lower",e.anomaly="vmui_anomalies_points",e.training="vmui_training_data",e.actual="actual",e.anomalyScore="anomaly_score",e))(ce||{}),Dt=(e=>(e.table="table",e.chart="chart",e.code="code",e))(Dt||{}),oo=(e=>(e.emptyServer="Please enter Server URL",e.validServer="Please provide a valid Server URL",e.validQuery="Please enter a valid Query and execute it",e.traceNotFound="Not found the tracing information",e.emptyTitle="Please enter title",e.positiveNumber="Please enter positive number",e.validStep="Please enter a valid step",e.unknownType="Unknown server response format: must have 'errorType'",e))(oo||{}),ie=(e=>(e.system="system",e.light="light",e.dark="dark",e))(ie||{});const _e=e=>getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),ze=(e,n)=>{document.documentElement.style.setProperty(`--${e}`,n)},rt=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,_r=e=>e===ie.system&&rt()||e===ie.dark,ro=e=>e.replace(/\/$/,""),gr=Le("g0.tenantID",""),fr={serverUrl:ro(dr()),tenantId:gr,theme:pe("THEME")||ie.system,isDarkTheme:null,flags:{},appConfig:{}};function vr(e,n){switch(n.type){case"SET_SERVER":return{...e,serverUrl:ro(n.payload)};case"SET_TENANT_ID":return{...e,tenantId:n.payload};case"SET_THEME":return me("THEME",n.payload),{...e,theme:n.payload};case"SET_DARK_THEME":return{...e,isDarkTheme:_r(e.theme)};case"SET_FLAGS":return{...e,flags:n.payload};case"SET_APP_CONFIG":return{...e,appConfig:n.payload};default:throw new Error}}const Kt=Ge({}),ne=()=>ve(Kt).state,ao=()=>ve(Kt).dispatch,br=Object.entries(fr).reduce((e,[n,o])=>({...e,[n]:Le(n)||o}),{}),yr=({children:e})=>{const[n,o]=lt(vr,br),r=E(()=>({state:n,dispatch:o}),[n,o]);return t(Kt.Provider,{value:r,children:e})},wr=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Katmandu","Asia/Khandyga","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis"],kr=window.innerWidth/4,hn={min:1,max:1578e8},pn=Intl.supportedValuesOf,Cr=pn?pn("timeZone"):wr,so=[{long:"years",short:"y",possible:"year"},{long:"weeks",short:"w",possible:"week"},{long:"days",short:"d",possible:"day"},{long:"hours",short:"h",possible:"hour"},{long:"minutes",short:"m",possible:"min"},{long:"seconds",short:"s",possible:"sec"},{long:"milliseconds",short:"ms",possible:"millisecond"}],xr=so.map(e=>e.short),Sr=e=>Math.round(e*1e3)/1e3,Ar=e=>Zt(R.duration(e,"seconds").asMilliseconds()),Lr=e=>{let n=Sr(e);const o=Math.round(e);return e>=100&&(n=o-o%10),e<100&&e>=10&&(n=o-o%5),e<10&&e>=1&&(n=o),e<1&&e>.01&&(n=Math.round(e*40)/40),Ar(n||.001).replace(/\s/g,"")},Nr=e=>{const n=e.match(/\d+/g),o=e.match(/[a-zA-Z]+/g);if(o&&n&&xr.includes(o[0]))return{[o[0]]:n[0]}},Ir=e=>{const n=so.map(s=>s.short).join("|"),o=new RegExp(`\\d+(\\.\\d+)?[${n}]+`,"g"),a=(e.match(o)||[]).reduce((s,i)=>{const l=Nr(i);return l?{...s,...l}:{...s}},{});return R.duration(a).asSeconds()};Dt.table,Dt.code;const Er=(e,n,o)=>Lr(e/kr),Se=(e,n)=>{const o=(n||R().toDate()).valueOf()/1e3,r=Ir(e);return{start:o-r,end:o,step:Er(r),date:Mr(n||R().toDate())}},Tr=e=>R(e).utcOffset(0,!0).toDate(),Mr=e=>R.tz(e).utc().format(Wt),$e=e=>R.tz(e).format(Wt),Pr=()=>R().utc().format(Wt),Zt=e=>{if(e===0)return"0ms";const n=Math.floor(e%1e3),o=Math.floor(e/1e3%60),r=Math.floor(e/1e3/60%60),a=Math.floor(e/1e3/3600%24),s=Math.floor(e/(1e3*60*60*24)),i=["d","h","m","s","ms"];return[s,a,r,o,n].map((c,d)=>c?`${c}${i[d]}`:"").filter(c=>c).join("")},Or=e=>{const n=e.to.valueOf()-e.from.valueOf();return Zt(n)},he=e=>{const n=R(e*1e3);return n.isValid()?n.toDate():new Date},Dr=()=>R().tz().subtract(1,"day").endOf("day").toDate(),zr=()=>R().tz().endOf("day").toDate(),at=[{title:"Last 5 minutes",duration:"5m",isDefault:!0},{title:"Last 15 minutes",duration:"15m"},{title:"Last 30 minutes",duration:"30m"},{title:"Last 1 hour",duration:"1h"},{title:"Last 3 hours",duration:"3h"},{title:"Last 6 hours",duration:"6h"},{title:"Last 12 hours",duration:"12h"},{title:"Last 24 hours",duration:"24h"},{title:"Last 2 days",duration:"2d"},{title:"Last 7 days",duration:"7d"},{title:"Last 30 days",duration:"30d"},{title:"Last 90 days",duration:"90d"},{title:"Last 180 days",duration:"180d"},{title:"Last 1 year",duration:"1y"},{title:"Yesterday",duration:"1d",until:Dr},{title:"Today",duration:"1d",until:zr}].map(e=>({id:e.title.replace(/\s/g,"_").toLocaleLowerCase(),until:e.until?e.until:()=>R().tz().toDate(),...e})),Qt=({relativeTimeId:e,defaultDuration:n,defaultEndInput:o})=>{const r=at.find(i=>i.isDefault)?.id,a=e||Le("g0.relative_time",r),s=at.find(i=>i.id===a);return{relativeTimeId:s?a:"none",duration:s?s.duration:n,endInput:s?s.until():o}},Ue=e=>`UTC${R().tz(e).format("Z")}`,_n=(e="")=>{const n=new RegExp(e,"i");return Cr.reduce((o,r)=>{const a=(r.match(/^(.*?)\//)||[])[1]||"unknown",s=Ue(r),i=s.replace(/UTC|0/,""),l=r.replace(/[/_]/g," "),c={region:r,utc:s,search:`${r} ${s} ${l} ${i}`},d=!e||e&&n.test(c.search);return d&&o[a]?o[a].push(c):d&&(o[a]=[c]),o},{})},io=e=>{R.tz.setDefault(e)},Rr=e=>{try{return R().tz(e),!0}catch{return!1}},lo=()=>{const e=R.tz.guess(),n=Rr(e);return{isValid:n,title:n?`Browser Time (${e})`:"Browser timezone (UTC)",region:n?e:"UTC"}},gn=e=>{if(!e)return 0n;const n=R(e).valueOf();if(!e.includes("."))return BigInt(n)*1000000n;const o=e.match(/\.(\d+)Z/);if(!o)return BigInt(n)*1000000n;let r=o[1];r=r.padEnd(9,"0");const a=parseInt(r.slice(3),10);return BigInt(n)*1000000n+BigInt(a)},Fr=e=>{const n=e.match(/^(.+T\d{2}:\d{2}:\d{2})(\.(\d+))?Z$/);if(!n)throw new Error("Invalid time format");const o=n[1],a=((n[3]||"")+"000000000").slice(0,9);return`${o}.${a}Z`},co=pe("TIMEZONE")||lo().region;io(co);const Hr=()=>{const e=Le("g0.range_input"),{duration:n,endInput:o,relativeTimeId:r}=Qt({defaultDuration:e||"1h",defaultEndInput:Tr(Le("g0.end_input",Pr())),relativeTimeId:e?Le("g0.relative_time","none"):void 0});return{duration:n,period:Se(n,o),relativeTime:r}},Vr={...Hr(),timezone:co};function Br(e,n){switch(n.type){case"SET_TIME_STATE":return{...e,...n.payload};case"SET_DURATION":return{...e,duration:n.payload,period:Se(n.payload,he(e.period.end)),relativeTime:"none"};case"SET_RELATIVE_TIME":return{...e,duration:n.payload.duration,period:Se(n.payload.duration,n.payload.until),relativeTime:n.payload.id};case"SET_PERIOD":const o=Or(n.payload);return{...e,duration:o,period:Se(o,n.payload.to),relativeTime:"none"};case"RUN_QUERY":const{duration:r,endInput:a}=Qt({relativeTimeId:e.relativeTime,defaultDuration:e.duration,defaultEndInput:he(e.period.end)});return{...e,period:Se(r,a)};case"RUN_QUERY_TO_NOW":return{...e,period:Se(e.duration)};case"SET_TIMEZONE":return io(n.payload),me("TIMEZONE",n.payload),e.defaultTimezone&&me("DISABLED_DEFAULT_TIMEZONE",n.payload!==e.defaultTimezone),{...e,timezone:n.payload};case"SET_DEFAULT_TIMEZONE":return{...e,defaultTimezone:n.payload};default:throw new Error}}const Jt=Ge({}),Ke=()=>ve(Jt).state,Ze=()=>ve(Jt).dispatch,$r=({children:e})=>{const[n,o]=lt(Br,Vr),r=E(()=>({state:n,dispatch:o}),[n,o]);return t(Jt.Provider,{value:r,children:e})},dt=e=>{const n=pe(e);return n?JSON.parse(n):{}},Ur=(e,n,o)=>{const r=dt(e);me(e,JSON.stringify({...r,[n]:o}))},Ve=(e,n)=>dt(e)[n]||[],Yr=(e,n)=>{const o=n.map(c=>c.values[c.index]),r=dt(e),a=r.QUERY_HISTORY||[];a[0]||(a[0]=[]);const s=a[0],i=no*Ot;o.forEach(c=>{!s.includes(c)&&c&&s.unshift(c),s.length>i&&s.pop()});const l={...r,QUERY_HISTORY:[s]};me(e,JSON.stringify(l))},jr=(e,n)=>{Ur(e,"QUERY_FAVORITES",n)},qr=(e,n)=>{const o=dt(e);me(e,JSON.stringify({...o,[n]:[]}))},Wr=(e,n)=>{const o=n||{values:[]},r=e===o.values[o.values.length-1],a=!r&&e?[...o.values,e]:o.values;return a.length>no&&a.shift(),{index:o.values.length-Number(r),values:a}},Ye={displayResults:50,queryLimit:1e3,cacheLimit:1e3};class Gr{maxSize;map;constructor(){this.maxSize=Ye.cacheLimit,this.map=new Map}get(n){for(const[o,r]of this.map){const a=JSON.parse(o),s=a.start===n.start&&a.end===n.end,i=a.type===n.type,l=n.value&&a.value&&n.value.includes(a.value),c=a.match===n.match||l,d=r.length<Ye.queryLimit;if(c&&s&&i&&d)return r}return this.map.get(JSON.stringify(n))}put(n,o){if(this.map.size>=this.maxSize){const r=this.map.keys().next().value;r&&this.map.delete(r)}this.map.set(JSON.stringify(n),o)}}const fn=hr(),Kr={query:fn,queryHistory:fn.map(e=>({index:0,values:[e]})),autocomplete:pe("AUTOCOMPLETE")||!1,autocompleteQuick:!1,autocompleteCache:new Gr,metricsQLFunctions:[]};function Zr(e,n){switch(n.type){case"SET_QUERY":return{...e,query:n.payload.map(o=>o)};case"SET_QUERY_HISTORY":return Yr(n.payload.key,n.payload.history),{...e,queryHistory:n.payload.history};case"SET_QUERY_HISTORY_BY_INDEX":return e.queryHistory.splice(n.payload.queryNumber,1,n.payload.value),{...e,queryHistory:e.queryHistory};case"TOGGLE_AUTOCOMPLETE":return me("AUTOCOMPLETE",!e.autocomplete),{...e,autocomplete:!e.autocomplete};case"SET_AUTOCOMPLETE_QUICK":return{...e,autocompleteQuick:n.payload};case"SET_AUTOCOMPLETE_CACHE":return e.autocompleteCache.put(n.payload.key,n.payload.value),{...e};default:throw new Error}}const Xt=Ge({}),ut=()=>ve(Xt).state,en=()=>ve(Xt).dispatch,Qr=({children:e})=>{const[n,o]=lt(Zr,Kr),r=E(()=>({state:n,dispatch:o}),[n,o]);return t(Xt.Provider,{value:r,children:e})},Jr={markdownParsing:pe("LOGS_MARKDOWN")==="true",ansiParsing:pe("LOGS_ANSI")==="true",autocompleteCache:new Map};function Xr(e,n){switch(n.type){case"SET_MARKDOWN_PARSING":return me("LOGS_MARKDOWN",`${n.payload}`),{...e,markdownParsing:n.payload};case"SET_ANSI_PARSING":return me("LOGS_ANSI",`${n.payload}`),{...e,ansiParsing:n.payload};case"SET_AUTOCOMPLETE_CACHE":{if(e.autocompleteCache.size>=Ye.cacheLimit){const o=e.autocompleteCache.keys().next().value;o&&e.autocompleteCache.delete(o)}return e.autocompleteCache.set(n.payload.key,n.payload.value),{...e,autocompleteCache:e.autocompleteCache}}default:throw new Error}}const tn=Ge({}),nn=()=>ve(tn).state,uo=()=>ve(tn).dispatch,ea=({children:e})=>{const[n,o]=lt(Xr,Jr),r=E(()=>({state:n,dispatch:o}),[n,o]);return t(tn.Provider,{value:r,children:e})},ta=()=>t("svg",{viewBox:"0 0 85 38",fill:"currentColor",children:[t("path",{d:"M11.12 10.48c.36.28.8.43 1.26.43h.05c.48 0 .96-.19 1.25-.44 1.5-1.28 5.88-5.29 5.88-5.29 1.17-1.09-2.1-2.17-7.13-2.18h-.06c-5.04 0-8.3 1.1-7.13 2.18 0 0 4.37 4 5.88 5.3Zm2.56 2.16c-.36.28-.8.44-1.26.45h-.04c-.46 0-.9-.17-1.26-.45-1.04-.88-4.74-4.22-6.12-5.5v1.94c0 .21.08.5.22.63l.07.06c1.05.96 4.55 4.16 5.83 5.25.36.28.8.43 1.26.44h.04c.49-.02.96-.2 1.26-.44 1.3-1.11 4.94-4.45 5.88-5.31.15-.14.23-.42.23-.63V7.15a455.13 455.13 0 0 1-6.11 5.5Zm-1.26 4.99c.46 0 .9-.16 1.26-.44 2.05-1.82 4.09-3.65 6.1-5.5v1.94c0 .2-.07.48-.22.62-.94.87-4.57 4.2-5.88 5.3-.3.26-.77.44-1.26.45h-.04c-.46 0-.9-.16-1.26-.44-1.2-1.02-4.38-3.92-5.62-5.06l-.28-.25c-.14-.14-.22-.42-.22-.62v-1.94c1.38 1.26 5.08 4.6 6.12 5.5.36.28.8.43 1.26.44h.04ZM40 5l-5.84 14.46h-2.43L25.89 5h2.16a.9.9 0 0 1 .9.61l3.41 8.82a18.8 18.8 0 0 1 .62 2.02 19.44 19.44 0 0 1 .57-2.02l3.39-8.82c.05-.15.16-.3.31-.42a.9.9 0 0 1 .58-.19H40Zm17.18 0v14.46H54.8v-9.34c0-.37.02-.78.06-1.21l-4.37 8.21c-.21.4-.53.59-.95.59h-.38c-.43 0-.75-.2-.95-.59L43.8 8.88a22.96 22.96 0 0 1 .07 1.24v9.34H41.5V5h2.03l.3.01c.1 0 .17.02.24.05.07.03.13.07.19.13a1 1 0 0 1 .17.24l4.33 8.03a16.97 16.97 0 0 1 .6 1.36 14.34 14.34 0 0 1 .6-1.38l4.28-8.01c.05-.1.1-.18.17-.24.06-.06.12-.1.19-.13a.9.9 0 0 1 .24-.05l.3-.01h2.04Zm8.88 13.73a4.5 4.5 0 0 0 1.82-.35 3.96 3.96 0 0 0 2.22-2.47c.2-.57.3-1.19.3-1.85V5.31h1.02v8.75c0 .78-.12 1.51-.37 2.19a4.88 4.88 0 0 1-2.76 2.95c-.66.29-1.4.43-2.23.43-.82 0-1.57-.14-2.24-.43a5.01 5.01 0 0 1-2.75-2.95 6.37 6.37 0 0 1-.37-2.19V5.31h1.03v8.74c0 .66.1 1.28.3 1.85a3.98 3.98 0 0 0 2.21 2.47c.53.24 1.14.36 1.82.36Zm10.38.73h-1.03V5.31h1.03v14.15ZM1.73 36v-5.17l-.67-.07a.6.6 0 0 1-.21-.1.23.23 0 0 1-.08-.18v-.44h.96v-.59c0-.34.05-.65.14-.92a1.79 1.79 0 0 1 1.08-1.11 2.45 2.45 0 0 1 1.62-.02l-.03.53c0 .1-.06.15-.16.16H4c-.18 0-.35.03-.5.08a.95.95 0 0 0-.39.23c-.1.11-.19.25-.25.43-.05.18-.08.4-.08.65v.56h1.75v.78H2.8V36H1.73Zm6.17-6.17c.45 0 .85.07 1.2.22a2.57 2.57 0 0 1 1.5 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.86-.07-1.22-.21a2.57 2.57 0 0 1-1.5-1.62c-.12-.38-.19-.81-.19-1.3 0-.47.07-.9.2-1.28a2.57 2.57 0 0 1 1.5-1.62c.35-.15.76-.22 1.2-.22Zm0 5.42c.6 0 1.05-.2 1.35-.6.3-.4.44-.97.44-1.69s-.15-1.28-.44-1.69c-.3-.4-.75-.6-1.35-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.33.73-.08.28-.11.6-.11.96 0 .72.15 1.29.44 1.69.3.4.76.6 1.36.6Zm5.26-4.11c.2-.42.43-.74.71-.97.28-.24.62-.36 1.03-.36.13 0 .25.02.36.05.12.02.23.07.32.13l-.08.8c-.02.1-.08.15-.18.15l-.24-.04a1.7 1.7 0 0 0-.88.05c-.15.05-.29.14-.4.25-.12.1-.23.24-.32.4-.1.17-.18.35-.26.56V36h-1.07v-6.08h.61c.12 0 .2.02.24.07.05.04.08.12.1.23l.06.92Zm13.73-3.82L23.39 36h-1.46l-3.5-8.68h1.29a.54.54 0 0 1 .54.37l2.04 5.3a11.31 11.31 0 0 1 .37 1.21 11.65 11.65 0 0 1 .35-1.22l2.03-5.29c.03-.1.1-.18.19-.25.1-.08.21-.12.35-.12h1.3Zm2.2 2.52V36H27.6v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.08.36a1 1 0 0 1-.51.5.96.96 0 0 1-.73 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .37.08c.12.05.22.11.3.2a.94.94 0 0 1 .3.67Zm5.72 3.1a.68.68 0 0 1-.13.13c-.04.03-.1.05-.18.05a.42.42 0 0 1-.22-.07 3.95 3.95 0 0 0-.62-.31c-.14-.05-.3-.07-.51-.07-.26 0-.5.04-.69.14-.2.1-.36.23-.49.4-.13.18-.22.4-.29.64-.06.25-.1.53-.1.85 0 .33.04.62.1.88.08.25.18.47.32.64.13.18.29.3.48.4.18.09.4.13.63.13a1.6 1.6 0 0 0 .94-.27l.26-.2a.4.4 0 0 1 .25-.09.3.3 0 0 1 .27.14l.43.54a2.76 2.76 0 0 1-1.77.96c-.22.03-.43.05-.65.05a2.57 2.57 0 0 1-1.96-.83c-.25-.28-.45-.6-.6-1-.14-.4-.21-.85-.21-1.35 0-.45.06-.87.2-1.25a2.61 2.61 0 0 1 1.51-1.67c.37-.16.8-.24 1.28-.24.46 0 .86.07 1.2.22.35.15.66.36.94.64l-.4.54Zm3.43 4.95c-.54 0-.95-.15-1.24-.45-.28-.3-.42-.73-.42-1.26v-3.44h-.63a.29.29 0 0 1-.2-.07c-.06-.06-.09-.13-.09-.24v-.59l.99-.16.31-1.68a.33.33 0 0 1 .12-.18.34.34 0 0 1 .21-.07h.77v1.94h1.64v1.05h-1.64v3.34c0 .2.05.34.14.45.1.1.22.16.39.16a.73.73 0 0 0 .39-.1l.12-.07a.2.2 0 0 1 .11-.03c.05 0 .08.01.11.03l.09.1.44.72c-.21.18-.46.32-.74.4-.28.1-.57.15-.87.15Zm5.09-6.35c.46 0 .87.07 1.24.22a2.7 2.7 0 0 1 1.58 1.63c.14.39.22.83.22 1.31 0 .49-.08.93-.22 1.32-.14.4-.35.73-.62 1-.26.28-.58.49-.96.64-.37.15-.78.22-1.24.22a3.4 3.4 0 0 1-1.25-.22 2.71 2.71 0 0 1-1.59-1.64 3.8 3.8 0 0 1-.21-1.32c0-.48.07-.92.21-1.31a2.75 2.75 0 0 1 1.58-1.63c.38-.15.8-.22 1.26-.22Zm0 5.2c.51 0 .89-.17 1.13-.52.25-.34.38-.84.38-1.5a2.6 2.6 0 0 0-.38-1.53c-.24-.34-.62-.52-1.13-.52-.52 0-.9.18-1.16.53-.25.35-.37.85-.37 1.51s.12 1.17.37 1.51c.25.35.64.52 1.16.52Zm5.56-4.04c.2-.37.42-.65.69-.86.26-.21.57-.32.94-.32.28 0 .5.06.68.19l-.1 1.1a.3.3 0 0 1-.09.16.24.24 0 0 1-.15.04 1.8 1.8 0 0 1-.27-.03 2.01 2.01 0 0 0-.34-.03c-.16 0-.3.03-.44.08a1.1 1.1 0 0 0-.34.2c-.1.1-.2.2-.27.33-.08.13-.15.27-.22.44V36H47.7v-6.16h.87c.15 0 .26.03.31.09.06.05.1.15.13.29l.09.7Zm4.62-1.07V36h-1.49v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.07.36a1 1 0 0 1-.51.5.96.96 0 0 1-.74 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .38.08c.11.05.21.11.3.2a.94.94 0 0 1 .28.67Zm4.56 5.32a7.8 7.8 0 0 0-1.08.12c-.29.05-.52.12-.7.2a.92.92 0 0 0-.38.3.64.64 0 0 0-.11.36c0 .26.07.45.23.56.15.11.35.17.6.17.3 0 .57-.06.79-.17.22-.1.44-.28.65-.5v-1.04Zm-3.4-2.67c.71-.65 1.57-.97 2.56-.97.36 0 .68.06.97.18a1.99 1.99 0 0 1 1.16 1.24c.1.3.16.61.16.96V36h-.67a.7.7 0 0 1-.33-.06c-.07-.04-.13-.13-.18-.26l-.13-.44c-.16.14-.3.26-.46.37a2.8 2.8 0 0 1-.97.43 2.77 2.77 0 0 1-1.32-.05 1.62 1.62 0 0 1-.57-.31 1.41 1.41 0 0 1-.38-.53 1.85 1.85 0 0 1-.05-1.18c.05-.16.14-.3.25-.45.12-.14.28-.27.46-.4a3 3 0 0 1 .7-.32 9.19 9.19 0 0 1 2.2-.33v-.36c0-.41-.09-.71-.26-.91-.18-.2-.43-.3-.76-.3a1.84 1.84 0 0 0-1.02.28l-.33.18c-.1.06-.2.09-.32.09-.1 0-.2-.03-.27-.08a.72.72 0 0 1-.17-.2l-.26-.47Zm11.49 4.32V36h-4.88v-8.6h1.16v7.62h3.72Zm3.16-5.2c.44 0 .84.08 1.2.23a2.57 2.57 0 0 1 1.49 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.85-.07-1.21-.21a2.57 2.57 0 0 1-1.5-1.62c-.13-.38-.2-.81-.2-1.3 0-.47.07-.9.2-1.28.14-.39.33-.72.59-1 .25-.26.55-.47.9-.62.37-.15.77-.22 1.22-.22Zm0 5.43c.6 0 1.05-.2 1.34-.6.3-.4.45-.97.45-1.69s-.15-1.28-.45-1.69c-.3-.4-.74-.6-1.34-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.34.73-.07.28-.1.6-.1.96 0 .72.14 1.29.44 1.69.3.4.75.6 1.36.6Zm6.33-2.22c.22 0 .4-.03.57-.09.16-.06.3-.14.41-.25.12-.11.2-.24.26-.39.05-.15.08-.31.08-.5 0-.37-.11-.66-.34-.88-.23-.22-.55-.33-.98-.33-.43 0-.76.1-.99.33-.22.22-.34.51-.34.89 0 .18.03.34.09.5a1.1 1.1 0 0 0 .67.63c.16.06.35.09.57.09Zm1.93 3.3a.51.51 0 0 0-.13-.36.84.84 0 0 0-.34-.22 8.57 8.57 0 0 0-1.73-.2 7.5 7.5 0 0 1-.62-.05c-.23.1-.41.23-.56.4a.8.8 0 0 0-.1.92c.07.12.18.22.32.3.14.1.32.16.54.21a3.5 3.5 0 0 0 1.55 0c.23-.05.42-.12.57-.22.16-.1.29-.21.37-.34a.8.8 0 0 0 .13-.44Zm1.08-6.17v.4c0 .13-.08.21-.25.25l-.69.09c.14.26.2.56.2.88a1.86 1.86 0 0 1-1.36 1.82 3.07 3.07 0 0 1-1.72.04c-.12.08-.22.16-.29.25a.44.44 0 0 0-.1.27c0 .15.06.26.17.33.12.08.28.13.47.16a5 5 0 0 0 .66.06 16.56 16.56 0 0 1 1.5.13c.26.05.48.12.67.22.19.1.34.24.46.41.12.18.18.4.18.69 0 .26-.07.5-.2.75s-.31.46-.56.65c-.24.2-.54.34-.9.46a4.57 4.57 0 0 1-2.36.04c-.33-.09-.6-.2-.82-.36a1.56 1.56 0 0 1-.5-.51c-.1-.2-.16-.4-.16-.6 0-.3.1-.56.28-.77.19-.2.45-.37.77-.5a1.15 1.15 0 0 1-.43-.32.88.88 0 0 1-.15-.54c0-.09.01-.18.04-.27.04-.1.08-.2.15-.28a1.55 1.55 0 0 1 .58-.5c-.3-.16-.53-.39-.7-.66-.17-.28-.25-.6-.25-.97 0-.3.05-.57.16-.8.12-.25.28-.46.48-.63.2-.17.45-.3.73-.4a3 3 0 0 1 2.3.21h1.64Zm4.65.76a.24.24 0 0 1-.23.14.42.42 0 0 1-.2-.07 3.59 3.59 0 0 0-.67-.3 1.8 1.8 0 0 0-1.03 0c-.14.05-.27.11-.37.2a.87.87 0 0 0-.23.27.75.75 0 0 0-.08.35c0 .15.04.28.13.39.1.1.21.19.36.27.15.07.32.14.5.2a13.63 13.63 0 0 1 1.16.4c.2.08.36.18.5.3a1.33 1.33 0 0 1 .5 1.07 2 2 0 0 1-.15.78c-.1.24-.25.44-.45.62-.2.17-.43.3-.72.4a3.1 3.1 0 0 1-2.14-.05 2.97 2.97 0 0 1-.87-.53l.25-.41c.04-.05.07-.1.12-.12a.3.3 0 0 1 .17-.04.4.4 0 0 1 .22.08l.3.19a1.91 1.91 0 0 0 1.03.27c.2 0 .38-.03.54-.08.16-.06.29-.13.4-.22a.96.96 0 0 0 .3-.7c0-.17-.05-.31-.14-.42-.09-.11-.2-.2-.36-.28a2.6 2.6 0 0 0-.5-.2l-.59-.19c-.2-.06-.39-.14-.58-.22a2.14 2.14 0 0 1-.5-.3 1.45 1.45 0 0 1-.36-.46c-.1-.19-.14-.41-.14-.67a1.6 1.6 0 0 1 .57-1.23c.18-.16.4-.3.68-.39.26-.1.57-.14.91-.14a2.84 2.84 0 0 1 1.9.7l-.23.4Z"}),t("defs",{children:t("path",{d:"M0 0h85v38H0z"})})]}),na=()=>t("svg",{viewBox:"0 0 15 17",fill:"currentColor",children:t("path",{d:"M6.11767 7.47586C6.47736 7.75563 6.91931 7.90898 7.37503 7.91213H7.42681C7.90756 7.90474 8.38832 7.71987 8.67677 7.46846C10.1856 6.18921 14.5568 2.18138 14.5568 2.18138C15.7254 1.09438 12.4637 0.00739 7.42681 0H7.36764C2.3308 0.00739 -0.930935 1.09438 0.237669 2.18138C0.237669 2.18138 4.60884 6.18921 6.11767 7.47586ZM8.67677 9.64243C8.31803 9.92483 7.87599 10.0808 7.41941 10.0861H7.37503C6.91845 10.0808 6.47641 9.92483 6.11767 9.64243C5.0822 8.75513 1.38409 5.42018 0.000989555 4.14832V6.07829C0.000989555 6.29273 0.0823481 6.57372 0.222877 6.70682L0.293316 6.7712L0.293344 6.77122C1.33784 7.72579 4.83903 10.9255 6.11767 12.0161C6.47641 12.2985 6.91845 12.4545 7.37503 12.4597H7.41941C7.90756 12.4449 8.38092 12.2601 8.67677 12.0161C9.9859 10.9069 13.6249 7.57198 14.5642 6.70682C14.7121 6.57372 14.7861 6.29273 14.7861 6.07829V4.14832C12.7662 5.99804 10.7297 7.82949 8.67677 9.64243ZM7.41941 14.6263C7.87513 14.6232 8.31708 14.4698 8.67677 14.19C10.7298 12.3746 12.7663 10.5407 14.7861 8.68853V10.6259C14.7861 10.8329 14.7121 11.1139 14.5642 11.247C13.6249 12.1196 9.9859 15.4471 8.67677 16.5563C8.38092 16.8077 7.90756 16.9926 7.41941 17H7.37503C6.91931 16.9968 6.47736 16.8435 6.11767 16.5637C4.91427 15.5373 1.74219 12.6364 0.502294 11.5025C0.393358 11.4029 0.299337 11.3169 0.222877 11.247C0.0823481 11.1139 0.000989555 10.8329 0.000989555 10.6259V8.68853C1.38409 9.95303 5.0822 13.2953 6.11767 14.1827C6.47641 14.4651 6.91845 14.6211 7.37503 14.6263H7.41941Z"})}),Ie=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),Qe=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),ot=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"})}),mo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),ho=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),oa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),ra=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),po=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})}),le=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),Oe=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"m7 10 5 5 5-5z"})}),zt=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[t("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),aa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"})}),sa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})}),_o=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M8 5v14l11-7z"})}),go=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),ia=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"})}),fo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),vo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),on=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M8.9999 14.7854L18.8928 4.8925C19.0803 4.70497 19.3347 4.59961 19.5999 4.59961C19.8651 4.59961 20.1195 4.70497 20.307 4.8925L21.707 6.2925C22.0975 6.68303 22.0975 7.31619 21.707 7.70672L9.70701 19.7067C9.31648 20.0972 8.68332 20.0972 8.2928 19.7067L2.6928 14.1067C2.50526 13.9192 2.3999 13.6648 2.3999 13.3996C2.3999 13.1344 2.50526 12.88 2.6928 12.6925L4.0928 11.2925C4.48332 10.902 5.11648 10.902 5.50701 11.2925L8.9999 14.7854Z"})}),je=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),rn=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}),De=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),bo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5C19.89 4.65 18.67 4.5 17.5 4.5C15.55 4.5 13.45 4.9 12 6C10.55 4.9 8.45 4.5 6.5 4.5C5.33 4.5 4.11 4.65 3 5C2.25 5.25 1.6 5.55 1 6V20.6C1 20.85 1.25 21.1 1.5 21.1C1.6 21.1 1.65 21.1 1.75 21.05C3.15 20.3 4.85 20 6.5 20C8.2 20 10.65 20.65 12 21.5C13.35 20.65 15.8 20 17.5 20C19.15 20 20.85 20.3 22.25 21.05C22.35 21.1 22.4 21.1 22.5 21.1C22.75 21.1 23 20.85 23 20.6V6C22.4 5.55 21.75 5.25 21 5ZM21 18.5C19.9 18.15 18.7 18 17.5 18C15.8 18 13.35 18.65 12 19.5C10.65 18.65 8.2 18 6.5 18C5.3 18 4.1 18.15 3 18.5V7C4.1 6.65 5.3 6.5 6.5 6.5C8.2 6.5 10.65 7.15 12 8C13.35 7.15 15.8 6.5 17.5 6.5C18.7 6.5 19.9 6.65 21 7V18.5Z"}),t("path",{d:"M17.5 10.5C18.38 10.5 19.23 10.59 20 10.76V9.24C19.21 9.09 18.36 9 17.5 9C15.8 9 14.26 9.29 13 9.83V11.49C14.13 10.85 15.7 10.5 17.5 10.5ZM13 12.49V14.15C14.13 13.51 15.7 13.16 17.5 13.16C18.38 13.16 19.23 13.25 20 13.42V11.9C19.21 11.75 18.36 11.66 17.5 11.66C15.8 11.66 14.26 11.96 13 12.49ZM17.5 14.33C15.8 14.33 14.26 14.62 13 15.16V16.82C14.13 16.18 15.7 15.83 17.5 15.83C18.38 15.83 19.23 15.92 20 16.09V14.57C19.21 14.41 18.36 14.33 17.5 14.33Z"}),t("path",{d:"M6.5 10.5C5.62 10.5 4.77 10.59 4 10.76V9.24C4.79 9.09 5.64 9 6.5 9C8.2 9 9.74 9.29 11 9.83V11.49C9.87 10.85 8.3 10.5 6.5 10.5ZM11 12.49V14.15C9.87 13.51 8.3 13.16 6.5 13.16C5.62 13.16 4.77 13.25 4 13.42V11.9C4.79 11.75 5.64 11.66 6.5 11.66C8.2 11.66 9.74 11.96 11 12.49ZM6.5 14.33C8.2 14.33 9.74 14.62 11 15.16V16.82C9.87 16.18 8.3 15.83 6.5 15.83C5.62 15.83 4.77 15.92 4 16.09V14.57C4.79 14.41 5.64 14.33 6.5 14.33Z"})]}),la=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})}),ca=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 10.8792 13.4202 11.3236 12.7704 11.8217C11.9421 12.4566 11 13.1787 11 15H13C13 13.9046 13.711 13.2833 14.4408 12.6455C15.21 11.9733 16 11.2829 16 10C16 7.79 14.21 6 12 6ZM13 16V18H11V16H13Z"})}),Rt=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2zm4 1H4V5h2v2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2z"})}),da=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),ua=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"})}),ma=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})}),ha=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),vn=()=>t("svg",{viewBox:"0 0 16 16",fill:_e("color-error"),children:t("path",{d:"M13.5095 4L8.50952 1H7.50952L2.50952 4L2.01953 4.85999V10.86L2.50952 11.71L7.50952 14.71H8.50952L13.5095 11.71L13.9995 10.86V4.85999L13.5095 4ZM7.50952 13.5601L3.00952 10.86V5.69995L7.50952 8.15002V13.5601ZM3.26953 4.69995L8.00952 1.85999L12.7495 4.69995L8.00952 7.29004L3.26953 4.69995ZM13.0095 10.86L8.50952 13.5601V8.15002L13.0095 5.69995V10.86Z"})}),Ft=()=>t("svg",{viewBox:"0 0 16 16",fill:_e("color-primary"),children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5H4V4H1.5L1 4.5V12.5L1.5 13H4V12H2V5ZM14.5 4H12V5H14V12H12V13H14.5L15 12.5V4.5L14.5 4ZM11.76 6.56995L12 7V9.51001L11.7 9.95996L7.19995 11.96H6.73999L4.23999 10.46L4 10.03V7.53003L4.30005 7.06995L8.80005 5.06995H9.26001L11.76 6.56995ZM5 9.70996L6.5 10.61V9.28003L5 8.38V9.70996ZM5.57996 7.56006L7.03003 8.43005L10.42 6.93005L8.96997 6.06006L5.57996 7.56006ZM7.53003 10.73L11.03 9.17004V7.77002L7.53003 9.31995V10.73Z"})}),pa=()=>t("svg",{viewBox:"0 0 16 16",fill:_e("color-warning"),children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H8L7 3V6H8V3H14V8H10V9H14L15 8V3L14 2ZM9 6H13V7H9.41L9 6.59V6ZM7 7H2L1 8V13L2 14H8L9 13V8L8 7H7ZM8 13H2V8H8V9V13ZM3 9H7V10H3V9ZM3 11H7V12H3V11ZM9 4H13V5H9V4Z"})}),bn=()=>t("svg",{viewBox:"0 0 16 16",fill:_e("color-primary"),children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3L8 2H14L15 3V8L14 9H10V8H14V3H8V6H7V3ZM9 9V8L8 7H7H2L1 8V13L2 14H8L9 13V9ZM8 8V9V13H2V8H7H8ZM9.41421 7L9 6.58579V6H13V7H9.41421ZM9 4H13V5H9V4ZM7 10H3V11H7V10Z"})}),_a=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),ga=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})}),fa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})}),va=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})}),ba=()=>t("svg",{viewBox:"0 0 24 24",children:t("path",{fill:"currentColor",d:"M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z",children:t("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})})}),yo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})}),wo=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"})}),ya=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),wa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M8 12l4-4 4 4m-4-4v12",strokeWidth:"2",stroke:"currentColor",fill:"none"})}),ka=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[t("path",{d:"M4 3 L4 15 L1.5 15 L5.5 21 L9.5 15 L7 15 L7 3 Z"}),t("path",{d:"M13 21 L13 9 L10.5 9 L14.5 3 L18.5 9 L16 9 L16 21 Z"})]}),Ca=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M10.5 3 L10.5 15 L8 15 L12 21 L16 15 L13.5 15 L13.5 3 Z"})}),xa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M10.5 21 L10.5 9 L8 9 L12 3 L16 9 L13.5 9 L13.5 21 Z"})}),Sa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})}),Aa=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})}),La=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"})}),Na=()=>t("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:t("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})}),ko={windows:"Windows",mac:"Mac OS",linux:"Linux"},Ia=()=>Object.values(ko).find(e=>navigator.userAgent.indexOf(e)>=0)||"unknown",an=()=>Ia()===ko.mac,Ea=()=>["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"].map(o=>navigator.userAgent.match(new RegExp(o,"i"))).some(o=>o);function ee(e,n,o,r){const a=D(n);I(()=>{a.current=n},[n]),I(()=>{const s=o?.current??window;if(!(s&&s.addEventListener))return;const i=l=>a.current(l);return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,o,r])}const Je=()=>{const[e,n]=L({width:0,height:0}),o=()=>{n({width:window.innerWidth,height:window.innerHeight})};return ee("resize",o),I(o,[]),e};function W(){const e=Je(),n=()=>{const a=Ea(),s=window.innerWidth<500;return a||s},[o,r]=L(n());return I(()=>{r(n())},[e]),{isMobile:o}}const Ta={success:t(ra,{}),error:t(oa,{}),warning:t(ho,{}),info:t(mo,{})},Ee=({variant:e,children:n})=>{const{isDarkTheme:o}=ne(),{isMobile:r}=W();return t("div",{className:M({"vm-alert":!0,[`vm-alert_${e}`]:e,"vm-alert_dark":o,"vm-alert_mobile":r}),children:[t("div",{className:"vm-alert__icon",children:Ta[e||"info"]}),t("div",{className:"vm-alert__content",children:n})]})},Co=Ge({showInfoMessage:()=>{}}),Ma=()=>ve(Co),Pa=({children:e})=>{const{isMobile:n}=W(),[o,r]=L({text:"",type:"info"}),[a,s]=L(!1),[i,l]=L(null);I(()=>{if(!i)return;r({...i,key:Date.now()}),s(!0);const d=setTimeout(c,i.timeout||4e3);return()=>clearTimeout(d)},[i]);const c=()=>{l(null),s(!1)};return t(Co.Provider,{value:{showInfoMessage:l},children:[a&&t("div",{className:M({"vm-snackbar":!0,"vm-snackbar_mobile":n}),children:t(Ee,{variant:o.type,children:t("div",{className:"vm-snackbar-content",children:[t("span",{children:o.text}),t("div",{className:"vm-snackbar-content__close",onClick:c,children:t(Qe,{})})]})})}),e]})},Oa=(...e)=>e.reduce((n,o)=>({children:r})=>t(n,{children:t(o,{children:r})}),({children:n})=>t(j,{children:n})),Da=[yr,$r,Qr,Pa,ea],za=Oa(...Da),xo=e=>{if(e.length!=7)return"0, 0, 0";const n=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return`${n}, ${o}, ${r}`},Ra={[ce.yhatUpper]:"#7126a1",[ce.yhatLower]:"#7126a1",[ce.yhat]:"#da42a6",[ce.anomaly]:"#da4242",[ce.anomalyScore]:"#7126a1",[ce.actual]:"#203ea9",[ce.training]:`rgba(${xo("#203ea9")}, 0.2)`},Fa=e=>{let n=e.replace("#","").trim();if(n.length===3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),n.length!==6)throw new Error("Invalid HEX color.");const o=parseInt(n.slice(0,2),16),r=parseInt(n.slice(2,4),16),a=parseInt(n.slice(4,6),16);return(o*299+r*587+a*114)/1e3>=128?"#000000":"#FFFFFF"},mt=()=>{const e=document.getElementById("root")?.dataset.params||"{}";try{return JSON.parse(e)}catch(n){return console.error(n),{}}},be=()=>!!Object.keys(mt()).length,yt={"color-primary":"#589DF6","color-secondary":"#316eca","color-error":"#e5534b","color-warning":"#c69026","color-info":"#539bf5","color-success":"#57ab5a","color-background-body":"#22272e","color-background-block":"#2d333b","color-background-tooltip":"rgba(22, 22, 22, 0.8)","color-text":"#cdd9e5","color-text-secondary":"#768390","color-text-disabled":"#636e7b","box-shadow":"rgba(0, 0, 0, 0.16) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.2) 0px 2px 8px 0px","border-divider":"1px solid rgba(99, 110, 123, 0.5)","color-hover-black":"rgba(0, 0, 0, 0.2)","color-log-hits-bar-0":"rgba(255, 255, 255, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},wt={"color-primary":"#3F51B5","color-secondary":"#E91E63","color-error":"#FD080E","color-warning":"#FF8308","color-info":"#03A9F4","color-success":"#4CAF50","color-background-body":"#FEFEFF","color-background-block":"#FFFFFF","color-background-tooltip":"rgba(80,80,80,0.9)","color-text":"#110f0f","color-text-secondary":"#706F6F","color-text-disabled":"#A09F9F","box-shadow":"rgba(0, 0, 0, 0.08) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.1) 0px 2px 8px 0px","border-divider":"1px solid rgba(0, 0, 0, 0.15)","color-hover-black":"rgba(0, 0, 0, 0.06)","color-log-hits-bar-0":"rgba(0, 0, 0, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},Ha=()=>{const[e,n]=L(rt()),o=r=>{n(r.matches)};return I(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[]),e},kt=["primary","secondary","error","warning","info","success"],Va=({onLoaded:e})=>{const n=be(),{palette:o={}}=mt(),{theme:r}=ne(),a=Ha(),s=ao(),i=Je(),[l,c]=L({[ie.dark]:yt,[ie.light]:wt,[ie.system]:rt()?yt:wt}),d=()=>{const{innerWidth:p,innerHeight:v}=window,{clientWidth:f,clientHeight:g}=document.documentElement;ze("scrollbar-width",`${p-f}px`),ze("scrollbar-height",`${v-g}px`),ze("vh",`${v*.01}px`)},u=()=>{kt.forEach((p,v)=>{const f=_e(`color-${p}`),g=Fa(f);ze(`${p}-text`,g),v===kt.length-1&&(s({type:"SET_DARK_THEME"}),e(!0))})},m=()=>{kt.forEach(p=>{const v=o[p];v&&ze(`color-${p}`,v)}),u()},h=()=>{const p=pe("THEME")||ie.system,v=l[p];Object.entries(v).forEach(([f,g])=>{ze(f,g)}),u(),n&&m()},_=()=>{const p=rt()?yt:wt;if(l[ie.system]===p){h();return}c(v=>({...v,[ie.system]:p}))};return I(()=>{d(),h()},[l]),I(d,[i]),I(_,[r,a]),I(()=>{n&&s({type:"SET_THEME",payload:ie.light})},[]),null},Ba=({to:e,isNavLink:n,children:o,...r})=>n?t(Qn,{to:e,...r,children:o}):t("div",{...r,children:o}),$a=({activeItem:e,item:n,color:o=_e("color-primary"),activeNavRef:r,onChange:a,isNavLink:s})=>{const i=l=>()=>{a&&a(l)};return t(Ba,{className:M({"vm-tabs-item":!0,"vm-tabs-item_active":e===n.value,[n.className||""]:n.className}),isNavLink:s,to:n.value,style:{color:o},onClick:i(n.value),ref:e===n.value?r:void 0,children:[n.icon&&t("div",{className:M({"vm-tabs-item__icon":!0,"vm-tabs-item__icon_single":!n.label}),children:n.icon}),n.label]})},So=({activeItem:e,items:n,color:o=_e("color-primary"),onChange:r,indicatorPlacement:a="bottom",isNavLink:s})=>{const i=Je(),l=D(null),[c,d]=L({left:0,width:0,bottom:0});return I(()=>{if(l.current?.base instanceof HTMLElement){const{offsetLeft:u,offsetWidth:m,offsetHeight:h}=l.current.base;d({left:u,width:m,bottom:a==="top"?h-2:0})}},[i,e,l,n]),t("div",{className:"vm-tabs",children:[n.map(u=>t($a,{activeItem:e,item:u,onChange:r,color:o,activeNavRef:l,isNavLink:s},u.value)),t("div",{className:"vm-tabs__indicator",style:{...c,borderColor:o}})]})},re=(e,n)=>{const[o]=J(),r=o.get(n)?o.get(n):e,[a,s]=L(r);return I(()=>{r!==a&&s(r)},[r]),[a,s]},ht=()=>{const e=ct(),[n,o]=J();return{setSearchParamsFromKeys:F(a=>{const s=!!Array.from(n.values()).length;let i=!1;Object.entries(a).forEach(([l,c])=>{n.get(l)!==`${c}`&&(n.set(l,`${c}`),i=!0)}),i&&(s?o(n):e(`?${n.toString()}`,{replace:!0}))},[n,e])}},sn=()=>t("div",{className:"vm-line-loader",children:[t("div",{className:"vm-line-loader__background"}),t("div",{className:"vm-line-loader__line"})]}),Ao=({defaultExpanded:e=!1,onChange:n,title:o,children:r})=>{const[a,s]=L(e),i=()=>{const l=window.getSelection();l&&l.toString()||s(c=>{const d=!c;return n&&n(d),d})};return I(()=>{s(e)},[e]),t(j,{children:[t("header",{className:`vm-accordion-header ${a&&"vm-accordion-header_open"}`,onClick:i,children:[o,t("div",{className:`vm-accordion-header__arrow ${a&&"vm-accordion-header__arrow_open"}`,children:t(le,{})})]}),a&&t("section",{className:"vm-accordion-section",children:r},"content")]})},Lo=(e,n)=>e.length===n.length&&e.every((o,r)=>o===n[r]);function Ua(e,n){const o=e.reduce((r,a)=>{const s=n.map(i=>`${String(i)}: ${a[i]||"-"}`).join("|");return(r[s]=r[s]||[]).push(a),r},{});return Object.entries(o).map(([r,a])=>({keys:r.split("|"),values:a}))}const Ya=e=>e.length<2?!1:e.every((n,o)=>o===0||n<e[o-1]),Y=({children:e,title:n,open:o,placement:r="bottom-center",offset:a={top:6,left:0}})=>{const{isMobile:s}=W(),[i,l]=L(!1),[c,d]=L({width:0,height:0}),u=D(null),m=D(null),h=()=>l(!1);I(()=>{if(!(!m.current||!i))return d({width:m.current.clientWidth,height:m.current.clientHeight}),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[i,n]);const _=E(()=>{const f=u?.current?.base;if(!f||!i)return{};const g=f.getBoundingClientRect(),b={top:0,left:0},w=r==="bottom-right"||r==="top-right",x=r==="bottom-left"||r==="top-left",S=r?.includes("top"),y=a?.top||0,k=a?.left||0;b.left=g.left-(c.width-g.width)/2+k,b.top=g.height+g.top+y,w&&(b.left=g.right-c.width),x&&(b.left=g.left+k),S&&(b.top=g.top-c.height-y);const{innerWidth:C,innerHeight:A}=window,N=20,T=b.top+c.height+N>A,P=b.top-N<0,B=b.left+c.width+N>C,O=b.left-N<0;return T&&(b.top=g.top-c.height-y),P&&(b.top=g.height+g.top+y),B&&(b.left=g.right-c.width-k),O&&(b.left=g.left+k),b.top<0&&(b.top=20),b.left<0&&(b.left=20),b},[u,r,i,c]),p=()=>{typeof o!="boolean"&&l(!0)},v=()=>{l(!1)};return I(()=>{typeof o=="boolean"&&l(o)},[o]),I(()=>{const f=u?.current?.base;if(f)return f.addEventListener("mouseenter",p),f.addEventListener("mouseleave",v),()=>{f.removeEventListener("mouseenter",p),f.removeEventListener("mouseleave",v)}},[u]),t(j,{children:[t(j,{ref:u,children:e}),!s&&i&&Te(t("div",{className:"vm-tooltip",ref:m,style:_,children:n}),document.body)]})},Z=e=>{const[n,o]=L(!1),r=F(()=>o(!0),[]),a=F(()=>o(!1),[]),s=F(()=>o(i=>!i),[]);return{value:n,setValue:o,setTrue:r,setFalse:a,toggle:s}},ja=()=>{const e={0:"#000000",1:"#AA0000",2:"#00AA00",3:"#AA5500",4:"#0000AA",5:"#AA00AA",6:"#00AAAA",7:"#AAAAAA",8:"#555555",9:"#FF5555",10:"#55FF55",11:"#FFFF55",12:"#5555FF",13:"#FF55FF",14:"#55FFFF",15:"#FFFFFF"};for(let n=0;n<6;n++)for(let o=0;o<6;o++)for(let r=0;r<6;r++){const a=16+n*36+o*6+r,s=n>0?n*40+55:0,i=o>0?o*40+55:0,l=r>0?r*40+55:0;e[a]=`rgb(${s},${i},${l})`}for(let n=0;n<24;n++){const o=232+n,r=8+n*10;e[o]=`rgb(${r},${r},${r})`}return e},qa=ja(),Be=e=>qa[e]||null,Wa="(?:\\u0007|\\u001B\\u005C|\\u009C)",Ga=[`[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?${Wa})`,"(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),yn=new RegExp(Ga,"g"),Ka=(e,n,o)=>{switch(n){case 0:return{color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null};case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return{...e,color:Be(n-30)};case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:return{...e,color:Be(8+(n-90))};case 38:return o.length>2&&o[1]===5?{...e,color:Be(o[2])}:e;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return{...e,backgroundColor:Be(n-40)};case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:return{...e,backgroundColor:Be(8+(n-100))};case 1:return{...e,fontWeight:"bold"};case 3:return{...e,fontStyle:"italic"};case 4:return{...e,textDecoration:"underline"};case 7:case 27:return{...e,color:e.backgroundColor,backgroundColor:e.color};case 22:return{...e,fontWeight:null};case 23:return{...e,fontStyle:null};case 24:return{...e,textDecoration:null};default:return e}},Za=e=>{let n=0;const o=[];let r={color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null},a;for(;(a=yn.exec(e))!==null;){const s=e.slice(n,a.index);s&&o.push(t("span",{style:{color:r.color||"inherit",fontWeight:r.fontWeight||"inherit",fontStyle:r.fontStyle||"inherit",textDecoration:r.textDecoration||"inherit",backgroundColor:r.backgroundColor||"inherit"},children:s},n));const i=a[0].match(/\d+/g)?.map(Number)||[];i.forEach(l=>{r=Ka(r,l,i)}),n=yn.lastIndex}return n<e.length&&o.push(t("span",{style:{color:r.color||"inherit",fontWeight:r.fontWeight||"inherit",fontStyle:r.fontStyle||"inherit",textDecoration:r.textDecoration||"inherit",backgroundColor:r.backgroundColor||"inherit"},children:e.slice(n)},n)),o},V=({variant:e="contained",color:n="primary",size:o="medium",ariaLabel:r,children:a,endIcon:s,startIcon:i,fullWidth:l=!1,className:c,disabled:d,onClick:u,onMouseDown:m,"data-id":h})=>{const _=M({"vm-button":!0,[`vm-button_${e}_${n}`]:!0,[`vm-button_${o}`]:o,"vm-button_icon_only":(i||s)&&!a,"vm-button_full-width":l,"vm-button_with-icons":i||s,[c||""]:c});return t("button",{className:_,disabled:d,"aria-label":r,onClick:u,onMouseDown:m,"data-id":h,children:[i,a,s]})},ye=()=>{const{showInfoMessage:e}=Ma();return async(n,o)=>{if(!navigator?.clipboard)return e({text:t(Qa,{}),type:"error",timeout:2e4}),!1;try{return await navigator.clipboard.writeText(n),o&&e({text:o,type:"success"}),!0}catch(r){return r instanceof Error&&e({text:`${r.name}: ${r.message}`,type:"error"}),console.warn("Copy failed",r),!1}}},Qa=()=>t("div",{className:"vm-snackbar-details",children:[t("p",{className:"vm-snackbar-details__title",children:"Clipboard not supported"}),window.isSecureContext?t("p",{className:"vm-snackbar-details__msg",children:[t("p",{children:"Common reasons:"}),t("ul",{children:[t("li",{children:"Browser restrictions"}),t("li",{children:"Insecure connection (HTTP)"}),t("li",{children:"Permissions not granted"})]}),t("p",{children:["For detailed information, visit the ",t("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API#security_considerations",target:"_blank",rel:"noopener noreferrer",children:"Clipboard API documentation"})]})]}):t("p",{className:"vm-snackbar-details__msg",children:[t("p",{children:"This page is not running in a secure context (HTTPS)."}),t("p",{children:"Clipboard operations require a secure context."}),t("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener noreferrer",children:"Learn more about secure contexts"})]})]}),Ja=({field:e,value:n,hideGroupButton:o})=>{const r=ye(),[a,s]=J(),[i,l]=L(!1),c=a.get(X.GROUP_BY)||oe,d=a.get(X.DISPLAY_FIELDS)||"",u=d?d.split(","):[],m=u.includes(e),h=c===e,_=F(async()=>{if(!i)try{await r(`${e}: ${JSON.stringify(n)}`),l(!0)}catch(f){console.error(f)}},[i,r]),p=()=>{const f=u,g=f.includes(e)?f.filter(b=>b!==e):[...f,e];a.set(X.DISPLAY_FIELDS,g.join(",")),s(a)},v=()=>{h?a.delete(X.GROUP_BY):a.set(X.GROUP_BY,e),s(a)};return I(()=>{if(i===null)return;const f=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(f)},[i]),t("tr",{className:"vm-group-logs-row-fields-item",children:[t("td",{className:"vm-group-logs-row-fields-item-controls",children:t("div",{className:"vm-group-logs-row-fields-item-controls__wrapper",children:[t(Y,{title:i?"Copied":"Copy to clipboard",children:t(V,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:"gray",size:"small",startIcon:t(De,{}),onClick:_,ariaLabel:"copy to clipboard"})}),t(Y,{title:m?"Hide this field":"Show this field instead of the message",children:t(V,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:m?"secondary":"gray",size:"small",startIcon:m?t(je,{}):t(je,{}),onClick:p,ariaLabel:m?"Hide this field":"Show this field instead of the message"})}),!o&&t(Y,{title:h?"Ungroup this field":"Group by this field",children:t(V,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:h?"secondary":"gray",size:"small",startIcon:t(Rt,{}),onClick:v,ariaLabel:h?"Ungroup this field":"Group by this field"})})]})}),t("td",{className:"vm-group-logs-row-fields-item__key",children:e}),t("td",{className:"vm-group-logs-row-fields-item__value",children:n})]})},Xa=Me(Ja),pt=e=>{const[n,o]=L(!!pe(e)),r=F(()=>{const s=!!pe(e);s!==n&&o(s)},[e,n]),a=F(s=>{me(e,s)},[e]);return ee("storage",r),E(()=>[n,a],[n,a])},es=({log:e,hideGroupButton:n})=>{const o=E(()=>Object.entries(e).sort(([a],[s])=>a.localeCompare(s)),[e]),[r]=pt("LOGS_DISABLED_HOVERS");return t("div",{className:M({"vm-group-logs-row-fields":!0,"vm-group-logs-row-fields_interactive":!r}),children:t("table",{children:t("tbody",{children:o.map(([a,s])=>t(Xa,{field:a,value:s,hideGroupButton:n},a))})})})},xe=({title:e,children:n,onClose:o,className:r,isOpen:a=!0})=>{const{isMobile:s}=W(),i=ct(),l=Pe(),c=F(h=>{a&&h.key==="Escape"&&o()},[a]),d=h=>{h.stopPropagation()},u=F(()=>{a&&(i(l,{replace:!0}),o())},[a,l,o]);return I(()=>{if(a)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}},[a]),ee("popstate",u),ee("keyup",c),Te(t("div",{className:M({"vm-modal":!0,"vm-modal_mobile":s,[`${r}`]:r}),onMouseDown:o,children:t("div",{className:"vm-modal-content",onMouseDown:d,children:[t("div",{className:"vm-modal-content-header",children:[e&&t("div",{className:"vm-modal-content-header__title",children:e}),t("div",{className:"vm-modal-content-header__close",children:t(V,{variant:"text",size:"small",onClick:o,ariaLabel:"close",children:t(Qe,{})})})]}),t("div",{className:"vm-modal-content-body",tabIndex:0,children:n})]})}),document.body)},ts=e=>`${e}/select/logsql/query`,ns=e=>`${e}/select/logsql/hits`,_t=()=>{const[e]=J();return E(()=>({AccountID:e.get("accountID")||"0",ProjectID:e.get("projectID")||"0"}),[e])},No=(e,n)=>{const{serverUrl:o}=ne(),r=_t(),[a]=J(),[s,i]=L([]),[l,c]=L(),[d,u]=L({}),[m,h]=L(),_=D(new AbortController),p=E(()=>a.get("hide_logs"),[a]),v=E(()=>ts(o),[o]),f=({query:b,period:w,limit:x,signal:S})=>{if(!b)throw new Error("query is required to /select/logsql/query.");const y=new URLSearchParams({query:b.trim()});return x&&y.append("limit",String(x)),w&&(y.append("start",R(w.start*1e3).tz().toISOString()),y.append("end",R(w.end*1e3).tz().toISOString())),{body:y,signal:S,method:"POST",headers:{...r,Accept:"application/stream+json"}}},g=F(async({query:b=e,limit:w=n,period:x,preventAbortPrevious:S})=>{!S&&_.current.abort(),_.current=new AbortController;const{signal:y}=_.current,k=Date.now();u(C=>({...C,[k]:!0})),h(void 0);try{const C=f({query:b,limit:w,period:x,signal:y}),A=await fetch(v,C),N=A.headers.get("vl-request-duration-seconds");c(N?Number(N)*1e3:void 0);const T=await A.text();if(!A.ok||!A.body)return h(T),i([]),!1;const P=T.split(`
`,n).map(os).filter(B=>B);return i(P),P}catch(C){return C instanceof Error&&C.name!=="AbortError"&&(h(String(C)),console.error(C),i([])),!1}finally{u(C=>{const{[k]:A,...N}=C;return N})}},[v,e,n,r]);return I(()=>()=>{_.current.abort()},[]),I(()=>{p&&(i([]),h(void 0))},[p]),{logs:s,isLoading:Object.values(d).some(b=>b),error:m,fetchLogs:g,durationMs:l,abortController:_.current}},os=e=>{try{return e&&JSON.parse(e)}catch(n){return console.error(`Failed to parse "${e}" to JSON
`,n),null}},rs=(e,n,o="")=>{const r=n[0],a=n[n.length-1];return o?n.map(s=>`${wn(s,r,a)} ${o}`):n.map(s=>wn(s,r,a))},wn=(e,n,o)=>{if(e==null)return"";o=o||0,n=n||0;const r=Math.abs(o-n);if(isNaN(r)||r==0)return Math.abs(e)>=1e3?e.toLocaleString("en-US"):e.toString();let a=3+Math.floor(1+Math.log10(Math.max(Math.abs(n),Math.abs(o)))-Math.log10(r));return(isNaN(a)||a>20)&&(a=20),e.toLocaleString("en-US",{minimumSignificantDigits:1,maximumSignificantDigits:a})},as=(e,n)=>{const o=document.createElement("span");o.innerText=e,o.style.cssText=`position: absolute; z-index: -1; pointer-events: none; opacity: 0; font: ${n}`,document.body.appendChild(o);const r=o.offsetWidth;return o.remove(),r},ss=[[3600*24*365,"{YYYY}",null,null,null,null,null,null,1],[3600*24*28,"{MMM}",`
{YYYY}`,null,null,null,null,null,1],[3600*24,"{MM}-{DD}",`
{YYYY}`,null,null,null,null,null,1],[3600,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[60,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[1,"{HH}:{mm}:{ss}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD} {HH}:{mm}`,null,null,null,1],[.001,":{ss}.{fff}",`
{YYYY}-{MM}-{DD} {HH}:{mm}`,null,`
{MM}-{DD} {HH}:{mm}`,null,`
{HH}:{mm}`,null,1]],is=(e,n)=>Array.from(new Set(e.map(o=>o.scale))).map(o=>{const r="10px Arial",a=_e("color-text"),s={scale:o,show:!0,size:cs,stroke:a,font:r,values:(i,l)=>rs(i,l,n)};return o?!(Number(o)%2)&&o!=="y"?{...s,side:1}:s:{space:80,values:ss,stroke:a,font:r}}),ls=(e,n)=>{if(n==null)return[-1,1];const r=.02*(Math.abs(n-e)||Math.abs(e)||1);return[e-r,n+r]},cs=(e,n,o,r)=>{const a=e.axes[o];if(r>1)return a._size||60;let s=6+(a?.ticks?.size||0)+(a.gap||0);const i=(n??[]).reduce((l,c)=>c?.length>l.length?c:l,"");return i!=""&&(s+=as(i,"10px Arial")),Math.ceil(s)},ds=e=>{Object.keys(e.hooks).forEach(n=>{e.hooks[n]=[]})},Io=e=>{for(let n=e.series.length-1;n>=0;n--)n&&e.delSeries(n)},us=(e,n,o=!1)=>{n.forEach((r,a)=>{r.label&&(r.spanGaps=o),a&&e.addSeries(r)})},ms=e=>{Io(e),ds(e),e.setData([])},hs=e=>n=>{const o=n.posToVal(n.select.left,"x"),r=n.posToVal(n.select.left+n.select.width,"x");e({min:o,max:r})},ps=(e,n)=>{if(e.delBand(),n.length<2)return;const o=n.map((i,l)=>({...i,index:l})),r=o.filter(i=>i.forecast===ce.yhatUpper),a=o.filter(i=>i.forecast===ce.yhatLower),s=r.map(i=>{const l=a.find(c=>c.forecastGroup===i.forecastGroup);return l?{series:[i.index,l.index],fill:_s(ce.yhatUpper)}:null}).filter(i=>i!==null);s.length&&s.forEach(i=>{e.addBand(i)})};function _s(e){return`rgba(${xo(Ra[e])}, 0.05)`}var fe=(e=>(e.BAR="Bars",e.LINE="Lines",e.LINE_STEPPED="Stepped lines",e.POINTS="Points",e))(fe||{});const gs=(e,n,o,r)=>{const a=e.under.clientWidth/to-1,s=jt?.paths?.bars?.({size:[.96,a]});return s?s(e,n,o,r):null},fs=(e,n,o,r)=>{const a=jt?.paths?.stepped?.({align:1});return a?a(e,n,o,r):null},vs=e=>{switch(e){case fe.BAR:return gs;case fe.LINE_STEPPED:return fs;default:return}},bs=e=>{let n=e.length,o=-1/0;for(;n--;){const r=e[n];Number.isFinite(r)&&r>o&&(o=r)}return Number.isFinite(o)?o:null},ys=e=>e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString(),ws=["color-log-hits-bar-1","color-log-hits-bar-2","color-log-hits-bar-3","color-log-hits-bar-4","color-log-hits-bar-5"],ks={[fe.BAR]:1,[fe.LINE_STEPPED]:2,[fe.LINE]:1.2,[fe.POINTS]:0},Ht="other",Eo=e=>e?._isOther?Ht:Object.values(e?.fields||{}).map(o=>o||'""').join(", "),Cs=(e,n=0,o=1)=>{const r=e.series.filter(({scale:s})=>s==="y").map(({max:s})=>s||o),a=bs(r);return ls(0,a||o)},xs=({data:e,logHits:n,xRange:o,bands:r,containerSize:a,onReadyChart:s,setPlotScale:i,graphOptions:l})=>{const{isDarkTheme:c}=ne(),[d,u]=L(-1),m=p=>{const v=p.cursor.idx??-1;u(v)},h=E(()=>{let p=0;return e.map((v,f)=>{if(f===0)return{};const g=n?.[f-1],b=Eo(g),w=g?._isOther,x=w?"color-log-hits-bar-0":ws[p++],S=_e(x);return{label:b,width:ks[l.graphStyle],spanGaps:!0,show:!0,stroke:S,fill:l.fill&&!w?`${S}80`:l.fill?S:"",paths:vs(l.graphStyle)}})},[c,e,l]);return{options:{series:h,bands:r,width:a.width||window.innerWidth/2,height:a.height||200,cursor:{points:{width:(p,v,f)=>f/4,size:(p,v)=>(p.series?.[v]?.points?.size||1)*1.5,stroke:(p,v)=>`${h?.[v]?.stroke||"#ffffff"}`,fill:()=>"#ffffff"}},scales:{x:{time:!0,range:()=>[o.min,o.max]},y:{range:Cs}},hooks:{drawSeries:[],ready:[s],setCursor:[m],setSelect:[hs(i)],destroy:[ms]},legend:{show:!1},axes:is([{},{scale:"y"}]),tzDate:p=>R($e(he(p))).local().toDate()},series:h,focusDataIdx:d}},To=e=>(/^{.+}$/.test(e)?e.slice(1,-1).split(","):[e]).filter(Boolean),Mo=e=>{const n=R(e.start*1e3),o=R(e.end*1e3),r=o.diff(n,"milliseconds"),a=Math.ceil(r/to)||1;return{start:n,end:o,step:a}},Po=(e,n=oe)=>/(.+)?=(".+")/.test(e)?e.replace(/=/,": "):`${n}: ${JSON.stringify(e)}`,Ss=e=>e.reduce((n,o)=>n+(o.total||0),0),Oo=e=>(n,o)=>{if(n.label===Ht)return 1;if(o.label===Ht)return-1;const r=n[e];return o[e]-r},As=(e,n)=>e._time!==n._time?!1:[...new Set([...Object.keys(e),...Object.keys(n)])].every(r=>e[r]===n[r]),Ls=(e,n)=>e.filter(o=>!As(o,n)),Ns=(e,n,o)=>{const{_stream_id:r,_time:a}=e;if(!r||!a)throw new Error("Log must contain _stream_id and _time fields.");return`_stream_id:${r} _time:${Fr(a)} | stream_context ${n} ${o} | sort by (_time) desc`},Is=(e,n)=>(o,r)=>{const a=e==="after"?Ls(o,r):o;n(s=>e==="after"?a.concat(s):s.concat(a))},Es=()=>{const{fetchLogs:e,isLoading:n,error:o,abortController:r}=No(),[a,s]=L([]),[i,l]=L([]),[c,d]=L({before:!0,after:!0}),u=async(_,p,v,f)=>{if(!(p<=0))try{const g=await e({query:Ns(f,_,p),preventAbortPrevious:!0});Array.isArray(g)&&g.length&&(Is(_,v)(g,f),d(b=>({...b,[_]:g.length>=p})))}catch(g){console.error(`Error fetching ${_} logs:`,g)}};return{logsBefore:a,logsAfter:i,hasMore:c,isLoading:n,error:o,fetchContextLogs:async({log:_,linesBefore:p=0,linesAfter:v=0})=>{await Promise.allSettled([u("before",p,s,_),u("after",v,l,_)])},resetContextLogs:()=>{s([]),l([]),d({before:!0,after:!0})},abortController:r}},Xe=(e,n,o)=>{const r=F(a=>{const s=e?.current,i=a.target,l=o?.current&&o.current.contains(i);!s||s.contains(a?.target||null)||l||n(a)},[e,n]);ee("mouseup",r),ee("touchstart",r)},se=({children:e,buttonRef:n,placement:o="bottom-left",placementPosition:r,open:a=!1,onClose:s,offset:i={top:6,left:0},clickOutside:l=!0,fullWidth:c,title:d,disabledFullScreen:u,variant:m})=>{const{isMobile:h}=W(),_=ct(),p=Pe(),[v,f]=L({width:0,height:0}),[g,b]=L(!1),w=D(null);I(()=>(b(a),!a&&s&&s(),a&&h&&!u&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="auto"}),[a]),I(()=>{f({width:w?.current?.clientWidth||0,height:w?.current?.clientHeight||0}),b(!1)},[w]);const x=E(()=>{const A=n.current;if(!A||!g)return{};const N=A.getBoundingClientRect(),T={top:0,left:0,width:"auto"},P=o==="bottom-right"||o==="top-right",B=o?.includes("top"),O=i?.top||0,H=i?.left||0;if(T.left=T.left=N.left+H,T.top=N.height+N.top+O,P&&(T.left=N.right-v.width),B&&(T.top=N.top-v.height-O),o==="fixed"&&r)return T.top=Math.max(r.top+i.top,0),T.left=Math.max(r.left+i.left,0),T;const{innerWidth:$,innerHeight:G}=window,K=T.top+v.height>G,te=T.top<0,U=T.left+v.width>$,z=T.left<0;return K&&(T.top=N.top-v.height-O),te&&(T.top=N.height+N.top+O),U&&(T.left=N.right-v.width-H),z&&(T.left=N.left+H),c&&(T.width=`${N.width}px`),T.top<0&&(T.top=0),T.left<0&&(T.left=0),T},[n,o,g,e,c]),S=A=>{A.stopPropagation(),s()},y=()=>{b(!1),s()},k=()=>{l&&y()};I(()=>{if(!w.current||!g||h&&!u)return;const{right:A,width:N}=w.current.getBoundingClientRect();if(A>window.innerWidth){const T=window.innerWidth-N;w.current.style.left=`${T}px`}},[g,w,r]);const C=F(()=>{g&&h&&!u&&(_(p,{replace:!0}),s())},[g,h,u,p,s]);return ee("scroll",y),ee("popstate",C),Xe(w,k,n),t(j,{children:(g||!v.width)&&Te(t("div",{className:M({"vm-popper":!0,[`vm-popper_${m}`]:m,"vm-popper_mobile":h&&!u,"vm-popper_open":(h||Object.keys(x).length)&&g}),ref:w,style:h&&!u?{}:x,children:[(d||h&&!u)&&t("div",{className:"vm-popper-header",children:[t("p",{className:"vm-popper-header__title",children:d}),t(V,{variant:"text",color:m==="dark"?"white":"primary",size:"small",onClick:S,ariaLabel:"close",children:t(Qe,{})})]}),e]}),document.body)})},Ts=[10,25,50,100,250,500,1e3],qe=({limit:e,label:n,options:o,allowUnlimited:r,onChange:a,onOpenSelect:s})=>{const{isMobile:i}=W(),l=D(null),c=E(()=>{const p=o&&o.length>0?o:Ts;return r?[...p,0]:p},[r,o]),{value:d,toggle:u,setFalse:m}=Z(),h=()=>{u(),d||s?.()},_=p=>()=>{a(p),m()};return t(j,{children:[t("div",{className:"vm-select-limits-button",onClick:h,ref:l,children:[t("div",{children:[n||"Rows per page",": ",t("b",{children:e||"All"})]}),t(Oe,{})]}),t(se,{open:d,onClose:m,placement:"bottom-right",buttonRef:l,children:t("div",{className:"vm-select-limits",children:c.map(p=>t("div",{className:M({"vm-list-item":!0,"vm-list-item_mobile":i,"vm-list-item_active":p===e}),onClick:_(p),children:p||"All"},p))})})]})},ue=({value:e=!1,disabled:n=!1,label:o,color:r="secondary",fullWidth:a,onChange:s})=>{const i=()=>{n||s(!e)},l=M({"vm-switch":!0,"vm-switch_full-width":a,"vm-switch_disabled":n,"vm-switch_active":e,[`vm-switch_${r}_active`]:e,[`vm-switch_${r}`]:r});return t("div",{className:l,onClick:i,children:[t("div",{className:"vm-switch-track",children:t("div",{className:"vm-switch-track__thumb"})}),o&&t("span",{className:"vm-switch__label",children:o})]})},ke={home:"/",streamContext:"/stream-context/:_stream_id/:_time",icons:"/icons"},gt={[ke.home]:{title:"Logs Explorer",header:{tenant:!0,timeSelector:!0,executionControls:!0}},[ke.icons]:{title:"Icons",header:{}},[ke.streamContext]:{title:"Stream context",header:{}}},Do=({log:e,displayFields:n,isModal:o})=>{const[r,a]=J(),s=r.get(X.NO_WRAP_LINES)==="true",[i,l]=L(10),{logsBefore:c,logsAfter:d,hasMore:u,isLoading:m,error:h,fetchContextLogs:_,resetContextLogs:p,abortController:v}=Es(),f=()=>{const x=d[0];_({log:x,linesAfter:i})},g=()=>{const x=c[c.length-1];_({log:x,linesBefore:i})},b=x=>{l(x)},w=()=>{r.set(X.NO_WRAP_LINES,String(!s)),a(r)};return I(()=>(_({log:e,linesBefore:10,linesAfter:10}),()=>{p(),v?.abort()}),[]),t("div",{className:M({"vm-steam-context":!0,"vm-steam-context_modal":o}),children:[m&&t(sn,{}),h&&t(Ee,{variant:"error",children:h}),t("div",{className:"vm-steam-context-header",children:[!o&&t("div",{className:"vm-steam-context-header-title",children:[t("h1",{className:"vm-modal-content-header__title",children:"Log context"}),t("p",{className:"vm-steam-context-header-title__info",children:[t("span",{children:["_stream_id: ",e._stream_id]}),t("span",{children:["_time: ",e._time]})]})]}),o&&t("div",{className:"vm-steam-context-header__link",children:t(Jo,{target:"_blank",to:Xo(ke.streamContext,{_stream_id:e._stream_id,_time:e._time}),rel:"noreferrer",children:t(V,{startIcon:t(Na,{}),variant:"text",size:"small",children:"Open in new page"})})}),t(ue,{label:"Wrap lines",value:!s,onChange:w}),t(qe,{limit:i,label:"Logs per load",options:[5,10,20,50,100],onChange:b})]}),t("div",{className:"vm-steam-context__load-more vm-steam-context__load-more_after",children:t(V,{onClick:f,disabled:m||!u.after,variant:u.after?"contained":"text",children:u.after?"Load newer logs":"no more logs after"})}),t("div",{className:"vm-group-logs-section-rows",children:[d.map((x,S)=>t(st,{isContextView:!0,hideGroupButton:!0,log:x,displayFields:n},`${S}_${x._time}`)),c.map((x,S)=>t(st,{isContextView:!0,hideGroupButton:!0,log:x,displayFields:n,className:S===0?"vm-steam-context__target-row":""},`${S}_${x._time}`))]}),t("div",{className:"vm-steam-context__load-more vm-steam-context__load-more_before",children:t(V,{onClick:g,disabled:m||!u.before,variant:u.before?"contained":"text",children:u.before?"Load older logs":"no more logs before"})})]})},Ms=({log:e,displayFields:n})=>{const o=["_stream_id","_time"],r=E(()=>o.every(d=>e[d]),[e]),{value:a,setTrue:s,setFalse:i}=Z(),l=d=>{d.stopPropagation(),s()},c=()=>{i()};return r?t(j,{children:[t(Y,{title:"Show context",children:t(V,{variant:"text",color:"gray",startIcon:t(La,{}),onClick:l,ariaLabel:"show context"})}),a&&t(xe,{title:"Log context",isOpen:a,onClose:c,children:t(Do,{isModal:!0,log:e,displayFields:n})})]}):null},Ps=({log:e,displayFields:n=[],isContextView:o,hideGroupButton:r,className:a,onItemClick:s})=>{const{isDarkTheme:i}=ne(),{value:l,toggle:c}=Z(),[d,u]=L(!1),m=ye(),[h]=J(),{markdownParsing:_,ansiParsing:p}=nn(),{timezone:v}=Ke(),f=h.get(X.NO_WRAP_LINES)==="true",g=h.get(X.DATE_FORMAT)||Re,b=E(()=>e._time?R(e._time).tz().format(g):"",[e._time,v,g]),w=E(()=>!_||!e._msg||!n.includes("_msg")?"":Jn(e._msg.replace(/```/g,"\n```\n")),[e._msg,_,n]),x=Object.keys(e).length>0,S=E(()=>{const A=[];return x||A.push("-"),n.some(N=>e[N])?n.filter(N=>e[N]).forEach(N=>{let T=e[N];const P=N==="_msg";P&&p&&(T=Za(e[N])),P&&_&&(T=""),T&&A.push(T)}):Object.entries(e).forEach(([N,T])=>{A.push(`${N}: ${T}`)}),A},[e,x,n,p,_]),[y]=pt("LOGS_DISABLED_HOVERS"),k=()=>{c(),s?.(e)},C=F(async A=>{if(A.stopPropagation(),!d)try{await m(JSON.stringify(e,null,2)),u(!0)}catch(N){console.error(N)}},[d,m]);return I(()=>{if(d===null)return;const A=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(A)},[d]),t("div",{className:M("vm-group-logs-row",a),children:[t("div",{className:M({"vm-group-logs-row-content":!0,"vm-group-logs-row-content_dark":i,"vm-group-logs-row-content_active":l,"vm-group-logs-row-content_interactive":!y}),onClick:k,children:[x&&t("div",{className:M({"vm-group-logs-row-content__arrow":!0,"vm-group-logs-row-content__arrow_open":l}),children:t(le,{})}),t("div",{className:M({"vm-group-logs-row-content__time":!0,"vm-group-logs-row-content__time_missing":!b}),children:b||"timestamp missing"}),t("div",{className:M({"vm-group-logs-row-content__msg":!0,"vm-group-logs-row-content__msg_empty-msg":!e._msg,"vm-group-logs-row-content__msg_missing":!S,"vm-group-logs-row-content__msg_single-line":f}),children:[w&&t("span",{dangerouslySetInnerHTML:{__html:w}}),S.map((A,N)=>t("span",{className:"vm-group-logs-row-content__sub-msg",children:A},`${A}_${N}`))]}),t("div",{className:M({"vm-group-logs-row-content__actions":!0,"vm-group-logs-row-content__actions_active":l}),children:[!o&&t(Ms,{log:e,displayFields:n}),t(Y,{title:d?"Copied":"Copy to clipboard",children:t(V,{variant:"text",color:"gray",startIcon:t(De,{}),onClick:C,ariaLabel:"copy to clipboard"})})]})]}),x&&l&&t(es,{hideGroupButton:r,log:e})]})},st=Me(Ps),zo=({value:e,options:n,anchor:o,disabled:r,minLength:a=2,fullWidth:s,selected:i,noOptionsText:l,label:c,disabledFullScreen:d,offset:u,maxDisplayResults:m,loading:h,onSelect:_,onOpenAutocomplete:p,onFoundOptions:v,onChangeWrapperRef:f})=>{const{isMobile:g}=W(),b=D(null),[w,x]=L({index:-1}),[S,y]=L(""),[k,C]=L(0),{value:A,setValue:N,setFalse:T}=Z(),P=E(()=>{if(!A)return[];try{const U=new RegExp(String(e.trim()),"i"),Q=n.filter(ae=>U.test(ae.value)).sort((ae,we)=>ae.value.toLowerCase()===e.trim().toLowerCase()?-1:we.value.toLowerCase()===e.trim().toLowerCase()?1:(ae.value.match(U)?.index||0)-(we.value.match(U)?.index||0));return C(Q.length),y(Q.length>Number(m?.limit)&&m?.message||""),m?.limit?Q.slice(0,m.limit):Q}catch{return[]}},[A,n,e]),B=E(()=>P.length===1&&P[0]?.value===e,[P]),O=E(()=>l&&!P.length,[l,P]),H=U=>()=>{r||(_(U.value,U),i||T())},$=U=>()=>{x({index:U,type:0})},G=()=>{x({index:-1})},K=()=>{if(!b.current||w.type===0)return;const U=b.current.childNodes[w.index];U?.scrollIntoView&&U.scrollIntoView({block:"center"})},te=F(U=>{const{key:z,ctrlKey:Q,metaKey:ae,shiftKey:we}=U,He=Q||ae||we,vt=P.length&&!B;if(z==="ArrowUp"&&!He&&vt&&(U.preventDefault(),x(({index:ge})=>({index:ge<=0?0:ge-1,type:1}))),z==="ArrowDown"&&!He&&vt){U.preventDefault();const ge=P.length-1;x(({index:un})=>({index:un>=ge?ge:un+1,type:1}))}if(z==="Enter"){const ge=P[w.index];ge&&_(ge.value,ge),i||T()}z==="Escape"&&T()},[w,P,B,T,_,i]);return I(()=>{N(e.length>=a)},[e,n]),ee("keydown",te),I(K,[w,P]),I(()=>{x({index:-1})},[P]),I(()=>{p&&p(A)},[A]),I(()=>{v&&v(B?[]:P)},[P,B]),I(()=>{f&&f(b)},[b]),t(se,{open:A,buttonRef:o,placement:"bottom-left",onClose:T,fullWidth:s,title:g?c:void 0,disabledFullScreen:d,offset:u,children:[t("div",{className:M({"vm-autocomplete":!0,"vm-autocomplete_mobile":g&&!d}),ref:b,children:[h&&t("div",{className:"vm-autocomplete__loader",children:[t(po,{}),t("span",{children:"Loading..."})]}),O&&t("div",{className:"vm-autocomplete__no-options",children:l}),!B&&P.map((U,z)=>t("div",{className:M({"vm-list-item":!0,"vm-list-item_mobile":g,"vm-list-item_active":z===w.index,"vm-list-item_multiselect":i,"vm-list-item_multiselect_selected":i?.includes(U.value),"vm-list-item_with-icon":U.icon}),id:`$autocomplete$${U.value}`,onClick:H(U),onMouseEnter:$(z),onMouseLeave:G,children:[i?.includes(U.value)&&t(on,{}),t(j,{children:U.icon}),t("span",{children:U.value})]},`${z}${U.value}`))]}),S&&t("div",{className:"vm-autocomplete-message",children:["Shown ",m?.limit," results out of ",k,". ",S]}),P[w.index]?.description&&t("div",{className:"vm-autocomplete-info",children:[t("div",{className:"vm-autocomplete-info__type",children:P[w.index].type}),t("div",{className:"vm-autocomplete-info__description",dangerouslySetInnerHTML:{__html:P[w.index].description||""}})]})]})},Os=({values:e,onRemoveItem:n})=>{const{isMobile:o}=W(),r=a=>s=>{n(a),s.stopPropagation()};return o?t("span",{className:"vm-select-input-content__counter",children:["selected ",e.length]}):t(j,{children:e.map(a=>t("div",{className:"vm-select-input-content__selected",children:[t("span",{children:a}),t("div",{onClick:r(a),children:t(Qe,{})})]},a))})},it=({value:e,list:n,label:o,placeholder:r,noOptionsText:a,clearable:s=!1,searchable:i=!1,autofocus:l,disabled:c,onChange:d})=>{const{isDarkTheme:u}=ne(),{isMobile:m}=W(),[h,_]=L(""),p=D(null),[v,f]=L(null),[g,b]=L(!1),w=D(null),x=Array.isArray(e),S=Array.isArray(e)?e:void 0,y=m&&x&&!!S?.length,k=E(()=>g?h:Array.isArray(e)?"":e,[e,h,g,x]),C=E(()=>g?h||"(.+)":"",[h,g]),A=()=>{w.current&&w.current.blur()},N=()=>{b(!1),A()},T=()=>{c||b(!0)},P=()=>{n.includes(h)&&d(h)},B=K=>{K.target instanceof HTMLInputElement||c||b(te=>!te)},O=K=>{_(""),d(K),x||N(),x&&w.current&&w.current.focus()},H=K=>{_(K.target.value)},$=K=>te=>{O(K),te.stopPropagation()},G=K=>{w.current!==K.target&&b(!1)};return I(()=>{_(""),g&&w.current&&w.current.focus(),g||A()},[g,w]),I(()=>{!l||!w.current||m||w.current.focus()},[l,w]),ee("keyup",G),Xe(p,N,v),t("div",{className:M({"vm-select":!0,"vm-select_dark":u,"vm-select_disabled":c}),children:[t("div",{className:"vm-select-input",onClick:B,ref:p,children:[t("div",{className:"vm-select-input-content",children:[!!S?.length&&t(Os,{values:S,onRemoveItem:O}),!y&&t("input",{value:k,type:"text",placeholder:r,onInput:H,onFocus:T,onBlur:P,ref:w,readOnly:m||!i})]}),o&&t("span",{className:"vm-text-field__label",children:o}),s&&e&&t("div",{className:"vm-select-input__icon",onClick:$(""),children:t(Qe,{})}),t("div",{className:M({"vm-select-input__icon":!0,"vm-select-input__icon_open":g}),children:t(Oe,{})})]}),t(zo,{label:o,value:C,options:n.map(K=>({value:K})),anchor:p,selected:S,minLength:1,fullWidth:!0,noOptionsText:a,onSelect:O,onOpenAutocomplete:b,onChangeWrapperRef:f})]})},Ds=({error:e,warning:n,info:o})=>{const r=D(null),[a,s]=L(!1),[i,l]=L(!1),d=`${E(()=>e?"ERROR: ":n?"WARNING: ":"",[e,n])}${e||n||o}`,u=()=>{const h=r.current;if(h){const{offsetWidth:_,scrollWidth:p,offsetHeight:v,scrollHeight:f}=h,g=_+1<p||v+1<f;s(g)}else s(!1)},m=()=>{a&&(l(!0),s(!1))};return I(()=>{l(!1),u()},[r,d]),ee("resize",u),!e&&!n&&!o?null:t("span",{className:M({"vm-text-field__error":!0,"vm-text-field__warning":n&&!e,"vm-text-field__helper-text":!n&&!e,"vm-text-field__error_overflowed":a,"vm-text-field__error_full":i}),"data-show":!!d,ref:r,onClick:m,children:d})},Ce=qt(({label:e,value:n,type:o="text",error:r="",warning:a="",helperText:s="",placeholder:i,endIcon:l,startIcon:c,disabled:d=!1,autofocus:u=!1,inputmode:m="text",caretPosition:h,onChange:_,onEnter:p,onKeyDown:v,onFocus:f,onBlur:g,onChangeCaret:b},w)=>{const{isDarkTheme:x}=ne(),{isMobile:S}=W(),y=D(null),k=D(null),C=E(()=>o==="textarea"?k:y,[o]),A=M({"vm-text-field__input":!0,"vm-text-field__input_error":r,"vm-text-field__input_warning":!r&&a,"vm-text-field__input_icon-start":c,"vm-text-field__input_disabled":d,"vm-text-field__input_textarea":o==="textarea"}),N=z=>{if(!b)return;const{selectionStart:Q,selectionEnd:ae}=z;b&&b([Q||0,ae||0])},T=z=>{N(z.currentTarget)},P=z=>{v&&v(z);const{key:Q,ctrlKey:ae,metaKey:we}=z,He=Q==="Enter";(o!=="textarea"?He:He&&(we||ae))&&p&&(z.preventDefault(),p())},B=z=>{N(z.currentTarget)},O=z=>{d||(_&&_(z.currentTarget.value),N(z.currentTarget))},H=()=>{f&&f()},$=()=>{g&&g()},G=z=>{try{C.current&&C.current.setSelectionRange(z[0],z[1])}catch(Q){return Q}},K=F(z=>{w&&(typeof w=="function"?w(z):w.current=z)},[]),te=F(z=>{K(z),y.current=z},[]),U=F(z=>{K(z),k.current=z},[]);return I(()=>{!u||S||C?.current?.focus&&C.current.focus()},[C,u]),I(()=>{h&&G(h)},[h]),t("label",{className:M({"vm-text-field":!0,"vm-text-field_textarea":o==="textarea","vm-text-field_dark":x}),"data-replicated-value":n,children:[c&&t("div",{className:"vm-text-field__icon-start",children:c}),l&&t("div",{className:"vm-text-field__icon-end",children:l}),o==="textarea"?t("textarea",{className:A,disabled:d,ref:U,value:n,rows:1,inputMode:m,placeholder:i,autoCapitalize:"none",onInput:O,onKeyDown:P,onKeyUp:B,onFocus:H,onBlur:$,onMouseUp:T}):t("input",{className:A,disabled:d,ref:te,value:n,type:o,placeholder:i,inputMode:m,autoCapitalize:"none",onInput:O,onKeyDown:P,onKeyUp:B,onFocus:H,onBlur:$,onMouseUp:T}),e&&t("span",{className:"vm-text-field__label",children:e}),t(Ds,{error:r,warning:a,info:s})]})}),zs=({text:e,href:n,children:o,colored:r=!0,underlined:a=!1,withIcon:s=!1})=>t("a",{href:n,className:M({"vm-link":!0,"vm-link_colored":r,"vm-link_underlined":a,"vm-link_with-icon":s}),target:"_blank",rel:"noreferrer",children:e||o}),Rs=()=>{const{isMobile:e}=W(),{markdownParsing:n,ansiParsing:o}=nn(),r=uo();return t(j,{children:[t("div",{className:"vm-group-logs-configurator-item",children:[t(ue,{label:"Enable markdown parsing",value:n,onChange:i=>{r({type:"SET_MARKDOWN_PARSING",payload:i}),o&&r({type:"SET_ANSI_PARSING",payload:!1})},fullWidth:e}),t("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable the Markdown formatting for log entries. Enabling this will parse log texts to Markdown."})]}),t("div",{className:"vm-group-logs-configurator-item",children:[t(ue,{label:"Enable ANSI parsing",value:o,onChange:i=>{r({type:"SET_ANSI_PARSING",payload:i}),n&&r({type:"SET_MARKDOWN_PARSING",payload:!1})},fullWidth:e}),t("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable ANSI escape sequence parsing for log entries. Enabling this will interpret ANSI codes to render colored log output."})]})]})},{GROUP_BY:kn,NO_WRAP_LINES:Cn,COMPACT_GROUP_HEADER:xn,DISPLAY_FIELDS:Ct,DATE_FORMAT:xt}=X,tt="Group view settings",Fs=({logs:e})=>{const[n,o]=J(),r=n.get(kn)||oe,a=n.get(Cn)==="true",s=n.get(xn)==="true",i=n.get(Ct)||"",l=i?i.split(","):[Fe],[c,d]=L(n.get(xt)||Re),[u,m]=L(""),[h,_]=pt("LOGS_DISABLED_HOVERS"),p=r!==oe,v=l.length!==1||l[0]!==Fe,f=c!==Re,g=[p,v,a,s,f].some(Boolean),b=E(()=>{const O=new Set(e.map(H=>Object.keys(H)).flat());return Array.from(O).sort((H,$)=>H.localeCompare($))},[e]),{value:w,toggle:x,setFalse:S}=Z(),y=O=>{n.set(kn,O),o(n)},k=O=>{const H=l,$=H.includes(O)?H.filter(G=>G!==O):[...H,O];n.set(Ct,$.join(",")),o(n)},C=()=>{n.delete(Ct),o(n)},A=()=>{n.set(Cn,String(!a)),o(n)},N=()=>{n.set(xn,String(!s)),o(n)},T=O=>{R(new Date,O,!0).isValid()||m("Invalid date format"),d(O)},P=()=>{c===Re?n.delete(xt):n.set(xt,c),o(n),S()};return t(j,{children:[t("div",{className:"vm-group-logs-configurator-button",children:[t(Y,{title:g?t("div",{className:"vm-group-logs-configurator__tooltip",children:[t("p",{children:tt}),t("hr",{}),t("ul",{children:[p&&t("li",{children:["Group by ",t("code",{children:`"${r}"`})]}),v&&t("li",{children:["Display fields: ",l.length||1]}),a&&t("li",{children:"Single-line text is enabled"}),s&&t("li",{children:"Compact group header is enabled"}),f&&t("li",{children:["Date format: ",t("code",{children:c})]})]})]}):tt,children:t(V,{variant:"text",startIcon:t(Ie,{}),onClick:x,ariaLabel:tt})}),g&&t("span",{className:"vm-group-logs-configurator-button__marker"})]}),w&&t(xe,{title:tt,onClose:P,children:t("div",{className:"vm-group-logs-configurator",children:[t("div",{className:"vm-group-logs-configurator-item",children:[t(it,{value:r,list:[Pt,...b],label:"Group by field",placeholder:"Group by field",onChange:y,searchable:!0}),t(Y,{title:"Reset grouping",children:t(V,{variant:"text",color:"primary",startIcon:t(ot,{}),onClick:()=>y(oe)})}),t("span",{className:"vm-group-logs-configurator-item__info",children:["Select a field to group logs by (default: ",t("code",{children:oe}),")."]})]}),t("div",{className:"vm-group-logs-configurator-item",children:[t(it,{value:l,list:b,label:"Display fields",placeholder:"Display fields",onChange:k,searchable:!0}),t(Y,{title:"Clear fields",children:t(V,{variant:"text",color:"primary",startIcon:t(ot,{}),onClick:C})}),t("span",{className:"vm-group-logs-configurator-item__info",children:["Select fields to display instead of the message (default: ",t("code",{children:Fe}),")."]})]}),t("div",{className:"vm-group-logs-configurator-item",children:[t(Ce,{autofocus:!0,label:"Date format",value:c,onChange:T,error:u}),t(Y,{title:"Reset format",children:t(V,{variant:"text",color:"primary",startIcon:t(ot,{}),onClick:()=>d(Re)})}),t("span",{className:"vm-group-logs-configurator-item__info vm-group-logs-configurator-item__info_input",children:["Set the date format (e.g., ",t("code",{children:"YYYY-MM-DD HH:mm:ss"}),"). Learn more in ",t(zs,{href:"https://day.js.org/docs/en/display/format",children:"this documentation"}),". ",t("br",{}),"Your current date format: ",t("code",{children:R().format(c||Re)})]})]}),t(Rs,{}),t("div",{className:"vm-group-logs-configurator-item",children:[t(ue,{value:a,onChange:A,label:"Single-line message"}),t("span",{className:"vm-group-logs-configurator-item__info",children:"Displays message in a single line and truncates it with an ellipsis if it exceeds the available space."})]}),t("div",{className:"vm-group-logs-configurator-item",children:[t(ue,{value:s,onChange:N,label:"Compact group header"}),t("span",{className:"vm-group-logs-configurator-item__info",children:'Shows group headers in one line with a "+N more" badge for extra fields.'})]}),t("div",{className:"vm-group-logs-configurator-item",children:[t(ue,{value:h,onChange:_,label:"Disable hover effects"}),t("span",{className:"vm-group-logs-configurator-item__info",children:"Disable row highlighting on hover to improve performance with large datasets."})]})]})})]})},Sn=({pair:e,isHide:n})=>{const{isDarkTheme:o}=ne(),r=ye(),[a]=J(),[s,i]=L(null),l=a.get(X.GROUP_BY)||oe,c=d=>async u=>{u.stopPropagation();const m=Po(d,l);await r(m)&&i(d)};return I(()=>{if(s===null)return;const d=setTimeout(()=>i(null),2e3);return()=>clearTimeout(d)},[s]),t(Y,{title:s===e?"Copied":"Copy to clipboard",placement:"top-center",children:t("div",{className:M({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_hide":n,"vm-group-logs-section-keys__pair_dark":o}),onClick:c(e),children:e})})},Hs=({group:e,index:n})=>{const{isDarkTheme:o}=ne(),[r]=J(),a=D(null),s=D(null),{value:i,toggle:l,setFalse:c}=Z(),[d,u]=L(0),m=r.get(X.GROUP_BY)||oe,h=r.get(X.COMPACT_GROUP_HEADER)==="true",_=e.pairs,p=_.length-d-1,v=g=>{g.stopPropagation(),l()},f=F(()=>{if(!h||!a.current){u(0);return}const g=a.current,b=g.getBoundingClientRect(),x=Array.from(g.querySelectorAll(".vm-group-logs-section-keys__pair:not(.vm-group-logs-section-keys__pair_more)"));let S=0;for(const y of x){const{right:k}=y.getBoundingClientRect();k+220>b.width&&S++}u(S)},[h,a]);return I(f,[e.pairs,h,a]),ee("resize",f),t("div",{className:M({"vm-group-logs-section-keys":!0,"vm-group-logs-section-keys_compact":h}),ref:a,children:[t("span",{className:"vm-group-logs-section-keys__title",children:m===Pt?Pt:t(j,{children:[n+1,". Group by ",t("code",{children:m}),":"]})}),_.map((g,b)=>t(Sn,{pair:g,isHide:d?b>p:!1},`${e.keysString}_${g}`)),d>0&&t(j,{children:[t("div",{className:M({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_more":!0,"vm-group-logs-section-keys__pair_dark":o}),ref:s,onClick:v,children:["+",d," more"]}),t(se,{open:i,buttonRef:s,placement:"bottom-left",onClose:c,children:t("div",{className:"vm-group-logs-section-keys vm-group-logs-section-keys_popper",children:_.slice(p+1).map(g=>t(Sn,{pair:g},`${e.keysString}_${g}`))})})]}),t("span",{className:"vm-group-logs-section-keys__count",children:[e.total," entries"]})]})},Ro=({currentPage:e,totalItems:n,itemsPerPage:o,onPageChange:r,maxVisiblePages:a=10})=>{const s=Math.ceil(n/o),i=u=>{u<1||u>s||r(u)},l=E(()=>{const u=[];if(s<=a)for(let m=1;m<=s;m++)u.push(m);else{const m=Math.max(1,e-Math.floor(a/2)),h=Math.min(s,m+a-1);m>1&&(u.push(1),m>2&&u.push("..."));for(let _=m;_<=h;_++)u.push(_);h<s&&(h<s-1&&u.push("..."),u.push(s))}return u},[s,e,a]),c=u=>()=>{i(e+u)},d=u=>()=>{typeof u=="number"&&i(u)};return l.length<=1?null:t("div",{className:"vm-pagination",children:[t("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_prev",onClick:c(-1),disabled:e===1,children:t(le,{})}),l.map((u,m)=>t("button",{onClick:d(u),className:M({"vm-pagination__page":!0,"vm-pagination__page_active":e===u,"vm-pagination__page_disabled":u==="..."}),disabled:u==="...",children:u},m)),t("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_next",onClick:c(1),disabled:e===s,children:t(le,{})})]})},Vs=(e,n,o)=>E(()=>{if(!o)return e;const r=(n-1)*o,a=r+o;let s=0;const i=[];for(const l of e){const c=l.values.length,d=s,u=s+c;if(u<=r){s=u;continue}if(d>=a)break;const m=Math.max(0,r-d),h=Math.min(c,a-d),_={...l,values:l.values.slice(m,h)};if(i.push(_),s=u,s>=a)break}return i},[e,n,o]),Bs=({title:e,downloadFormatOptions:n,onDownload:o})=>{const{value:r,setTrue:a,setFalse:s}=Z(),i=D(null),l=F(()=>{if(r){s();return}n&&n.length>0?a():(o(),s())},[o,s,r,a]),c=F(d=>{const u=d.currentTarget;o(u.textContent??void 0)},[o]);return t(j,{children:[t("div",{ref:i,children:t(Y,{title:e,children:t(V,{variant:"text",startIcon:t(_a,{}),onClick:l,ariaLabel:e})})}),n&&n.length>0&&t(se,{open:r,onClose:s,buttonRef:i,placement:"bottom-right",children:n.map(d=>t("div",{className:"vm-download-button__format-option",children:t(V,{variant:"text",onClick:c,className:"vm-download-button__format-option-button",children:d})},d))})]})},Fo=(e,n)=>{const o=document.createElement("a"),r=URL.createObjectURL(e);o.setAttribute("href",r),o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},$s=(e,n)=>{const o=l=>{const c=l.reduce((d,u)=>(Object.keys(u).forEach(m=>{m&&!d[m]&&(d[m]=!0)}),d),{});return Object.keys(c)},r=l=>l.includes(",")||l.includes(`
`)||l.includes('"')?'"'+l.replace(/"/g,'""')+'"':l,s=(l=>{const c=o(l),d=l.map(u=>c.map(m=>u[m]?r(u[m]):"").join(","));return[c.map(r).join(","),...d].join(`\r
`)})(e),i=new Blob([s],{type:"text/csv;charset=utf-8;"});Fo(i,n)},Us=(e,n)=>{const o=new Blob([e],{type:"application/json"});Fo(o,n)},ft=({getLogs:e})=>{const{fileExtensions:n,getDownloaderByExtension:o}=E(()=>{const a=[{extension:"csv",downloader:$s},{extension:"json",downloader:(l,c)=>{const d=JSON.stringify(l,null,2);Us(d,c)}}],s=l=>a.find(({extension:c})=>c===l)?.downloader;return{fileExtensions:a.map(({extension:l})=>l),getDownloaderByExtension:s}},[]),r=F(a=>{if(!a)return;const s=e(),i=o(a);if(i){const l=R().utc().format(ur);i(s,`vmui_logs_${l}.${a}`)}},[e]);return t(Bs,{title:"Download logs",onDownload:r,downloadFormatOptions:n})},Ys=({logs:e,settingsRef:n})=>{const{isMobile:o}=W(),[r,a]=J(),[s,i]=L(1),[l,c]=L([]),d=r.get(X.GROUP_BY)||oe,u=r.get(X.DISPLAY_FIELDS)||Fe,m=E(()=>u.split(","),[u]),h=Number(r.get(X.ROWS_PER_PAGE)),_=isNaN(h)?0:h,p=E(()=>l.every(Boolean),[l]),v=E(()=>Ua(e,[d]).map(y=>{const k=y.values[0]?.[d]||"",C=To(k),A=y.values;return{keys:y.keys,keysString:y.keys.join(""),values:A,pairs:C,total:A.length}}).sort((y,k)=>k.total-y.total),[e,d]),f=Vs(v,s,_),g=F(()=>{c(new Array(v.length).fill(!p))},[p,v.length]),b=F(y=>k=>{c(C=>{const A=[...C];return A[y]=k,A})},[]),w=y=>{y?r.set(X.ROWS_PER_PAGE,String(y)):r.delete(X.ROWS_PER_PAGE),a(r)},x=y=>{i(y),window.scrollTo({top:0})},S=F(()=>e,[e]);return I(()=>{c(y=>{const k=y.every(C=>!C)&&y.length||o;return new Array(v.length).fill(!k)})},[v]),I(()=>{i(1)},[_]),t(j,{children:[t("div",{className:"vm-group-logs",children:[f.map((y,k)=>t("div",{className:"vm-group-logs-section",children:t(Ao,{defaultExpanded:l[k],onChange:b(k),title:t(Hs,{group:y,index:k}),children:t("div",{className:"vm-group-logs-section-rows",children:y.values.map((C,A)=>t(st,{log:C,displayFields:m},`${k}_${A}_${C._time}`))})})},y.keysString)),t(Ro,{currentPage:s,totalItems:e.length,itemsPerPage:_||1/0,onPageChange:x})]}),n.current&&Te(t("div",{className:"vm-group-logs-header",children:[t("div",{className:"vm-explore-logs-body-header__log-info",children:["Total groups: ",t("b",{children:v.length})]}),t(qe,{allowUnlimited:!0,limit:_,onChange:w}),t(Y,{title:p?"Collapse All":"Expand All",children:t(V,{variant:"text",startIcon:p?t(fa,{}):t(ga,{}),onClick:g,ariaLabel:p?"Collapse All":"Expand All"})}),t(ft,{getLogs:S}),t(Fs,{logs:e})]}),n.current)]})},ln=()=>t("div",{className:"vm-explore-logs-body__empty",children:"No logs found"}),js=Me(Ys),qs=({data:e,settingsRef:n})=>e.length?t(j,{children:t(js,{logs:e,settingsRef:n})}):t(ln,{}),Ws=["date","timestamp","time"];function An(e,n,o){const r=e[o],a=n[o];if(r==null&&a==null)return 0;if(r==null)return 1;if(a==null)return-1;const s=String(r),i=String(a);if(Ws.includes(String(o))){const m=gn(s),h=gn(i);return h<m?-1:h>m?1:0}const c=Number(s),d=Number(i);return!isNaN(c)&&!isNaN(d)?d-c:i<s?-1:i>s?1:0}function Gs(e,n){return e==="desc"?(o,r)=>An(o,r,n):(o,r)=>-An(o,r,n)}function Ks(e,n){const o=e.map((r,a)=>[r,a]);return o.sort((r,a)=>{const s=n(r[0],a[0]);return s!==0?s:r[1]-a[1]}),o.map(r=>r[0])}const Zs=({rows:e,columns:n,defaultOrderBy:o,defaultOrderDir:r,copyToClipboard:a,paginationOffset:s})=>{const i=ye(),[l,c]=L(o),[d,u]=L(r||"desc"),[m,h]=L(null),_=E(()=>{const{startIndex:f,endIndex:g}=s;return Ks(e,Gs(d,l)).slice(f,g)},[e,l,d,s]),p=f=>()=>{u(g=>g==="asc"&&l===f?"desc":"asc"),c(f)},v=(f,g)=>async()=>{if(m!==g)try{await i(String(f)),h(g)}catch(b){console.error(b)}};return I(()=>{if(m===null)return;const f=setTimeout(()=>h(null),2e3);return()=>clearTimeout(f)},[m]),t("table",{className:"vm-table",children:[t("thead",{className:"vm-table-header",children:t("tr",{className:"vm-table__row vm-table__row_header",children:[n.map(f=>t("th",{className:"vm-table-cell vm-table-cell_header vm-table-cell_sort",onClick:p(f.key),children:t("div",{className:"vm-table-cell__content",children:[t("div",{children:String(f.title||f.key)}),t("div",{className:M({"vm-table__sort-icon":!0,"vm-table__sort-icon_active":l===f.key,"vm-table__sort-icon_desc":d==="desc"&&l===f.key}),children:t(Oe,{})})]})},String(f.key))),a&&t("th",{className:"vm-table-cell vm-table-cell_header"})]})}),t("tbody",{className:"vm-table-body",children:_.map((f,g)=>t("tr",{className:"vm-table__row",children:[n.map(b=>t("td",{className:M({"vm-table-cell":!0,[`${b.className}`]:b.className}),children:f[b.key]||"-"},String(b.key))),a&&t("td",{className:"vm-table-cell vm-table-cell_right",children:f[a]&&t("div",{className:"vm-table-cell__content",children:t(Y,{title:m===g?"Copied":"Copy row",children:t(V,{variant:"text",color:m===g?"success":"gray",size:"small",startIcon:m===g?t(on,{}):t(De,{}),onClick:v(f[a],g),ariaLabel:"copy row"})})})})]},g))})]})},Qs=e=>{switch(e){case"_time":return"vm-table-cell_logs-time";default:return"vm-table-cell_logs"}},Js=[{key:"_vmui_data",title:"Data",className:"vm-table-cell_logs vm-table-cell_pre"}],Xs=({logs:e,displayColumns:n,tableCompact:o,columns:r,rowsPerPage:a})=>{const s=D(null),[i,l]=L(1),c=E(()=>e.map(_=>{const p=JSON.stringify(_,null,2);return{..._,_vmui_data:p}}),[e]),d=E(()=>r.map(_=>({key:_,title:_,className:Qs(_)})),[r]),u=E(()=>o?Js:n?.length?d.filter(_=>n.includes(_.key)):[],[d,n,o]),m=E(()=>{const _=(i-1)*a,p=_+a;return{startIndex:_,endIndex:p}},[i,a]),h=_=>{if(l(_),s.current){const p=s.current.getBoundingClientRect().top+window.scrollY-50;window.scrollTo({top:p})}};return I(()=>{l(1)},[e,a]),t(j,{children:[t("div",{ref:s,children:t(Zs,{rows:c,columns:u,defaultOrderBy:"_time",defaultOrderDir:"desc",copyToClipboard:"_vmui_data",paginationOffset:m})}),t(Ro,{currentPage:i,totalItems:c.length,itemsPerPage:a,onPageChange:h})]})},Ln=({checked:e=!1,disabled:n=!1,label:o,color:r="secondary",onChange:a})=>{const s=()=>{n||a(!e)},i=M({"vm-checkbox":!0,"vm-checkbox_disabled":n,"vm-checkbox_active":e,[`vm-checkbox_${r}_active`]:e,[`vm-checkbox_${r}`]:r});return t("div",{className:i,onClick:s,children:[t("div",{className:"vm-checkbox-track",children:t("div",{className:"vm-checkbox-track__thumb",children:t(on,{})})}),o&&t("span",{className:"vm-checkbox__label",children:o})]})},St="Table settings",ei=({columns:e,selectedColumns:n=[],tableCompact:o,onChangeColumns:r,toggleTableCompact:a})=>{const[s,i]=J(),l=D(null),{value:c,toggle:d,setFalse:u}=Z(),[m,h]=L(""),[_,p]=L(-1),v=E(()=>n.filter(C=>!e.includes(C)),[e,n]),f=E(()=>{const C=v.concat(e);return(m?C.filter(N=>N.includes(m)):C).sort((N,T)=>N.localeCompare(T))},[e,v,m]),g=E(()=>f.every(C=>n.includes(C)),[n,f]),b=C=>{r(C);const A=new URLSearchParams(s.toString());C.length===e.length?A.delete("columns"):A.set("columns",C.map(encodeURIComponent).join(",")),i(A)},w=C=>{const A=n.includes(C)?n.filter(N=>N!==C):[...n,C];b(A)},x=()=>{b(g?n.filter(C=>!f.includes(C)):f)},S=C=>()=>{w(C)},y=()=>{p(-1)},k=C=>{const A=C.key==="ArrowUp",N=C.key==="ArrowDown",T=C.key==="Enter";(N||A||T)&&C.preventDefault(),N?p(P=>P+1>f.length-1?P:P+1):A?p(P=>P-1<0?P:P-1):T&&w(f[_])};return I(()=>{Lo(e,n)||s.has("columns")||r(e)},[e]),I(()=>{if(!s.has("columns"))return;const N=(s.get("columns")||"").split(",").map(decodeURIComponent).filter(Boolean);r(N)},[]),t("div",{className:"vm-table-settings",children:[t(Y,{title:St,children:t("div",{ref:l,children:t(V,{variant:"text",startIcon:t(Ie,{}),onClick:d,ariaLabel:St})})}),c&&t(xe,{title:St,className:"vm-table-settings-modal",onClose:u,children:[t("div",{className:"vm-table-settings-modal-section",children:[t("div",{className:"vm-table-settings-modal-section__title",children:"Customize columns"}),t("div",{className:"vm-table-settings-modal-columns",children:[t("div",{className:"vm-table-settings-modal-columns__search",children:t(Ce,{placeholder:"Search columns",startIcon:t(va,{}),value:m,onChange:h,onBlur:y,onKeyDown:k,type:"search"})}),t("div",{className:"vm-table-settings-modal-columns-list",children:[!!f.length&&t("div",{className:"vm-table-settings-modal-columns-list__item vm-table-settings-modal-columns-list__item_all",children:t(Ln,{checked:g,onChange:x,label:g?"Uncheck all":"Check all",disabled:o})}),!f.length&&t("div",{className:"vm-table-settings-modal-columns-no-found",children:t("p",{className:"vm-table-settings-modal-columns-no-found__info",children:"No columns found."})}),f.map((C,A)=>t("div",{className:M({"vm-table-settings-modal-columns-list__item":!0,"vm-table-settings-modal-columns-list__item_focus":A===_,"vm-table-settings-modal-columns-list__item_custom":v.includes(C)}),children:t(Ln,{checked:n.includes(C),onChange:S(C),label:C,disabled:o})},C))]})]})]}),a&&o!==void 0&&t("div",{className:"vm-table-settings-modal-section",children:[t("div",{className:"vm-table-settings-modal-section__title",children:"Table view"}),t("div",{className:"vm-table-settings-modal-columns-list__item",children:t(ue,{label:"Compact view",value:o,onChange:a})})]})]})]})},ti=Me(Xs),ni=({data:e,settingsRef:n})=>{const{setSearchParamsFromKeys:o}=ht(),[r,a]=L([]),[s,i]=re(100,"rows_per_page"),l=E(()=>{const m=new Set;for(const h of e)for(const _ in h)m.add(_);return Array.from(m).sort((h,_)=>h.localeCompare(_))},[e]),c=m=>{i(m),o({rows_per_page:m})},d=F(()=>e,[e]),u=()=>n.current?Te(t("div",{className:"vm-table-view__settings",children:[t(qe,{limit:s,onChange:c}),t("div",{className:"vm-table-view__settings-buttons",children:[e.length>0&&t(ft,{getLogs:d}),t(ei,{columns:l,selectedColumns:r,onChangeColumns:a})]})]}),n.current):null;return e.length?t(j,{children:[u(),t(ti,{logs:e,displayColumns:r,tableCompact:!1,columns:l,rowsPerPage:Number(s)})]}):t(ln,{})},At="JSON settings",Nn=["asc","desc"],oi=({fields:e,sortQueryParamName:n,fieldSortQueryParamName:o})=>{const[r,a]=J(),s=D(null),[i,l]=L(null),{value:c,toggle:d,setFalse:u}=Z(),[m,h]=L(null),[_,p]=L(null);I(()=>{const y=r.get(n),k=A=>Nn.includes(A);if(y){const[A,N]=y.split(":").map(decodeURIComponent);A&&k(N)&&(h(A),p(N))}const C=r.get(o);(C==="asc"||C==="desc")&&l(C)},[r,n,o,h,p,l]);const v=F((y,k)=>{const C=new URLSearchParams(r.toString());!y||!k?C.delete(n):C.set(n,`${y}:${k||""}`),a(C)},[r,n]),f=y=>{const k=_||"asc";h(y),p(k),v(y,k)},g=()=>{h(null),p(null),v(null,null)},b=F(()=>{let y=null;i===null?y="asc":i==="asc"&&(y="desc"),l(y);const k=new URLSearchParams(r.toString());y?k.set(o,encodeURIComponent(y)):k.delete(o),a(k)},[i,r,o]),w=y=>{const k=m||e[0];h(k),p(y),v(k,y)},x=E(()=>({default:{title:"Set field sort order. Click to sort in ascending order",icon:t(ka,{})},asc:{title:"Fields sorted ascending. Click to sort in descending order",icon:t(Ca,{})},desc:{title:"Fields sorted descending. Click to reset sort",icon:t(xa,{})}}),[]),S=E(()=>{const{title:y,icon:k}=x[i??"default"];return t(Y,{title:y,children:t(V,{variant:"text",startIcon:k,onClick:b,ariaLabel:y})})},[i,d,b,x]);return t("div",{className:"vm-json-settings",children:[S,t(Y,{title:At,children:t("div",{ref:s,children:t(V,{variant:"text",startIcon:t(Ie,{}),onClick:d,ariaLabel:At})})}),c&&t(xe,{title:At,className:"vm-json-settings-modal",onClose:u,children:t("div",{className:"vm-json-settings-modal-section",children:t("div",{className:"vm-json-settings-modal-section__sort-settings-container",children:[t(it,{value:m||"",onChange:f,list:e,label:"Select field"}),t(it,{value:_||"",onChange:w,list:Nn,label:"Sort direction"}),(m||_)&&t(V,{variant:"outlined",color:"error",onClick:g,children:"Reset sort"})]})})})]})},Ho=({className:e})=>{const[n,o]=L(!1),r=()=>{const s=window.pageYOffset||document.documentElement.scrollTop,i=window.innerHeight;o(s>i)},a=F(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);return I(()=>(window.addEventListener("scroll",r),r(),()=>{window.removeEventListener("scroll",r)}),[]),t("div",{className:M({"vm-scroll-to-top-button":!0,"vm-scroll-to-top-button_visible":n},e),children:t(Y,{title:"Scroll to top",children:t(V,{variant:"contained",color:"primary",onClick:a,ariaLabel:"Scroll to top",startIcon:t(wa,{})})})})},ri=({title:e,getData:n,successfulCopiedMessage:o})=>{const r=ye(),a=F(()=>{r(n(),o)},[n,o]);return t(Y,{title:e,children:t(V,{variant:"text",startIcon:t(De,{}),onClick:a,ariaLabel:e})})},ai=(e,n)=>e.elementIndex<n.elementIndex?!0:e.elementIndex>n.elementIndex?!1:e.positionIndex<=n.positionIndex,cn=(e,n)=>ai(e,n)?{start:e,end:n}:{start:n,end:e},si=({start:e,end:n},o)=>{if(!e)return{start:o,end:null};if(!n)return{start:e,end:o};const{start:r,end:a}=cn(e,n);if(o.elementIndex<r.elementIndex||o.elementIndex===r.elementIndex&&o.positionIndex<r.positionIndex)return{start:o,end:a};if(o.elementIndex>a.elementIndex||o.elementIndex===a.elementIndex&&o.positionIndex>a.positionIndex)return{start:r,end:o};const s=Math.abs(o.elementIndex-r.elementIndex),i=Math.abs(o.elementIndex-a.elementIndex);return s<=i?{start:o,end:a}:{start:r,end:o}},Lt=(e,n,o)=>{const{start:r,end:a}=cn(n,o);return r.elementIndex===a.elementIndex?e[r.elementIndex].slice(r.positionIndex,a.positionIndex):e[r.elementIndex].slice(r.positionIndex)+`
`+e.slice(r.elementIndex,a.elementIndex).join(`
`)+e[a.elementIndex].slice(0,a.positionIndex)},ii=(e,n,o)=>{const r=new Set;return n.forEach(a=>{r.add(a.start),r.add(a.end)}),o&&(r.add(o.start),r.add(o.end)),r.add(0),r.add(e.length),Array.from(r).sort((a,s)=>a-s)},li=(e,n,o)=>o?e>=o.start&&n<=o.end:!1,ci=(e,n,o)=>o.some(r=>e>=r.start&&n<=r.end),di=(e,n)=>e&&n?"both":e?"selection":n?"search":null,ui=(e,n,o)=>{if(e.length===0)return[{text:"",highlight:null,start:0,end:0}];const r=[],a=ii(e,n,o);for(let s=0;s<a.length-1;s++){const i=a[s],l=a[s+1];if(i===l)continue;const c=li(i,l,o),d=ci(i,l,n),u=di(c,d);r.push({text:e.slice(i,l),highlight:u,start:i,end:l})}return r},In=(e,n,o,r=!0)=>{if(!n||n.length===0)return null;const a=n.toLowerCase();return o?r?hi(e,a,o):pi(e,a,o):mi(e,a)},mi=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].toLowerCase().indexOf(n);if(a!==-1)return{elementIndex:o,positionIndex:a}}return null},hi=(e,n,o)=>{const r=(c,d)=>{const m=e[c].toLowerCase().indexOf(n,d);return m!==-1?{elementIndex:c,positionIndex:m}:null},a=(c,d)=>{const h=e[c].toLowerCase().substring(0,d).indexOf(n);return h!==-1?{elementIndex:c,positionIndex:h}:null},s=(c,d)=>{for(let u=c;u<=d;u++){const m=r(u,0);if(m)return m}return null},i=r(o.elementIndex,o.positionIndex+1);if(i)return i;const l=s(o.elementIndex+1,e.length-1);if(l)return l;for(let c=0;c<=o.elementIndex;c++)if(c===o.elementIndex){const d=a(c,o.positionIndex+1);if(d)return d}else{const d=r(c,0);if(d)return d}return null},pi=(e,n,o)=>{const r=(c,d)=>{const h=e[c].toLowerCase().substring(0,d).lastIndexOf(n);return h!==-1?{elementIndex:c,positionIndex:h}:null},a=(c,d)=>{const h=e[c].toLowerCase().substring(d).lastIndexOf(n);return h!==-1?{elementIndex:c,positionIndex:d+h}:null},s=(c,d)=>{for(let u=c;u>=d;u--){const h=e[u].toLowerCase().lastIndexOf(n);if(h!==-1)return{elementIndex:u,positionIndex:h}}return null},i=r(o.elementIndex,o.positionIndex);if(i)return i;const l=s(o.elementIndex-1,0);if(l)return l;for(let c=e.length-1;c>=o.elementIndex;c--)if(c===o.elementIndex){const d=a(c,o.positionIndex);if(d)return d}else{const u=e[c].toLowerCase().lastIndexOf(n);if(u!==-1)return{elementIndex:c,positionIndex:u}}return null},Vo="vm_current_search_focus",En="#469DBD",Tn="#BDB300",Mn="#DF7700",Nt=Me(({text:e,searchValue:n="",selectionStart:o,selectionEnd:r,currentSearchPositionIndex:a})=>{const s=e.toLowerCase(),i=n.toLowerCase(),l=[];if(n){let u=0;for(;(u=s.indexOf(i,u))!==-1;)l.push({start:u,end:u+n.length,type:"search"}),u+=n.length}let c;o!==r&&o!==void 0&&r!==void 0&&(c={start:o,end:r,type:"selection"});const d=ui(e,l,c);return t("span",{children:d.map((u,m)=>{let h={};u.highlight==="search"?h={backgroundColor:Tn}:u.highlight==="selection"?h={backgroundColor:En}:u.highlight==="both"&&(h={backgroundColor:En,color:Tn});let _;return u.start===a&&(u.highlight==="both"?h.color=Mn:h.backgroundColor=Mn,_=Vo),t("span",{style:h,id:_,children:u.text},m)})})}),dn=(e,n=3)=>{const o=e.getAttribute("data-id");if(o)return{el:e,dataId:Number(o)};if(n>0){const r=e.parentElement;if(r&&r instanceof HTMLElement)return dn(r,n-1)}return null},Vt=e=>{const n=e.target,o=document.caretPositionFromPoint(e.clientX,e.clientY);if(!(n instanceof HTMLElement)||!o)return null;const r=dn(n);if(!r)return null;const{el:a,dataId:s}=r,i=document.createRange();i.setStart(o.offsetNode,o.offset);const l=document.createRange();l.selectNodeContents(a),l.setEnd(i.startContainer,i.startOffset);const c=l.toString();return{elementIndex:s,positionIndex:c.length}},Bo=e=>{const n=e.target,o=document.caretPositionFromPoint(e.clientX,e.clientY);if(!(n instanceof HTMLElement)||!o)return null;const r=dn(n);if(!r)return null;const{el:a,dataId:s}=r,i=a.textContent||"",l=document.createRange();l.setStart(o.offsetNode,o.offset);const c=document.createRange();c.selectNodeContents(a),c.setEnd(l.startContainer,l.startOffset);const d=c.toString().length,u=gi(i,d);return u?{start:{elementIndex:s,positionIndex:u.start},end:{elementIndex:s,positionIndex:u.end}}:null},_i=(e,n)=>{let o=n,r=n;for(;o>0&&/[\d.]/.test(e[o-1]);)o--;for(;r<e.length&&/[\d.]/.test(e[r]);)r++;const a=e.slice(o,r);return a.includes(".")&&/^[\d.]+$/.test(a)},gi=(e,n)=>{if(n<0||n>=e.length)return null;const o=e[n];if(!/[\w.]/.test(o))return null;let r=n,a=n;if(_i(e,n)){for(;r>0&&/[\d.]/.test(e[r-1]);)r--;for(;a<e.length&&/[\d.]/.test(e[a]);)a++;for(;r<a&&e[r]===".";)r++;for(;a>r&&e[a-1]===".";)a--}else{for(;r>0&&/\w/.test(e[r-1]);)r--;for(;a<e.length&&/\w/.test(e[a]);)a++}return{start:r,end:a}},fi=(e,n)=>{const[o,r]=L(null),[a,s]=L(null),i=D(null),l=D(0),c=D(null),d=D({start:null,end:null}),u=F(p=>{const v=p.target;if(!v)return null;const f=v.closest("[data-id]");if(!f)return null;const g=parseInt(f.getAttribute("data-id")||"0",10);return{start:{elementIndex:g,positionIndex:0},end:{elementIndex:g,positionIndex:f.textContent?.length||0}}},[]),m=F((p,v)=>{let g=0,b=0;p==="up"?g=-50:p==="down"&&(g=50),v==="left"?b=-50:v==="right"&&(b=50),e.current&&b!==0&&e.current.scrollBy(b,0),g!==0&&window.scrollBy(0,g)},[e]),h=F(p=>{p.preventDefault();const v=Vt(p);if(!v)return;d.current.end=v,s(v);const f=50,g=100,b=window.innerHeight,w=window.innerWidth,x=p.clientY,S=p.clientX;i.current&&(clearInterval(i.current),i.current=null);let y,k;x<f?y="up":x>b-f&&(y="down"),S<f?k="left":S>w-f&&(k="right"),(y||k)&&(i.current=setInterval(()=>{m(y,k)},g))},[m]),_=F((p,v)=>{d.current.start=p,d.current.end=v,r(p),s(v)},[]);return I(()=>{const p=g=>{if(g.button!==0||(g.preventDefault(),!e.current))return;const b=Bo(g);b&&(g.preventDefault(),n(),d.current=b,r(b.start),s(b.end))},v=g=>{if(g.button!==0||!e.current)return;l.current+=1,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l.current=0},400);const b=Vt(g);if(b){if(g.preventDefault(),n(),l.current===2){p(g);return}if(l.current===3){const w=u(g);w&&(d.current=w,r(w.start),s(w.end)),l.current=0;return}if(g.shiftKey){const w=si(d.current,b);d.current=w,r(w.start),s(w.end)}else d.current={start:b,end:null},s(null),r(b),document.addEventListener("mousemove",h)}},f=g=>{g.button===0&&(g.preventDefault(),i.current&&(clearInterval(i.current),i.current=null),document.removeEventListener("mousemove",h))};return e.current&&(e.current.addEventListener("mousedown",v),document.addEventListener("mouseup",f)),()=>{i.current&&clearInterval(i.current),c.current&&clearTimeout(c.current),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f),e.current&&e.current.removeEventListener("mousedown",v)}},[h,u]),{startSelectionPosition:o,endSelectionPosition:a,selectionRef:d,setSelection:_}},Pn=(e,n,o)=>{if(!n||!o)return!1;const{elementIndex:r,positionIndex:a}=e,{elementIndex:s,positionIndex:i}=n,{elementIndex:l,positionIndex:c}=o,d=s<l||s===l&&i<=c?{elementIndex:s,positionIndex:i}:{elementIndex:l,positionIndex:c},u=s<l||s===l&&i<=c?{elementIndex:l,positionIndex:c}:{elementIndex:s,positionIndex:i};return r<d.elementIndex||r>u.elementIndex?!1:r===d.elementIndex&&r===u.elementIndex?a>=d.positionIndex&&a<=u.positionIndex:r===d.elementIndex?a>=d.positionIndex:r===u.elementIndex?a<=u.positionIndex:!0},vi=({startSelectionPosition:e,endSelectionPosition:n,listRef:o,setSelection:r})=>{const[a,s]=L({isVisible:!1,x:0,y:0}),i=F(c=>{c.preventDefault();const d=Vt(c);if(!d)return;if(e&&n&&Pn(d,e,n)){s({isVisible:!0,x:c.clientX,y:c.clientY});return}const u=Bo(c);u&&(r(u.start,u.end),s({isVisible:!0,x:c.clientX,y:c.clientY}))},[e,n,Pn,r]),l=F(()=>{s({isVisible:!1,x:0,y:0})},[]);return I(()=>{o.current&&o.current.addEventListener("contextmenu",i);const c=()=>{l()};return document.addEventListener("click",c),()=>{o.current&&o.current.removeEventListener("contextmenu",i),document.removeEventListener("click",c)}},[i,l]),{contextMenu:a,handleCloseContextMenu:l}},bi=(e,n,o,r,a,s)=>{const i=a?.elementIndex===n?a.positionIndex:void 0;if(!o||!r)return s&&s.length>0?t(Nt,{text:e,searchValue:s,currentSearchPositionIndex:i}):e;const{start:l,end:c}=cn(o,r);if(l.elementIndex>n||c.elementIndex<n)return s&&s.length>0?t(Nt,{text:e,searchValue:s,currentSearchPositionIndex:i}):e;let d=0,u=e.length;return l.elementIndex===c.elementIndex?(d=l.positionIndex,u=c.positionIndex):l.elementIndex===n?d=l.positionIndex:c.elementIndex===n&&(u=c.positionIndex),t(Nt,{text:e,searchValue:s,selectionStart:d,selectionEnd:u,currentSearchPositionIndex:i})},yi=({data:e,elementHeight:n=16})=>{const o=E(()=>Math.ceil(window.innerHeight/n),[n]),r=D(null),a=D(null),s=D(null),[i,l]=L({startIndex:0,endIndex:Math.ceil(window.innerHeight/n)+o}),[c,d]=L(""),{value:u,setValue:m}=Z(),[h,_]=L(null),{value:p,setValue:v}=Z(),f=()=>{s.current?.blur()},{startSelectionPosition:g,endSelectionPosition:b,selectionRef:w,setSelection:x}=fi(r,f),{contextMenu:S,handleCloseContextMenu:y}=vi({startSelectionPosition:g,endSelectionPosition:b,listRef:r,setSelection:x}),k=ye(),C=e.length,A=O=>{if(O.key!=="Enter"&&O.key!=="ArrowDown"&&O.key!=="ArrowUp")return;O.preventDefault();const H=O.key!=="ArrowUp",$=In(e,c,h,H);if(_($),!!$&&($.elementIndex<i.startIndex||$.elementIndex>i.endIndex)){const G=Math.max(0,$.elementIndex-o),K=Math.min(C,G+i.endIndex-i.startIndex);l({startIndex:G,endIndex:K})}},N=F(O=>{const H=In(e,O,null,!0);_(H),d(O)},[e]),T=F(()=>{if(g&&b){const O=Lt(e,g,b);k(O,"Copied to clipboard")}},[e,g,b,k]);I(()=>{if(h&&r.current){const O=document.getElementById(Vo);O&&O.scrollIntoView({block:"center",inline:"nearest"})}},[h]),I(()=>{const O=()=>{if(r.current){const H=r.current.getBoundingClientRect(),$=window.innerHeight,G=Math.max(H?.top||0,0),K=Math.min(H?.bottom||0,$),te=Math.max(K-G,0);let U=0;H.top<=0&&(U=Math.floor(Math.abs(H.top)/n));const z=U+Math.ceil(te/n);l({startIndex:U-o>0?U-o:U,endIndex:z+o<C?z+o:z}),H.top<=50?m(!0):H.top>50&&m(!1)}};return document.addEventListener("scroll",O),()=>{document.removeEventListener("scroll",O)}},[]),I(()=>{const O=$=>{$.key==="Escape"&&(console.log("Escape"),v(!1),d(""),y())},H=$=>{if(($.ctrlKey||$.metaKey)&&$.key.toLowerCase()==="f"){$.preventDefault();let G="";if(w.current.start&&w.current.end)G=Lt(e,w.current.start,w.current.end);else if(p&&s.current){s.current.focus?.();return}d(G),v(!0),s.current?.focus?.()}};return window.addEventListener("keydown",H),window.addEventListener("keydown",O,!0),a.current?.addEventListener("keydown",O,!0),()=>{window.removeEventListener("keydown",H),window.removeEventListener("keydown",O,!0),a.current?.removeEventListener("keydown",O,!0)}},[e,y,p]),I(()=>{if(!b)return;const O=H=>{if((H.ctrlKey||H.metaKey)&&H.key.toLowerCase()==="c"&&g&&b){H.preventDefault();const $=Lt(e,g,b);k($,"Copied to clipboard")}};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[b]);const P=C*n-i.endIndex*n,B=i.startIndex*n;return t(j,{children:[t("div",{className:"vm-document-virtualized-list",ref:r,style:{paddingBottom:P,paddingTop:B},children:e.slice(i.startIndex,i.endIndex).map((O,H)=>t("pre",{style:{lineHeight:`${n}px`},"data-id":H+i.startIndex,children:bi(O,H+i.startIndex,g,b,h,c)},H+i.startIndex))}),p&&t("div",{style:{position:u?"fixed":"absolute"},ref:a,className:"vm-document-virtualized-list__search",children:t(Ce,{ref:s,value:c,onChange:N,onKeyDown:A,autofocus:!0,type:"text"})}),t(se,{open:S.isVisible,placementPosition:{top:S.y,left:S.x},placement:"fixed",onClose:y,buttonRef:r,children:t(V,{onClick:T,variant:"text",children:"Copy"})})]})},wi=({data:e})=>{const n=E(()=>JSON.stringify(e,null,2).split(`
`),[e]);return t("div",{className:"vm-json-view",children:t(yi,{data:n})})},ki=Me(wi),On="json_sort",Dn="json_field_sort",Ci=({data:e,settingsRef:n})=>{const o=F(()=>e,[e]),[r]=J(),a=r.get(On),s=r.get(Dn),[i,l]=E(()=>{const[_,p]=a?.split(":").map(decodeURIComponent)||[];return[_,p]},[a]),c=E(()=>{const _=new Set(e.flatMap(Object.keys));return Array.from(_)},[e]),d=E(()=>{if(!s)return e;const _=c.toSorted((p,v)=>s==="asc"?p.localeCompare(v):v.localeCompare(p));return e.map(p=>_.reduce((v,f)=>(p[f]&&(v[f]=p[f]),v),{}))},[c,s,e]),u=E(()=>!i||!l?d:er(d,[i],[l]),[d,i,l]),m=F(()=>JSON.stringify(u,null,2),[u]),h=()=>n.current?Te(e.length>0&&t("div",{className:"vm-json-view__settings-container",children:[t(ri,{title:"Copy JSON",getData:m,successfulCopiedMessage:"Copied JSON to clipboard"}),t(ft,{getLogs:o}),t(oi,{fields:c,sortQueryParamName:On,fieldSortQueryParamName:Dn})]}),n.current):null;return e.length?t("div",{className:"vm-json-view",children:[h(),t(ki,{data:u}),t(Ho,{})]}):t(ln,{})};class xi{threshold;windowSize;minHighCount;minNormalCount;window;state;constructor(n=200,o=10,r=6,a=2){this.threshold=n,this.windowSize=o,this.minHighCount=r,this.minNormalCount=a,this.window=[],this.state="normal"}update(n){this.window.push(n),this.window.length>this.windowSize&&this.window.shift();const o=this.window.filter(r=>r>this.threshold).length;return this.state==="normal"?o>=this.minHighCount&&(this.state="high"):this.state==="high"&&o<this.minNormalCount&&(this.state="normal"),this.state}}const Bt="live_tailing_offset",zn=200,Rn=5e3,Fn=1e3,Si=(e,n,o,r)=>async a=>{let s=Date.now();const i=setInterval(()=>{if(Date.now()-s>Rn){clearInterval(i),r();return}},Rn);try{for(;;){const{done:l,value:c}=await a.read();if(l)break;s=Date.now();const d=new TextDecoder().decode(c),u=(e.current+d).split(`
`);e.current=u.pop()||"",n.current=[...n.current,...u]}}catch(l){l instanceof Error&&l.name!=="AbortError"&&(console.error("Stream processing error:",l),r())}finally{clearInterval(i)}},Ai=(e,n)=>e.map(o=>{try{const r=o&&JSON.parse(o);return r._log_id=n.current++,r}catch(r){return console.error(`Failed to parse "${o}" to JSON
`,r),null}}).filter(Boolean),Li=({lines:e,limit:n,counterRef:o,setIsLimitedLogsPerUpdate:r,setLogs:a,bufferLinesRef:s,logFlowAnalyzerRef:i})=>{const l=i?.current?.update(e.length)==="high",c=l&&e.length>zn?e.slice(-zn):e,d=Ai(c,o);r(l),a(u=>{const m=[...u,...d];return m.length>n?m.slice(-n):m}),s.current=[]},Ni=(e,n)=>{const{serverUrl:o}=ne(),[r]=re(5,Bt),[a,s]=L([]),{value:i,setTrue:l,setFalse:c}=Z(),d=_t(),[u,m]=L(),[h,_]=L(!1),p=D(0n),v=D(new AbortController),f=D(null),g=D(null),b=D(""),w=D([]),x=D(new xi),S=F(()=>{f.current&&(f.current.cancel(),f.current=null),g.current&&clearInterval(g.current),b.current&&(b.current=""),v.current.abort()},[]),y=F(async()=>{S(),v.current=new AbortController;const{signal:C}=v.current;m(void 0);try{const A=await fetch(`${o}/select/logsql/tail`,{signal:C,method:"POST",headers:{...d},body:new URLSearchParams({query:e.trim(),offset:`${r}s`})});if(!A.ok||!A.body){const P=await A.text();return m(P),s([]),!1}const N=A.body.getReader();return f.current=N,Si(b,w,m,y)(N),!0}catch(A){return A instanceof Error&&A.name!=="AbortError"&&(m(String(A)),console.error(A),s([])),!1}},[e,S,r]);I(()=>{if(i){const A=setInterval(()=>{w.current.length>n&&(w.current=w.current.slice(-n))},Fn);return()=>{clearInterval(A)}}const C=setInterval(()=>{const A=w.current;Li({lines:A,limit:n,counterRef:p,setIsLimitedLogsPerUpdate:_,setLogs:s,bufferLinesRef:w,logFlowAnalyzerRef:x})},Fn);return()=>clearInterval(C)},[n,i,h]);const k=F(()=>{s([])},[]);return{logs:a,isPaused:i,error:u,startLiveTailing:y,stopLiveTailing:S,pauseLiveTailing:l,resumeLiveTailing:c,clearLogs:k,isLimitedLogsPerUpdate:h}},Ii=({settingsRef:e,rowsPerPage:n,handleSetRowsPerPage:o,logs:r,isPaused:a,handleResumeLiveTailing:s,pauseLiveTailing:i,clearLogs:l,isRawJsonView:c,onRawJsonViewChange:d,offset:u,handleSetOffset:m})=>{const h=D(null),{value:_,setFalse:p,setTrue:v}=Z(),f=F(()=>r.map(({_log_id:g,...b})=>b),[r]);return e.current?Te(t("div",{className:"vm-live-tailing-view__settings",children:[t(qe,{limit:n,onChange:o,onOpenSelect:i}),t(qe,{label:"Offset",limit:`${u}s`,options:[5,10,15,30,45,60],onChange:m,onOpenSelect:i}),t("div",{className:"vm-live-tailing-view__settings-buttons",children:[r.length>0&&t(ft,{getLogs:f}),a?t(Y,{title:"Resume live tailing",children:t(V,{variant:"text",color:"primary",onClick:s,startIcon:t(go,{}),ariaLabel:"Resume live tailing"})}):t(Y,{title:"Pause live tailing",children:t(V,{variant:"text",color:"primary",onClick:i,startIcon:t(ya,{}),ariaLabel:"Pause live tailing"})}),t(Y,{title:"Clear logs",children:t(V,{variant:"text",color:"secondary",onClick:l,startIcon:t(vo,{}),ariaLabel:"Clear logs"})}),t(Y,{title:"Settings",children:t(V,{ref:h,variant:"text",onClick:v,startIcon:t(Ie,{}),ariaLabel:"Settings"})}),_&&t(xe,{onClose:p,title:"Live tailing settings",children:t("div",{className:"vm-live-tailing-view__settings-modal",children:t("div",{className:"vm-live-tailing-view__settings-modal-item",children:[t(ue,{label:"Raw JSON View",value:c,onChange:d}),t("span",{className:"vm-group-logs-configurator-item__info",children:"When this option is enabled, logs will be displayed in raw JSON format. This improves performance and uses less CPU and memory."})]})})})]})]}),e.current):null},Ei=100,Ti=()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Hn=tr(Ti,200),Mi=({settingsRef:e})=>{const n=D(null),[o,r]=L(!0),[a]=J(),{setSearchParamsFromKeys:s}=ht(),[i]=re(100,"rows_per_page"),[l]=re(5,Bt),[c,d]=re("*","query"),[u,m]=pt("RAW_JSON_LIVE_VIEW"),{logs:h,isPaused:_,error:p,startLiveTailing:v,stopLiveTailing:f,pauseLiveTailing:g,resumeLiveTailing:b,clearLogs:w,isLimitedLogsPerUpdate:x}=Ni(c,i),S=a.get(X.DISPLAY_FIELDS)||Fe,y=E(()=>S.split(","),[S]),k=F(()=>{Hn(),b()},[b]),C=F(N=>{s({rows_per_page:N})},[s]),A=F(N=>{s({[Bt]:N})},[s]);return I(()=>(v(),()=>f()),[v,f,l]),I(()=>{if(!n.current)return;let T=[];const P=()=>{const{scrollTop:B,scrollHeight:O,clientHeight:H}=document.documentElement,$=Math.abs(O-B-H)<Ei;r($),T.push(B),T=T.slice(-3);const G=Ya(T);!$&&!_&&G&&g()};return document.addEventListener("scroll",P),()=>document.removeEventListener("scroll",P)},[_,g,b]),I(()=>{o&&!_&&Hn()},[h,o]),I(()=>{k()},[i,l]),p?t("div",{className:"vm-live-tailing-view__error",children:p}):t(j,{children:[t(Ii,{settingsRef:e,rowsPerPage:i,handleSetRowsPerPage:C,logs:h,isPaused:_,handleResumeLiveTailing:k,pauseLiveTailing:g,clearLogs:w,isRawJsonView:u,onRawJsonViewChange:m,offset:l,handleSetOffset:A}),t(Ho,{}),t("div",{ref:n,className:"vm-live-tailing-view__container",children:h.length===0?t("div",{className:"vm-live-tailing-view__empty",children:"Waiting for logs..."}):t("div",{className:"vm-live-tailing-view__logs",children:h.map(({_log_id:N,...T},P)=>u?t("pre",{className:"vm-live-tailing-view__log-row",onMouseDown:g,children:JSON.stringify(T)},P):t(st,{log:T,onItemClick:g,hideGroupButton:!0,displayFields:y},N))})}),x&&t(Ee,{variant:"warning",children:"Too many logs per second detected. Large volumes of log data are difficult to process and may impact performance. We recommend adding filters to your query for better analysis and system performance."})]})},Vn=[{label:"Group",value:"group",icon:t(ua,{}),Component:qs},{label:"Table",value:"table",icon:t(ia,{}),Component:ni},{label:"JSON",value:"json",icon:t(fo,{}),Component:Ci},{label:"Live",value:"liveTailing",icon:t(_o,{}),Component:Mi}],Pi=({data:e,isLoading:n})=>{const{isMobile:o}=W(),{setSearchParamsFromKeys:r}=ht(),[a,s]=re("group","view"),i=D(null),[l,c]=J(),[d,u]=re(!1,"hide_logs"),m=()=>{u(p=>{const v=!p;return v?l.set("hide_logs","true"):l.delete("hide_logs"),c(l),v})},h=p=>{s(p),r({view:p})},_=Vn.find(p=>p.value===a)?.Component;return t("div",{className:M({"vm-explore-logs-body":!0,"vm-block":!0,"vm-block_mobile":o}),children:[n&&t(sn,{}),t("div",{className:M({"vm-explore-logs-body-header":!0,"vm-section-header":!0,"vm-explore-logs-body-header_mobile":o}),children:[t("div",{className:M({"vm-section-header__tabs":!0,"vm-explore-logs-body-header__tabs_mobile":o}),children:[t(So,{activeItem:String(a),items:Vn,onChange:h}),a!=="liveTailing"&&t("div",{className:"vm-explore-logs-body-header__log-info",children:["Total logs returned: ",t("b",{children:e.length})]})]}),t("div",{className:"vm-explore-logs-body-header__settings",ref:i}),t(Y,{title:d?"Show Logs":"Hide Logs",children:t(V,{variant:"text",color:"primary",startIcon:d?t(rn,{}):t(je,{}),onClick:m,ariaLabel:"settings"})})]}),t("div",{className:M({"vm-explore-logs-body__table":!0,"vm-explore-logs-body__table_hide":d,"vm-explore-logs-body__table_mobile":o}),children:[d&&t(Ee,{variant:"info",children:"Logs are hidden. Updates paused."}),!d&&_&&t(_,{data:e,settingsRef:i})]})]})},Oi=({value:e,onChange:n,onEnter:o,onArrowUp:r,onArrowDown:a,autocomplete:s,autocompleteEl:i,error:l,stats:c,label:d,disabled:u=!1,includeFunctions:m=!0})=>{const{autocompleteQuick:h}=ut(),{isMobile:_}=W(),[p,v]=L(!1),[f,g]=L([0,0]),[b,w]=L([0,0]),x=D(null),[S,y]=L(!1),k=D(Xn(y,500)).current;c?.executionTimeMsec!==void 0&&(d=`${d} (${c.executionTimeMsec||0}ms)`);const C=(P,B)=>{n(P),w([B,B])},A=P=>{const{key:B,ctrlKey:O,metaKey:H,shiftKey:$}=P,K=(P.target.value||"").split(`
`).length>1,te=O||H,U=B==="ArrowUp",z=B==="ArrowDown",Q=B==="Enter";U&&te&&(P.preventDefault(),r()),z&&te&&(P.preventDefault(),a()),Q&&p&&P.preventDefault(),Q&&!$&&(!K||te)&&!p&&(P.preventDefault(),o())},N=P=>{v(!!P.length)},T=P=>{g(B=>B[0]===P[0]&&B[1]===P[1]?B:P)};return I(()=>{v(!!i&&h)},[h]),I(()=>{y(!1),k(f.every(Boolean))},[f]),t("div",{className:"vm-query-editor",ref:x,children:[t(Ce,{value:e,label:d,type:"textarea",autofocus:!_,error:l,onKeyDown:A,onChange:n,onChangeCaret:T,disabled:u,inputmode:"search",caretPosition:b}),s&&i&&t(i,{value:e,anchorEl:x,caretPosition:f,hasHelperText:!!l,includeFunctions:m,onSelect:C,onFoundOptions:N,isOpen:S})]})};var de=(e=>(e.Filter="Filter",e.Pipe="Pipe",e.Operator="Operator",e.FilterOrPipe="FilterOrPipe",e))(de||{}),q=(e=>(e.FilterName="FilterName",e.FilterUnknown="FilterUnknown",e.FilterValue="FilterValue",e.PipeName="Pipes",e.PipeValue="PipeValue",e.Unknown="Unknown",e.FilterOrPipeName="FilterOrPipeName",e))(q||{});const Di="https://docs.victoriametrics.com/victorialogs/logsql",zi="vm-link vm-link_colored",Ri=e=>{const n=`$1 target="_blank" class="${zi}" $2`,o=`$1 $2${Di}#`;return e.replace(/(<a) (href=")#/gm,o).replace(/(<a) (href="[^"]+")/gm,n)},$t=[{value:"copy",description:'<a href="#copy-pipe"><code>copy</code></a> copies <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"delete",description:'<a href="#delete-pipe"><code>delete</code></a> deletes <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"drop_empty_fields",description:'<a href="#drop_empty_fields-pipe"><code>drop_empty_fields</code></a> drops <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with empty values.'},{value:"extract",description:'<a href="#extract-pipe"><code>extract</code></a> extracts the specified text into the given log fields.'},{value:"extract_regexp",description:'<a href="#extract_regexp-pipe"><code>extract_regexp</code></a> extracts the specified text into the given log fields via <a href="https://github.com/google/re2/wiki/Syntax" rel="external" target="_blank">RE2 regular expressions</a>.'},{value:"field_names",description:'<a href="#field_names-pipe"><code>field_names</code></a> returns all the names of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"field_values",description:'<a href="#field_values-pipe"><code>field_values</code></a> returns all the values for the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log field</a>.'},{value:"fields",description:'<a href="#fields-pipe"><code>fields</code></a> selects the given set of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"filter",description:'<a href="#filter-pipe"><code>filter</code></a> applies additional <a href="#filters">filters</a> to results.'},{value:"format",description:'<a href="#format-pipe"><code>format</code></a> formats output field from input <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"limit",description:'<a href="#limit-pipe"><code>limit</code></a> limits the number selected logs.'},{value:"math",description:'<a href="#math-pipe"><code>math</code></a> performs mathematical calculations over <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"offset",description:'<a href="#offset-pipe"><code>offset</code></a> skips the given number of selected logs.'},{value:"pack_json",description:'<a href="#pack_json-pipe"><code>pack_json</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into JSON object.'},{value:"pack_logfmt",description:'<a href="#pack_logfmt-pipe"><code>pack_logfmt</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> message.'},{value:"rename",description:'<a href="#rename-pipe"><code>rename</code></a> renames <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace",description:'<a href="#replace-pipe"><code>replace</code></a> replaces substrings in the specified <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace_regexp",description:'<a href="#replace_regexp-pipe"><code>replace_regexp</code></a> updates <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with regular expressions.'},{value:"sort",description:'<a href="#sort-pipe"><code>sort</code></a> sorts logs by the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">fields</a>.'},{value:"stats",description:'<a href="#stats-pipe"><code>stats</code></a> calculates various stats over the selected logs.'},{value:"stream_context",description:`<a href="#stream_context-pipe"><code>stream_context</code></a> allows selecting surrounding logs in front and after the matching logs
per each <a href="/victorialogs/keyconcepts/#stream-fields">log stream</a>.`},{value:"top",description:'<a href="#top-pipe"><code>top</code></a> returns top <code>N</code> field sets with the maximum number of matching logs.'},{value:"uniq",description:'<a href="#uniq-pipe"><code>uniq</code></a> returns unique log entries.'},{value:"unpack_json",description:'<a href="#unpack_json-pipe"><code>unpack_json</code></a> unpacks JSON messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_logfmt",description:'<a href="#unpack_logfmt-pipe"><code>unpack_logfmt</code></a> unpacks <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_syslog",description:'<a href="#unpack_syslog-pipe"><code>unpack_syslog</code></a> unpacks <a href="https://en.wikipedia.org/wiki/Syslog" rel="external" target="_blank">syslog</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unroll",description:'<a href="#unroll-pipe"><code>unroll</code></a> unrolls JSON arrays from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'}].map(e=>({...e,type:q.PipeName,icon:t(Ft,{}),description:Ri(e.description)})),Fi=["AND","OR","NOT"],Hi=$t.map(e=>e.value),Vi=e=>{const n=e,o=[];let r="",a,s=!1;const i=["'",'"',"`"];let l=!1,c="";const d=["(","[","{"],u=[")","]","}"],m=[...d,...u];let h=0,_=0;for(let p=0;p<n.length;p++){const v=n[p];if(i.includes(v)){const f=l&&v===c;l=!f,c=f?"":v}if(!l&&m.includes(v)){const f=d.includes(v)?1:-1;h+=f}if(!l&&!h&&v==="|"){s=!0;const f=r.match(/^ */)?.[0].length||0,g=r.match(/ *$/)?.[0].length||0;It(r,!0,[_+f,p-g-1],o,a),r="",a="|",_=p+1;continue}if(!s&&!l&&!h&&v===" "){const f=n.slice(p).replace(/^\s*/,""),g=n.slice(0,p).replace(/\s*$/,"");if(!f.startsWith(":")&&!g.endsWith(":")){It(r,!1,[_,p-1],o,a),a=" ",r="",_=p+1;continue}}r+=v}return It(r,s,[_,n.length],o,a),o},It=(e,n,o,r,a)=>{const s=e.trim();if(!s)return;const i=Fi.includes(s.toUpperCase()),l=[de.Pipe,de.FilterOrPipe],c=r.length>0&&l.includes(r[r.length-1].type),d=()=>c?de.FilterOrPipe:n?de.Pipe:i?de.Operator:de.Filter;r.push({id:r.length,value:s,position:o,type:d(),separator:a})},Bi=(e,n)=>{const o=e.value.substring(0,n),r=e.value.substring(n),a={valueBeforeCursor:o,valueAfterCursor:r,valueContext:e.value,contextType:q.Unknown};return Ui(e,o,r,a),a.valueContext=a.valueContext.replace(/^["']|["']$/g,""),a},$o=e=>Hi.some(n=>e.startsWith(n)),$i=(e,n)=>!e.includes(":")&&!n.includes(":"),Uo=(e,n)=>{const[o,...r]=e.split(":");n.contextType=q.FilterValue,n.filterName=o;const s=["=","-","!"].find(i=>i===r[0]);s?(n.valueContext=r.slice(1).join(":"),n.operator=`:${s}`):(n.valueContext=r.join(":"),n.operator=":")},Ui=(e,n,o,r)=>{switch(e.type){case de.Filter:Yi(n,o,r);break;case de.Pipe:r.contextType=$o(e.value)?q.PipeValue:q.PipeName;break;case de.FilterOrPipe:ji(e.value,n,r);break}},Yi=(e,n,o)=>{$i(e,n)?o.contextType=q.FilterUnknown:e.includes(":")?Uo(e,o):o.contextType=q.FilterName},ji=(e,n,o)=>{$o(e)?o.contextType=q.PipeValue:n.includes(":")?Uo(n,o):o.contextType=q.FilterOrPipeName},qi=e=>{if(e.includes("=")){const[n,o]=e.split("=");if(o)return`_stream:${n}=~${o}.*"}`}return"*"},Bn=(e,n)=>{const o=e.lastIndexOf(n);return o!==-1?e.slice(0,o):""},Wi=e=>{let n="";return e.valueContext.includes(":")?n=Bn(e.valueContext,":"):e.valueContext.includes("-")&&(n=Bn(e.valueContext,"-")),n?`${e.filterName}:${n}`:"*"},Gi=e=>{let n="";return!e.filterName||!e.query||["_msg","_stream_id"].includes(e.filterName)?n="*":e.filterName==="_stream"?n=qi(e.valueContext):e.filterName==="_time"?n=Wi(e):n=`${e.filterName}:${e.valueContext}*`,e.queryBeforeIncompleteFilter?`${e.queryBeforeIncompleteFilter}${e.separator??" "}${n}`:n},Ki={[q.FilterName]:t(vn,{}),[q.FilterUnknown]:t(vn,{}),[q.FilterValue]:t(bn,{}),[q.PipeName]:t(Ft,{}),[q.PipeValue]:t(pa,{}),[q.Unknown]:t(bn,{}),[q.FilterOrPipeName]:t(Ft,{})},Zi=e=>{const{serverUrl:n}=ne(),{period:{start:o,end:r}}=Ke(),{autocompleteCache:a}=nn(),s=uo(),i=_t(),[l,c]=L(!1),[d,u]=L([]),[m,h]=L([]),_=D(new AbortController),p=F(g=>{const b=R(o*1e3).startOf("day").valueOf()/1e3,w=R(r*1e3).endOf("day").valueOf()/1e3;return new URLSearchParams({...g||{},limit:`${Ye.queryLimit}`,start:`${b}`,end:`${w}`})},[o,r]),v=(g,b)=>g.map(w=>({value:w.value,type:`${b}`,icon:Ki[b]})),f=async({urlSuffix:g,setter:b,params:w})=>{_.current.abort(),_.current=new AbortController;const{signal:x}=_.current,S=new URLSearchParams(i).toString(),y=`${g}?${w?.toString()}&${S}`;c(!0);try{const k=a.get(y);if(k){b(k),c(!1);return}const C=await fetch(`${n}/select/logsql/${g}?${w}`,{signal:x,headers:{...i}});if(C.ok){const N=(await C.json())?.values||[];b(N||[]),s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:y,value:N}})}c(!1)}catch(k){k instanceof Error&&k.name!=="AbortError"&&(s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:y,value:[]}}),c(!1),console.error(k))}};return I(()=>{const b=![q.FilterName,q.FilterUnknown,q.FilterOrPipeName].includes(e?.contextType||q.Unknown);return!n||b?void 0:(u([]),f({urlSuffix:"field_names",setter:x=>{u(v(x,q.FilterName))},params:p({query:e?.queryBeforeIncompleteFilter||"*"})}),()=>_.current?.abort())},[n,e]),I(()=>{const g=e?.contextType!==q.FilterValue;return!n||g||!e?.filterName?void 0:(h([]),f({urlSuffix:"field_values",setter:w=>{h(v(w,q.FilterValue))},params:p({query:Gi(e),field:e.filterName})}),()=>_.current?.abort())},[n,e]),{fieldNames:d,fieldValues:m,loading:l}},Qi=({value:e,anchorEl:n,caretPosition:o,hasHelperText:r,onSelect:a,onFoundOptions:s,isOpen:i})=>{const[l,c]=L({top:0,left:0}),d=E(()=>{if(o[0]!==o[1])return{valueBeforeCursor:e,valueAfterCursor:""};const w=e.substring(0,o[0]),x=e.substring(o[1]);return{valueBeforeCursor:w,valueAfterCursor:x}},[e,o]),u=E(()=>Vi(e),[e]),m=E(()=>{if(o[0]!==o[1])return;const w=u.find(k=>o[0]>=k.position[0]&&o[0]<=k.position[1]);if(!w)return;const x=o[0]-w.position[0],S=u.find(k=>k.id===w.id-1),y=S?e.substring(0,S.position[1]+1):void 0;return{...w,queryBeforeIncompleteFilter:y,query:e,...Bi(w,x)}},[u,o,e]),{fieldNames:h,fieldValues:_,loading:p}=Zi(m),v=E(()=>{switch(m?.contextType){case q.FilterName:case q.FilterUnknown:return h;case q.FilterValue:return _;case q.PipeName:return $t;case q.FilterOrPipeName:return[...h,...$t];default:return[]}},[m,h,_]),f=(w,x,S)=>x.reduce((y,k)=>{const C=k.id===S?w:k.value,A=k.separator==="|"?" | ":" ";return`${y}${A}${C}`},"").trim(),g=(w,x,S="",y)=>{let k=w;if(y===q.FilterName)k+=":";else if(x===q.FilterValue){const C=S.startsWith("_stream:")?k:`${JSON.stringify(k)}`;k=`${m?.filterName||""}${m?.operator||":"}${C}`}return k},b=F((w,x)=>{const{id:S,contextType:y=q.FilterUnknown,value:k="",position:C=[0,0]}=m||{},A=g(w,y,k,x.type),N=f(A,u,S),T=u.find(O=>O.id===S),P=()=>T?.type===de.FilterOrPipe||x.type===q.PipeName?1:0,B=(C[0]||1)+A.length+P();a(N,B)},[m,u]);if(I(()=>{if(!n.current){c({top:0,left:0});return}const w=n.current.querySelector("textarea")||n.current,x=window.getComputedStyle(w),S=`${x.getPropertyValue("font-size")}`,y=`${x.getPropertyValue("font-family")}`,k=parseInt(`${x.getPropertyValue("line-height")}`),C=document.createElement("div");C.style.font=`${S} ${y}`,C.style.padding=x.getPropertyValue("padding"),C.style.lineHeight=`${k}px`,C.style.width=`${w.offsetWidth}px`,C.style.maxWidth=`${w.offsetWidth}px`,C.style.whiteSpace=x.getPropertyValue("white-space"),C.style.overflowWrap=x.getPropertyValue("overflow-wrap");const A=document.createElement("span");C.appendChild(document.createTextNode(d.valueBeforeCursor||"")),C.appendChild(A),C.appendChild(document.createTextNode(d.valueAfterCursor||"")),document.body.appendChild(C);const N=C.getBoundingClientRect(),T=A.getBoundingClientRect(),P=T.left-N.left,B=T.bottom-N.bottom-(r?k:0);c({top:B,left:P}),C.remove(),A.remove()},[n,o,r,d]),!!i)return t(j,{children:t(zo,{loading:p,disabledFullScreen:!0,value:m?.valueContext||"",options:v,anchor:n,minLength:0,offset:l,onSelect:b,onFoundOptions:s,maxDisplayResults:{limit:Ye.displayResults,message:"Please, specify the query more precisely."}})})},Ji=({query:e,favorites:n,onRun:o,onToggleFavorite:r})=>{const a=ye(),s=E(()=>n.includes(e),[e,n]);return t("div",{className:"vm-query-history-item",children:[t("span",{className:"vm-query-history-item__value",children:e}),t("div",{className:"vm-query-history-item__buttons",children:[t(Y,{title:"Execute query",children:t(V,{size:"small",variant:"text",onClick:()=>{o(e)},startIcon:t(go,{})})}),t(Y,{title:"Copy query",children:t(V,{size:"small",variant:"text",onClick:async()=>{await a(e,"Query has been copied")},startIcon:t(De,{})})}),t(Y,{title:s?"Remove Favorite":"Add to Favorites",children:t(V,{size:"small",variant:"text",color:s?"warning":"primary",onClick:()=>{r(e,s)},startIcon:s?t(ha,{}):t(ma,{})})})]})]})},Ae={session:"session",storage:"saved",favorite:"favorite"},$n=[{label:"Session history",value:Ae.session},{label:"Saved history",value:Ae.storage},{label:"Favorite queries",value:Ae.favorite}],Xi=({handleSelectQuery:e,historyKey:n})=>{const{queryHistory:o}=ut(),{isMobile:r}=W(),{value:a,setTrue:s,setFalse:i}=Z(),[l,c]=L($n[0].value),[d,u]=L(Ve(n,"QUERY_HISTORY")),[m,h]=L(Ve(n,"QUERY_FAVORITES")),_=E(()=>o.map(S=>S.values.filter(y=>y).reverse()),[o]),p=E(()=>{switch(l){case Ae.favorite:return m;case Ae.storage:return d;default:return _}},[l,m,d,_]),v=p?.every(S=>!S.length),f=E(()=>{switch(l){case Ae.favorite:return`Favorites queries are empty.
To see your favorites, mark a query as a favorite.`;default:return`Query history is empty.
To see the history, please make a query.`}},[l]),g=S=>y=>{e(y,S),i()},b=(S,y)=>{h(k=>{const C=k[0]||[];return y?[C.filter(A=>A!==S)]:!y&&!C.includes(S)?[[...C,S]]:k})},w=()=>{u(Ve(n,"QUERY_HISTORY")),h(Ve(n,"QUERY_FAVORITES"))},x=()=>{qr(n,"QUERY_HISTORY")};return I(()=>{const S=m[0]||[],y=Ve(n,"QUERY_FAVORITES")[0]||[];Lo(S,y)||jr(n,m)},[m]),ee("storage",w),t(j,{children:[t(V,{color:"primary",variant:"outlined",onClick:s,startIcon:t(zt,{}),ariaLabel:"Query history",children:"Query history"}),a&&t(xe,{title:"Query history",onClose:i,children:t("div",{className:M({"vm-query-history":!0,"vm-query-history_mobile":r}),children:[t("div",{className:M({"vm-query-history__tabs":!0,"vm-section-header__tabs":!0,"vm-query-history__tabs_mobile":r}),children:t(So,{activeItem:l,items:$n,onChange:c})}),t("div",{className:"vm-query-history-list",children:[v&&t("div",{className:"vm-query-history-list__no-data",children:f}),p.map((S,y)=>t("div",{children:[p.length>1&&t("div",{className:M({"vm-query-history-list__group-title":!0,"vm-query-history-list__group-title_first":y===0}),children:["Query ",y+1]}),S.map((k,C)=>t(Ji,{query:k,favorites:m.flat(),onRun:g(y),onToggleFavorite:b},C))]},y)),l===Ae.storage&&!v&&t("div",{className:"vm-query-history-footer",children:t(V,{color:"error",variant:"outlined",size:"small",startIcon:t(vo,{}),onClick:x,children:"clear history"})})]})]})})]})},el=()=>{const e=en(),n=F(r=>{e({type:"SET_AUTOCOMPLETE_QUICK",payload:r})},[e]);return ee("keydown",r=>{const{code:a,ctrlKey:s,altKey:i}=r;a==="Space"&&(s||i)&&(r.preventDefault(),n(!0))}),n};an();an();const tl=t(j,{children:[t("code",{children:an()?"Option":"Ctrl"})," + ",t("code",{children:"Space"})]}),nl=({query:e,queryDurationMs:n,limit:o,error:r,isLoading:a,onChange:s,onChangeLimit:i,onRun:l})=>{const{isMobile:c}=W(),{autocomplete:d,queryHistory:u,autocompleteQuick:m}=ut(),h=en(),_=el(),[p,v]=L(""),[f,g]=L(o),{value:b,setValue:w}=Z(),x=N=>{const T=+N;g(T),isNaN(T)||T<0?v("Number must be bigger than zero"):(v(""),i(T))},S=()=>{h({type:"TOGGLE_AUTOCOMPLETE"})};I(()=>{g(o)},[o]);const y=N=>{const{values:T,index:P}=u[0],B=P+N;B<0||B>=T.length||(s(T[B]||""),h({type:"SET_QUERY_HISTORY_BY_INDEX",payload:{value:{values:T,index:B},queryNumber:0}}))},k=N=>{s(N),w(!0)},C=N=>()=>{y(N)};I(()=>{b&&(l(),w(!1))},[e,b]);const A=N=>{s(N),m&&_(!1)};return t("div",{className:M({"vm-explore-logs-header":!0,"vm-block":!0,"vm-block_mobile":c}),children:[t("div",{className:"vm-explore-logs-header-top",children:[t(Oi,{value:e,autocomplete:d||m,autocompleteEl:Qi,onArrowUp:C(-1),onArrowDown:C(1),onEnter:l,onChange:A,label:"Log query",error:r,stats:{executionTimeMsec:n}}),t(Ce,{label:"Limit entries",type:"number",value:f,error:p,onChange:x,onEnter:l})]}),t("div",{className:"vm-explore-logs-header-bottom",children:[t("div",{className:"vm-explore-logs-header-bottom-contols",children:t(Y,{title:t(j,{children:["Quick tip: ",tl]}),children:t(ue,{label:"Autocomplete",value:d,onChange:S,fullWidth:c})})}),t("div",{className:"vm-explore-logs-header-bottom-helpful",children:[t("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/logsql/",rel:"help noreferrer",children:[t(mo,{}),"Query language docs"]}),t("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/",rel:"help noreferrer",children:[t(bo,{}),"Documentation"]})]}),t("div",{className:"vm-explore-logs-header-bottom-buttons",children:[t(Xi,{handleSelectQuery:k,historyKey:"LOGS_QUERY_HISTORY"}),t("div",{className:"vm-explore-logs-header-bottom-execute",children:t(V,{startIcon:a?t(ba,{}):t(_o,{}),onClick:l,fullWidth:!0,children:t("div",{children:[t("span",{className:"vm-explore-logs-header-bottom-execute__text",children:a?"Cancel Query":"Execute Query"}),t("span",{className:"vm-explore-logs-header-bottom-execute__text_hidden",children:"Execute Query"})]})})})]})]})]})},ol=({onChange:e})=>{const[n,o]=J(),r=D(null),{value:a,toggle:s,setFalse:i}=Z(),[l,c]=re(!1,"stacked"),[d,u]=re("true","fill"),[m,h]=re(!1,"hide_chart"),_=E(()=>({graphStyle:fe.BAR,stacked:l,fill:d==="true",hideChart:m}),[l,d,m]),p=g=>{u(`${g}`),n.set("fill",`${g}`),o(n)},v=g=>{c(g),g?n.set("stacked","true"):n.delete("stacked"),o(n)},f=()=>{h(g=>{const b=!g;return b?n.set("hide_chart","true"):n.delete("hide_chart"),o(n),b})};return I(()=>{e(_)},[_]),t("div",{className:"vm-bar-hits-options",children:[t("div",{ref:r,children:t(Y,{title:"Graph settings",children:t(V,{variant:"text",color:"primary",startIcon:t(Ie,{}),onClick:s,ariaLabel:"settings"})})}),t(Y,{title:m?"Show chart and resume hits updates":"Hide chart and pause hits updates",children:t(V,{variant:"text",color:"primary",startIcon:m?t(rn,{}):t(je,{}),onClick:f,ariaLabel:"settings"})}),t(se,{open:a,placement:"bottom-right",onClose:i,buttonRef:r,title:"Graph settings",children:t("div",{className:"vm-bar-hits-options-settings",children:[t("div",{className:"vm-bar-hits-options-settings-item",children:t(ue,{label:"Stacked",value:l,onChange:v})}),t("div",{className:"vm-bar-hits-options-settings-item",children:t(ue,{label:"Fill",value:d==="true",onChange:p})})]})})]})},rl=()=>{const[e,n]=L(null),[o,r]=L({width:0,height:0}),a=F(()=>{r({width:e?.offsetWidth||0,height:e?.offsetHeight||0})},[e?.offsetHeight,e?.offsetWidth]);return ee("resize",a),I(a,[e?.offsetHeight,e?.offsetWidth]),[n,o]},al=({period:e,setPeriod:n})=>{const[o,r]=L({min:e.start,max:e.end}),a=({min:s,max:i})=>{const l=(i-s)*1e3;l<hn.min||l>hn.max||n({from:R(s*1e3).toDate(),to:R(i*1e3).toDate()})};return I(()=>{r({min:e.start,max:e.end})},[e]),{xRange:o,setPlotScale:a}},sl=e=>e instanceof MouseEvent,Un=e=>sl(e)?e.clientX:e.touches[0].clientX,il=({dragSpeed:e=.85,setPanning:n,setPlotScale:o})=>{const r=D({leftStart:0,xUnitsPerPx:0,scXMin:0,scXMax:0}),a=l=>{l.preventDefault();const c=Un(l),{leftStart:d,xUnitsPerPx:u,scXMin:m,scXMax:h}=r.current,_=u*((c-d)*e);o({min:m-_,max:h-_})},s=()=>{n(!1),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",s)},i=()=>{document.addEventListener("mousemove",a),document.addEventListener("mouseup",s),document.addEventListener("touchmove",a),document.addEventListener("touchend",s)};return({e:l,u:c})=>{l.preventDefault(),n(!0),r.current={leftStart:Un(l),xUnitsPerPx:c.posToVal(1,"x")-c.posToVal(0,"x"),scXMin:c.scales.x.min||0,scXMax:c.scales.x.max||0},i()}},ll=e=>{const{ctrlKey:n,metaKey:o,button:r}=e;return r===0&&(n||o)},Et=.9,cl=e=>{const[n,o]=L(!1),r=il({dragSpeed:Et,setPanning:o,setPlotScale:e});return{onReadyChart:s=>{const i=c=>{const d=c instanceof MouseEvent&&ll(c),u=window.TouchEvent&&c instanceof TouchEvent&&c.touches.length>1;(d||u)&&r({u:s,e:c})},l=c=>{if(!c.ctrlKey&&!c.metaKey)return;c.preventDefault();const{width:d}=s.over.getBoundingClientRect(),u=s.cursor.left&&s.cursor.left>0?s.cursor.left:0,m=s.posToVal(u,"x"),h=(s.scales.x.max||0)-(s.scales.x.min||0),_=c.deltaY<0?h*Et:h/Et,p=m-u/d*_,v=p+_;s.batch(()=>e({min:p,max:v}))};s.over.addEventListener("mousedown",i),s.over.addEventListener("touchstart",i),s.over.addEventListener("wheel",l)},isPanning:n}},Yn=e=>{const n=e[0].clientX-e[1].clientX,o=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+o*o)},dl=({uPlotInst:e,xRange:n,setPlotScale:o})=>{const[r,a]=L(0),s=F(c=>{const{target:d,ctrlKey:u,metaKey:m,key:h}=c,_=d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement;if(!e||_)return;const p=h==="+"||h==="=";if((h==="-"||p)&&!(u||m)){c.preventDefault();const g=(n.max-n.min)/10*(p?1:-1);o({min:n.min+g,max:n.max-g})}},[e,n]),i=c=>{c.touches.length===2&&(c.preventDefault(),a(Yn(c.touches)))},l=F(c=>{if(!e||c.touches.length!==2)return;c.preventDefault();const d=Yn(c.touches),u=r-d,m=e.scales.x.max||n.max,h=e.scales.x.min||n.min,_=m-h,p=u>0?-1:1,v=_/50*p;e.batch(()=>o({min:h+v,max:m-v}))},[e,r,n]);return ee("keydown",s),ee("touchmove",l),ee("touchstart",i),null};function ul(e,n){const o=[];let r=[];const a=e[0].length,s=Array(a);for(let i=0;i<a;i++)s[i]=0;for(let i=1;i<e.length;i++)o.push(n(i)?e[i]:e[i].map((l,c)=>s[c]+=+(l??0)));for(let i=1;i<e.length;i++)!n(i)&&r.push({series:[e.findIndex((l,c)=>c>i&&!n(c)),i]});return r=r.filter(i=>i.series[1]>-1),{data:[e[0]].concat(o),bands:r}}const jn=e=>R(e*1e3).tz().format(Ne),ml=({data:e,focusDataIdx:n,uPlotInst:o})=>{const[r,a]=L(!1),s=D(null),i=E(()=>{if(!o||n<0||!e.length||!e[0]?.length)return;const c=e[0][n]||0,d=e[0][1]-e[0][0],u=c+d,m=e.slice(1).map(f=>f[n]||0),h=o.series.slice(1);let _=0;const p=h.reduce((f,g,b)=>{if(!g?.show)return f;const w=m[b];return w<=0||(f.push({value:w,label:g.label,stroke:g.stroke?.(),show:!0}),_+=w),f},[]);return p.sort(Oo("value")),p.length?{point:{top:o.valToPos?.(p[0]?.value??0,"y")||0,left:o.valToPos?.(c,"x")||0},total:_,values:p,timestamp:`${jn(c)} - ${jn(u)}`}:void 0},[n,o,e]),l=E(()=>{if(!o||!i||!s.current||!r)return;const{top:c,left:d}=i.point,u={left:parseFloat(o.over.style.left),top:parseFloat(o.over.style.top)},{width:m,height:h}=o.over.getBoundingClientRect(),{width:_,height:p}=s.current.getBoundingClientRect(),v=50,f=d+_>=m?_+2*v:0,g=c+p>=h?p+2*v:0,b={top:c+u.top+v-g,left:d+u.left+v-f};return b.left<0&&(b.left=20),b.top<0&&(b.top=20),b},[i,o,r]);return nr(()=>{s.current?a(!0):a(!1)},[i]),i?t("div",{className:M({"vm-chart-tooltip":!0,"vm-chart-tooltip_hits":!0,"vm-bar-hits-tooltip":!0}),ref:s,style:l,children:[t("div",{children:i.values.map(c=>t("div",{className:"vm-chart-tooltip-data",children:[t("span",{className:"vm-chart-tooltip-data__marker",style:{background:c.stroke}}),t("p",{className:"vm-bar-hits-tooltip-item",children:[t("span",{className:"vm-bar-hits-tooltip-item__label",children:c.label}),t("span",{children:c.value.toLocaleString("en-US")})]})]},c.label))}),i.values.length>1&&t("div",{className:"vm-chart-tooltip-data",children:[t("span",{}),t("p",{className:"vm-bar-hits-tooltip-item",children:[t("span",{className:"vm-bar-hits-tooltip-item__label",children:"Total"}),t("span",{children:i.total.toLocaleString("en-US")})]})]}),t("div",{className:"vm-chart-tooltip-header",children:t("div",{className:"vm-chart-tooltip-header__title vm-bar-hits-tooltip__date",children:i.timestamp})})]}):null},hl=({legend:e})=>{const n=e.total.toLocaleString("en-US"),o=Math.round(e.total/e.totalHits*100);return t("div",{className:"vm-legend-hits-menu-section",children:t("div",{className:"vm-legend-hits-menu-row",children:t("div",{className:"vm-legend-hits-menu-row__title",children:["Total: ",n," (",o,"%)"]})})})},et=({title:e,handler:n,iconStart:o,iconEnd:r,className:a,submenu:s})=>{const i=D(null),l=D(null),c=D(null),[d,u]=L(!1),[m,h]=L(!1),[_,p]=L(!1),v=!!s?.length,f=()=>{h(x=>!x)},g=()=>{h(!1)},b=()=>{n&&n(),v&&f()};I(()=>{l.current&&u(l.current.scrollWidth>l.current.clientWidth)},[e,l]),I(()=>{requestAnimationFrame(()=>{if(!m||!c.current){p(!1);return}const{left:x,width:S}=c.current.getBoundingClientRect();p(x+S>window.innerWidth)})},[c,m]),Xe(i,g);const w=t("div",{ref:l,className:"vm-legend-hits-menu-row__title",children:e});return t("div",{ref:i,className:M({"vm-legend-hits-menu-row":!0,"vm-legend-hits-menu-row_interactive":!!n||v,[`${a}`]:a}),onClick:b,children:[o&&t("div",{className:"vm-legend-hits-menu-row__icon",children:o}),d?t(Y,{title:e,children:w}):w,r&&!v&&t("div",{className:"vm-legend-hits-menu-row__icon",children:r}),v&&t("div",{className:"vm-legend-hits-menu-row__icon vm-legend-hits-menu-row__icon_drop",children:t(Oe,{})}),m&&s&&t("div",{ref:c,className:M({"vm-legend-hits-menu":!0,"vm-legend-hits-menu_submenu":!0,"vm-legend-hits-menu_submenu_left":_}),children:t("div",{className:"vm-legend-hits-menu-section",children:s.map(({icon:x,title:S,handler:y})=>t(et,{iconStart:x,title:S,handler:y},S))})})]})},pl=({legend:e,onApplyFilter:n,onClose:o})=>{const r=ye(),a=()=>{n(`${oe}: ${e.label}`),o()},s=()=>{n(`(NOT ${oe}: ${e.label})`),o()},i=async()=>{await r(e.label,`${e.label} has been copied`),o()},l=[{title:`Copy ${oe} name`,icon:t(De,{}),handler:i},{title:`Add ${oe} to filter`,icon:t(yo,{}),handler:a},{title:`Exclude ${oe} to filter`,icon:t(wo,{}),handler:s}];return t("div",{className:"vm-legend-hits-menu-section",children:l.map(({icon:c,title:d,handler:u})=>t(et,{iconStart:c,title:d,handler:u},d))})},_l=({fields:e,onApplyFilter:n,onClose:o})=>{const r=ye(),a=d=>async()=>{await r(d,`${d} has been copied`),o()},s=d=>()=>{n(d),o()},i=d=>()=>{n(`-${d}`),o()},l=d=>[{title:"Copy",icon:t(De,{}),handler:a(d)},{title:"Add to filter",icon:t(yo,{}),handler:s(d)},{title:"Exclude to filter",icon:t(wo,{}),handler:i(d)}],c=E(()=>e.map(d=>{const u=Po(d);return{title:u,submenu:l(u)}}),[e]);return t("div",{className:"vm-legend-hits-menu-section",children:c?.map(d=>t(et,{...d},d.title))})},gl=({legend:e,series:n,onRedrawGraph:o,onClose:r})=>{const a=E(()=>n.find(u=>u.label===e.label),[n]),s=!!a?.show,i=n.every(u=>u===a||!u.show),l=F(()=>{a&&(a.show=!a.show,o(),r())},[a,o,r]),c=F(()=>{n.forEach(u=>{u.show=i||u===a}),o(),r()},[n,i,a,o,r]),d=E(()=>[{title:s?"Hide series":"Show series",icon:s?t(rn,{}):t(je,{}),handler:l},{title:i?"Show all series":"Focus on series",icon:i?t(Aa,{}):t(Sa,{}),handler:c}],[i,s,c,l]);return t("div",{className:"vm-legend-hits-menu-section",children:d.map(({icon:u,title:m,handler:h})=>t(et,{iconStart:u,title:m,handler:h},m))})},fl=`aggregated results for fields not in the top ${Gt}`,vl=({legend:e,fields:n,series:o,onApplyFilter:r,onRedrawGraph:a,onClose:s})=>t("div",{className:"vm-legend-hits-menu",children:[e.isOther&&t("div",{className:"vm-legend-hits-menu-section vm-legend-hits-menu-section_info",children:t(et,{title:fl})}),t(gl,{legend:e,series:o,onRedrawGraph:a,onClose:s}),!e.isOther&&t(pl,{legend:e,onApplyFilter:r,onClose:s}),!e.isOther&&t(_l,{fields:n,onApplyFilter:r,onClose:s}),t(hl,{legend:e})]}),bl=({legend:e,series:n,onRedrawGraph:o,onApplyFilter:r})=>{const{value:a,setTrue:s,setFalse:i}=Z(),l=D(null),[c,d]=L(null),u=E(()=>n.find(v=>v.label===e.label),[n]),m=E(()=>To(e.label),[e.label]),h=m.join(", "),_=ys(e.total),p=v=>{v.preventDefault(),d({top:v.clientY,left:v.clientX}),s()};return t("div",{ref:l,className:M({"vm-bar-hits-legend-item":!0,"vm-bar-hits-legend-item_other":e.isOther,"vm-bar-hits-legend-item_active":a,"vm-bar-hits-legend-item_hide":!u?.show}),onClick:p,children:[t("div",{className:"vm-bar-hits-legend-item__marker",style:{backgroundColor:`${e.stroke}`}}),t("div",{className:"vm-bar-hits-legend-item__label",children:h}),t("span",{className:"vm-bar-hits-legend-item__total",children:["(",_,")"]}),t(se,{placement:"fixed",open:a,buttonRef:l,placementPosition:c,onClose:i,children:t(vl,{legend:e,fields:m,series:n,onApplyFilter:r,onRedrawGraph:o,onClose:i})})]})},yl=({uPlotInst:e,legendDetails:n,onApplyFilter:o})=>{const[r,a]=L([]),s=()=>e.series.filter(l=>l.scale!=="x"),i=()=>{e.redraw()};return I(()=>{e.hooks.draw||(e.hooks.draw=[]),e.hooks.draw.push(()=>{a(s())})},[e]),t("div",{className:"vm-bar-hits-legend",children:n.map(l=>t(bl,{legend:l,series:r,onRedrawGraph:i,onApplyFilter:o},l.label))})},wl=({graphOptions:e,logHits:n,totalHits:o,data:r,period:a,setPeriod:s,onApplyFilter:i})=>{const{isDarkTheme:l}=ne(),[c,d]=rl(),u=D(null),[m,h]=L(),{xRange:_,setPlotScale:p}=al({period:a,setPeriod:s}),{onReadyChart:v,isPanning:f}=cl(p);dl({uPlotInst:m,xRange:_,setPlotScale:p});const{data:g,bands:b}=E(()=>e.stacked?ul(r,()=>!1):{data:r,bands:[]},[e,r]),{options:w,series:x,focusDataIdx:S}=xs({data:g,logHits:n,bands:b,xRange:_,containerSize:d,onReadyChart:v,setPlotScale:p,graphOptions:e}),y=E(()=>n.map(k=>{const C=Eo(k);return{label:C,isOther:k._isOther,fields:k.fields,total:k.total||0,totalHits:o,stroke:x.find(N=>N.label===C)?.stroke}}).sort(Oo("total")),[n,o,x]);return I(()=>{if(!m)return;const k=new Map(m.series.map(A=>[A.label,A])),C=x.map(A=>{const N=k.get(A.label);return N?{...A,show:N.show}:A});Io(m),us(m,C,!0),ps(m,C),m.redraw()},[x,m]),I(()=>{m&&(m.delBand(),b.forEach(k=>{m.addBand(k)}),m.redraw())},[b]),I(()=>{if(!u.current)return;const k=new jt(w,g,u.current);return h(k),()=>k.destroy()},[u.current,l]),I(()=>{m&&(m.scales.x.range=()=>[_.min,_.max],m.redraw())},[_]),I(()=>{m&&(m.setSize(d),m.redraw())},[d]),I(()=>{m&&(m.setData(g),m.redraw())},[g]),t(j,{children:[t("div",{className:M({"vm-bar-hits-chart":!0,"vm-bar-hits-chart_panning":f}),ref:c,children:[t("div",{className:"vm-line-chart__u-plot",ref:u}),t(ml,{uPlotInst:m,data:r,focusDataIdx:S})]}),m&&t(yl,{uPlotInst:m,onApplyFilter:i,legendDetails:y})]})},kl=({logHits:e,data:n,period:o,setPeriod:r,onApplyFilter:a,durationMs:s})=>{const[i,l]=L({graphStyle:fe.LINE_STEPPED,stacked:!1,fill:!1,hideChart:!1}),c=E(()=>Ss(e),[e]);return t("div",{className:M({"vm-bar-hits-chart__wrapper":!0,"vm-bar-hits-chart__wrapper_hidden":i.hideChart}),children:[t("div",{className:"vm-bar-hits-chart-header",children:[t("div",{className:"vm-bar-hits-chart-header-info",children:[t("p",{children:["Top ",t("b",{children:Gt})," hits grouped by ",t("b",{children:oe})]}),"|",t("p",{children:["Total: ",t("b",{children:c.toLocaleString("en-US")})," hits"]}),s!==void 0&&t(j,{children:["|",t("p",{children:["Duration: ",t("b",{children:Zt(s)})]})]})]}),t(ol,{onChange:l})]}),!i.hideChart&&t(wl,{logHits:e,totalHits:c,data:n,period:o,setPeriod:r,onApplyFilter:a,graphOptions:i})]})},Cl=({logHits:e,period:n,error:o,isLoading:r,onApplyFilter:a,durationMs:s})=>{const{isMobile:i}=W(),l=Ze(),[c]=J(),d=E(()=>c.get("hide_chart"),[c]),u=(v,f)=>v.map(g=>{const b=new Map;return g.timestamps.forEach((w,x)=>{const S=R(w).unix();b.set(S,g.values[x]||null)}),f.map(w=>b.get(w)||null)}),m=F(v=>{const f=[],{start:g,end:b,step:w}=Mo(n),x=Math.ceil(g.diff(v,"milliseconds")/w);let S=v.add(x*w,"milliseconds");S.isBefore(g)&&(S=g.clone());const y=Math.floor(b.diff(S,"milliseconds")/w);for(let k=0;k<=y;k++)f.push(S.add(k*w,"milliseconds").unix());return f},[n]),h=E(()=>{if(!e.length)return[[],[]];const v=m(R(e[0].timestamps[0])),f=u(e,v);return[v,...f]},[e]),_=E(()=>{if(r)return"";const v=h.every(b=>b.length===0),f=h[0].length===0,g=h[1].length===0;return d?"Chart hidden. Hits updates paused.":v?`No logs volume available
No volume information available for the current queries and time range.`:f?"No timestamp information available for the current queries and time range.":g?"No value information available for the current queries and time range.":""},[h,d,r]),p=({from:v,to:f})=>{l({type:"SET_PERIOD",payload:{from:v,to:f}})};return t("section",{className:M({"vm-explore-logs-chart":!0,"vm-block":!0,"vm-block_mobile":i}),children:[r&&t(sn,{}),!o&&_&&t("div",{className:"vm-explore-logs-chart__empty",children:t(Ee,{variant:"info",children:_})}),o&&_&&t("div",{className:"vm-explore-logs-chart__empty",children:t(Ee,{variant:"error",children:o})}),h&&t(kl,{logHits:e,durationMs:s,data:h,period:n,setPeriod:p,onApplyFilter:a})]})};function xl(e){return Object.keys(e).length===0}const Sl=e=>{const{serverUrl:n}=ne(),o=_t(),[r]=J(),[a,s]=L([]),[i,l]=L([]),[c,d]=L(),[u,m]=L(),h=D(new AbortController),_=E(()=>r.get("hide_chart"),[r]),p=E(()=>ns(n),[n]),v=(g,b,w)=>{const{start:x,end:S,step:y}=Mo(b);return{signal:w,method:"POST",headers:{...o},body:new URLSearchParams({query:g.trim(),step:`${y}ms`,start:x.toISOString(),end:S.toISOString(),fields_limit:`${Gt}`,field:oe})}},f=F(async({query:g=e,period:b})=>{h.current.abort(),h.current=new AbortController;const{signal:w}=h.current,x=Date.now();l(S=>({...S,[x]:!0})),d(void 0);try{const S=v(g,b,w),y=await fetch(p,S),k=y.headers.get("vl-request-duration-seconds");if(m(k?Number(k)*1e3:void 0),!y.ok||!y.body){const N=await y.text();d(N),s([]),l(T=>({...T,[x]:!1}));return}const A=(await y.json())?.hits;A||d("Error: No 'hits' field in response"),s(A.map(Al).sort(Ll))}catch(S){S instanceof Error&&S.name!=="AbortError"&&(d(String(S)),console.error(S),s([]))}l(S=>({...S,[x]:!1}))},[p,e,o]);return I(()=>()=>{h.current.abort()},[]),I(()=>{_&&(s([]),d(void 0))},[_]),{logHits:a,isLoading:Object.values(i).some(g=>g),error:c,fetchLogHits:f,durationMs:u,abortController:h.current}},Al=e=>({...e,_isOther:xl(e.fields)}),Ll=(e,n)=>e._isOther!==n._isOther?e._isOther?-1:1:n.total-e.total;function Nl(e){const n=D(e);I(()=>{n.current=e},[e]),I(()=>()=>{n.current()},[])}function Il(e,n=500,o){const r=D(e);r.current=e;const a=E(()=>{const s=Xn((...l)=>r.current(...l),n,o),i=(...l)=>{s(...l)};return i.cancel=s.cancel,i.flush=s.flush,i},[n,o]);return Nl(()=>{a.cancel()}),a}function Ut(e){const n=D();return I(()=>{n.current=e},[e]),n.current}const qn=Number(pe("LOGS_LIMIT")),El=isNaN(qn)?mr:qn,Tl=()=>{const{queryHistory:e}=ut(),n=en(),{duration:o,relativeTime:r,period:a}=Ke(),{setSearchParamsFromKeys:s}=ht(),[i]=J(),l=E(()=>i.get("hide_chart"),[i]),c=Ut(l),d=E(()=>i.get("hide_logs"),[i]),u=Ut(d),[m,h]=re(El,"limit"),[_,p]=re("*","query"),v=()=>{const z=Wr(_,e[0]);n({type:"SET_QUERY_HISTORY",payload:{key:"LOGS_QUERY_HISTORY",history:[z]}})},[f,g]=L(!1),[b,w]=L(a),[x,S]=L(""),{logs:y,isLoading:k,error:C,fetchLogs:A,abortController:N,durationMs:T}=No(_,m),{fetchLogHits:P,...B}=Sl(_),H=Il(async(z,Q)=>{Q.logs&&!await A({period:z})||Q.hits&&await P({period:z})},300),$=()=>{const z=at.find(we=>we.id===r);if(!z)return a;const{duration:Q,until:ae}=z;return Se(Q,ae())},G=()=>{if(!_){S(oo.validQuery);return}S("");const z=$();w(z),H(z,{logs:!d,hits:!l}),s({query:_,"g0.range_input":o,"g0.end_input":z.date,"g0.relative_time":r||"none"}),v()},K=z=>{h(z),s({limit:z}),me("LOGS_LIMIT",`${z}`)},te=z=>{p(Q=>`${z} AND ${Q}`),g(!0)},U=()=>{k||B.isLoading?(N.abort?.(),B.abortController.abort?.()):G()};return I(()=>{_&&G()},[a]),I(()=>{f&&(G(),g(!1))},[_,f]),I(()=>{!l&&c&&P({period:b})},[l,c,b]),I(()=>{!d&&u&&A({period:b})},[d,u,b]),t("div",{className:"vm-explore-logs",children:[t(nl,{query:_,queryDurationMs:d?void 0:T,error:x,limit:m,onChange:p,onChangeLimit:K,onRun:U,isLoading:k||B.isLoading}),C&&t(Ee,{variant:"error",children:C}),!C&&t(Cl,{...B,query:_,period:b,onApplyFilter:te}),t(Pi,{data:y,isLoading:k})]})};var We=(e=>(e[e.internalLink=0]="internalLink",e[e.externalLink=1]="externalLink",e))(We||{});const Ml=()=>[{label:gt[ke.home].title,value:ke.home}],Yt=({activeMenu:e,label:n,value:o,type:r,color:a})=>r===We.externalLink?t("a",{className:M({"vm-header-nav-item":!0,"vm-header-nav-item_active":e===o}),style:{color:a},href:o,target:"_blank",rel:"noreferrer",children:n}):t(Qn,{className:M({"vm-header-nav-item":!0,"vm-header-nav-item_active":e===o}),style:{color:a},to:o,children:n}),Pl=({activeMenu:e,label:n,color:o,background:r,submenu:a,direction:s})=>{const{pathname:i}=Pe(),[l,c]=L(null),d=D(null),{value:u,setFalse:m,setTrue:h}=Z(),_=()=>{h(),l&&clearTimeout(l)},p=()=>{l&&clearTimeout(l);const f=setTimeout(m,300);c(f)},v=()=>{l&&clearTimeout(l)};return I(()=>{m()},[i]),s==="column"?t(j,{children:a.map(f=>t(Yt,{activeMenu:e,value:f.value||"",label:f.label||"",type:f.type||We.internalLink},f.value))}):t("div",{className:M({"vm-header-nav-item":!0,"vm-header-nav-item_sub":!0,"vm-header-nav-item_open":u,"vm-header-nav-item_active":a.find(f=>f.value===e)}),style:{color:o},onMouseEnter:_,onMouseLeave:p,ref:d,children:[n,t(Oe,{}),t(se,{open:u,placement:"bottom-left",offset:{top:12,left:0},onClose:m,buttonRef:d,children:t("div",{className:"vm-header-nav-item-submenu",style:{background:r},onMouseLeave:p,onMouseEnter:v,children:a.map(f=>t(Yt,{activeMenu:e,value:f.value||"",label:f.label||"",color:o,type:f.type||We.internalLink},f.value))})})]})},Ol=e=>{try{return e.replace(/^\/+/,"").replace(/-/g," ").trim().replace(/^\w/,n=>n.toUpperCase())}catch{return e}},Yo=e=>e.filter(n=>!n.hide).map(n=>{const o={...n};return o.value&&!o.label&&(o.label=gt[o.value]?.title||Ol(o.value)),o.submenu&&o.submenu.length>0&&(o.submenu=Yo(o.submenu)),o}),Dl=()=>{const e=Ml();return Yo(e)},jo=({color:e,background:n,direction:o})=>{const{pathname:r}=Pe(),[a,s]=L(r),i=Dl();return I(()=>{s(r)},[r]),t("nav",{className:M({"vm-header-nav":!0,[`vm-header-nav_${o}`]:o}),children:i.map(l=>l.submenu?t(Pl,{activeMenu:a,label:l.label||"",submenu:l.submenu,color:e,background:n,direction:o},l.label):t(Yt,{activeMenu:a,value:l.value||"",label:l.label||"",color:e,type:l.type||We.internalLink},l.value))})},zl=({open:e})=>t("button",{className:M({"vm-menu-burger":!0,"vm-menu-burger_opened":e}),"aria-label":"menu",children:t("span",{})}),Rl=({background:e,color:n})=>{const{pathname:o}=Pe(),r=D(null),{value:a,toggle:s,setFalse:i}=Z();return I(i,[o]),Xe(r,i),t("div",{className:"vm-header-sidebar",ref:r,children:[t("div",{className:M({"vm-header-sidebar-button":!0,"vm-header-sidebar-button_open":a}),onClick:s,children:t(zl,{open:a})}),t("div",{className:M({"vm-header-sidebar-menu":!0,"vm-header-sidebar-menu_open":a}),children:t("div",{children:t(jo,{color:n,background:e,direction:"column"})})})]})},Fl=e=>`${e.replace(/^(.+)(\/select.+)/,"$1")}/admin/tenants`,Hl=()=>{const{useTenantID:e}=mt(),n=be(),{serverUrl:o}=ne(),[r,a]=L(!1),[s,i]=L(),[l,c]=L([]),d=E(()=>Fl(o),[o]),u=n?!e:!0;return I(()=>{if(u)return;(async()=>{a(!0);try{const h=await fetch(d),_=await h.json(),p=_.data||[];c(p.sort((v,f)=>v.localeCompare(f))),h.ok?i(void 0):i(`${_.errorType}\r
${_?.error}`)}catch(h){h instanceof Error&&i(`${h.name}: ${h.message}`)}a(!1)})().catch(console.error)},[d]),{accountIds:l,isLoading:r,error:s}},Vl=({controlsComponent:e,isMobile:n,...o})=>{const r=be(),{pathname:a}=Pe(),{accountIds:s}=Hl(),{value:i,toggle:l,setFalse:c}=Z(),d=E(()=>Object.entries(gt).find(([h])=>eo(h,a))?.[1]?.header||{},[a]),u=t(e,{...o,isMobile:n,accountIds:s,headerSetup:d});return n?t(j,{children:[t("div",{children:t(V,{className:M({"vm-header-button":!r}),startIcon:t(da,{}),onClick:l,ariaLabel:"controls"})}),t(xe,{title:"Controls",onClose:c,isOpen:i,className:M({"vm-header-controls-modal":!0,"vm-header-controls-modal_open":i}),children:u})]}):u},Wn=()=>t(ta,{}),Bl=({controlsComponent:e})=>{const{isMobile:n}=W(),o=Je(),r=E(()=>window.innerWidth<1e3,[o]),{isDarkTheme:a}=ne(),s=be(),i=E(()=>_e(a?"color-background-block":"color-primary"),[a]),{background:l,color:c}=E(()=>{const{headerStyles:{background:m=s?"#FFF":i,color:h=s?i:"#FFF"}={}}=mt();return{background:m,color:h}},[i]),d=ct(),u=()=>{d({pathname:ke.home}),window.location.reload()};return t("header",{className:M({"vm-header":!0,"vm-header_app":s,"vm-header_dark":a,"vm-header_sidebar":r,"vm-header_mobile":n}),style:{background:l,color:c},children:[r?t(Rl,{background:l,color:c}):t(j,{children:[!s&&t("div",{className:"vm-header-logo",onClick:u,style:{color:c},children:t(Wn,{})}),t(jo,{color:c,background:l})]}),r&&t("div",{className:M({"vm-header-logo":!0,"vm-header-logo_mobile":!0}),onClick:u,style:{color:c},children:t(Wn,{})}),t(Vl,{controlsComponent:e,displaySidebar:r,isMobile:n})]})},$l={href:"https://github.com/VictoriaMetrics/VictoriaLogs/issues/new/choose",Icon:la,title:"Create an issue"},qo=[{href:"https://docs.victoriametrics.com/victorialogs/logsql/",Icon:fo,title:"LogsQL"},{href:"https://docs.victoriametrics.com/victorialogs/",Icon:bo,title:"Documentation"},$l],Ul=Me(({links:e=qo})=>{const n=`2019-${new Date().getFullYear()}`;return t("footer",{className:"vm-footer",children:[t("a",{className:"vm-link vm-footer__website",target:"_blank",href:"https://victoriametrics.com/",rel:"me noreferrer",children:[t(na,{}),"victoriametrics.com"]}),e.map(({href:o,Icon:r,title:a})=>t("a",{className:"vm-link vm-footer__link",target:"_blank",href:o,rel:"help noreferrer",children:[t(r,{}),a]},`${o}-${a}`)),t("div",{className:"vm-footer__copyright",children:["© ",n," VictoriaMetrics"]})]})}),Yl="Browser timezone is not recognized, supported, or could not be determined.",jl=()=>t(Y,{title:Yl,children:t(ho,{})}),nt=lo(),ql=qt((e,n)=>{const{isMobile:o}=W(),r=_n(),{timezone:a,defaultTimezone:s}=Ke(),i=Ze(),[l,c]=L(a),[d,u]=L(""),m=D(null),{value:h,toggle:_,setFalse:p}=Z(),v=E(()=>[{title:`Default time (${s})`,region:s,utc:s?Ue(s):"UTC"},{title:nt.title,region:nt.region,utc:Ue(nt.region),isInvalid:!nt.isValid},{title:"UTC (Coordinated Universal Time)",region:"UTC",utc:"UTC"}].filter(y=>y.region),[s]),f=E(()=>{if(!d)return r;try{return _n(d)}catch{return{}}},[d,r]),g=E(()=>Object.keys(f),[f]),b=E(()=>({region:l,utc:Ue(l)}),[l]),w=y=>{u(y)},x=y=>{c(y.region),u(""),p()},S=y=>()=>{x(y)};return I(()=>{c(a)},[a]),or(n,()=>({handleApply:()=>{i({type:"SET_TIMEZONE",payload:l})}}),[l]),t("div",{className:"vm-timezones",children:[t("div",{className:"vm-server-configurator__title",children:"Time zone"}),t("div",{className:"vm-timezones-item vm-timezones-item_selected",onClick:_,ref:m,children:[t("div",{className:"vm-timezones-item__title",children:b.region}),t("div",{className:"vm-timezones-item__utc",children:b.utc}),t("div",{className:M({"vm-timezones-item__icon":!0,"vm-timezones-item__icon_open":h}),children:t(Oe,{})})]}),t(se,{open:h,buttonRef:m,placement:"bottom-left",onClose:p,fullWidth:!0,title:o?"Time zone":void 0,children:t("div",{className:M({"vm-timezones-list":!0,"vm-timezones-list_mobile":o}),children:[t("div",{className:"vm-timezones-list-header",children:[t("div",{className:"vm-timezones-list-header__search",children:t(Ce,{autofocus:!0,label:"Search",value:d,onChange:w})}),v.map((y,k)=>y&&t("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:S(y),children:[t("div",{className:"vm-timezones-item__title",children:[y.title,y.isInvalid&&t(jl,{})]}),t("div",{className:"vm-timezones-item__utc",children:y.utc})]},`${k}_${y.region}`))]}),g.map(y=>t("div",{className:"vm-timezones-list-group",children:t(Ao,{defaultExpanded:!0,title:t("div",{className:"vm-timezones-list-group__title",children:y}),children:t("div",{className:"vm-timezones-list-group-options",children:f[y]&&f[y].map(k=>t("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:S(k),children:[t("div",{className:"vm-timezones-item__title",children:k.region}),t("div",{className:"vm-timezones-item__utc",children:k.utc})]},k.search))})})},y))]})})]})}),Wl=({options:e,value:n,label:o,onChange:r})=>{const a=D(null),[s,i]=L({width:"0px",left:"0px",borderRadius:"0px"}),l=c=>()=>{r(c)};return I(()=>{if(!a.current){i({width:"0px",left:"0px",borderRadius:"0px"});return}const c=e.findIndex(_=>_.value===n),{width:d}=a.current.getBoundingClientRect();let u=d,m=c*u,h="0";c===0&&(h="16px 0 0 16px"),c===e.length-1&&(h="10px",m-=1,h="0 16px 16px 0"),c!==0&&c!==e.length-1&&(u+=1,m-=1),i({width:`${u}px`,left:`${m}px`,borderRadius:h})},[a,n,e]),t("div",{className:"vm-toggles",children:[o&&t("label",{className:"vm-toggles__label",children:o}),t("div",{className:"vm-toggles-group",style:{gridTemplateColumns:`repeat(${e.length}, 1fr)`},children:[s.borderRadius&&t("div",{className:"vm-toggles-group__highlight",style:s}),e.map((c,d)=>t("div",{className:M({"vm-toggles-group-item":!0,"vm-toggles-group-item_first":d===0,"vm-toggles-group-item_active":c.value===n,"vm-toggles-group-item_icon":c.icon&&c.title}),onClick:l(c.value),ref:c.value===n?a:null,children:[c.icon,c.title]},c.value))]})]})},Gl=Object.values(ie).map(e=>({title:e,value:e})),Kl=()=>{const{isMobile:e}=W(),n=ao(),{theme:o}=ne(),r=a=>{n({type:"SET_THEME",payload:a})};return t("div",{className:M({"vm-theme-control":!0,"vm-theme-control_mobile":e}),children:[t("div",{className:"vm-server-configurator__title",children:"Theme preferences"}),t("div",{className:"vm-theme-control__toggle",children:t(Wl,{options:Gl,value:o,onChange:r})},`${e}`)]})},Tt="Settings",Zl=()=>{const{isMobile:e}=W(),n=be(),o=D(null),r=D(null),a=D(null),{value:s,setTrue:i,setFalse:l}=Z(),c=()=>{o.current&&o.current.handleApply(),r.current&&r.current.handleApply(),a.current&&a.current.handleApply(),l()},d=[{show:!0,component:t(ql,{ref:a})},{show:!n,component:t(Kl,{})}].filter(u=>u.show);return t(j,{children:[e?t("div",{className:"vm-mobile-option",onClick:i,children:[t("span",{className:"vm-mobile-option__icon",children:t(Ie,{})}),t("div",{className:"vm-mobile-option-text",children:t("span",{className:"vm-mobile-option-text__label",children:Tt})}),t("span",{className:"vm-mobile-option__arrow",children:t(le,{})})]}):t(Y,{title:Tt,children:t(V,{className:M({"vm-header-button":!n}),variant:"contained",color:"primary",startIcon:t(Ie,{}),onClick:i,ariaLabel:"settings"})}),s&&t(xe,{title:Tt,onClose:l,children:t("div",{className:M({"vm-server-configurator":!0,"vm-server-configurator_mobile":e}),children:[d.map((u,m)=>t("div",{className:"vm-server-configurator__input",children:u.component},m)),t("div",{className:"vm-server-configurator-footer",children:[t(V,{color:"error",variant:"outlined",onClick:l,children:"Cancel"}),t(V,{color:"primary",variant:"contained",onClick:c,children:"Apply"})]})]})})]})},Ql=({relativeTime:e,setDuration:n})=>{const{isMobile:o}=W(),r=a=>()=>{n(a)};return t("div",{className:M({"vm-time-duration":!0,"vm-time-duration_mobile":o}),children:at.map(({id:a,duration:s,until:i,title:l})=>t("div",{className:M({"vm-list-item":!0,"vm-list-item_mobile":o,"vm-list-item_active":a===e}),onClick:r({duration:s,until:i(),id:a}),children:l||s},a))})},Jl=({viewDate:e,showArrowNav:n,onChangeViewDate:o,toggleDisplayYears:r})=>{const a=()=>{o(e.subtract(1,"month"))},s=()=>{o(e.add(1,"month"))};return t("div",{className:"vm-calendar-header",children:[t("div",{className:"vm-calendar-header-left",onClick:r,children:[t("span",{className:"vm-calendar-header-left__date",children:e.format("MMMM YYYY")}),t("div",{className:"vm-calendar-header-left__select-year",children:t(Oe,{})})]}),n&&t("div",{className:"vm-calendar-header-right",children:[t("div",{className:"vm-calendar-header-right__prev",onClick:a,children:t(le,{})}),t("div",{className:"vm-calendar-header-right__next",onClick:s,children:t(le,{})})]})]})},Xl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ec=({viewDate:e,selectDate:n,onChangeSelectDate:o})=>{const r="YYYY-MM-DD",a=R.tz(),s=R(e.format(r)),i=E(()=>{const c=new Array(42).fill(null),d=s.startOf("month"),m=s.endOf("month").diff(d,"day")+1,h=new Array(m).fill(d).map((p,v)=>p.add(v,"day")),_=d.day();return c.splice(_,m,...h),c},[s]),l=c=>()=>{c&&o(c)};return t("div",{className:"vm-calendar-body",children:[Xl.map(c=>t(Y,{title:c,children:t("div",{className:"vm-calendar-body-cell vm-calendar-body-cell_weekday",children:c[0]})},c)),i.map((c,d)=>t("div",{className:M({"vm-calendar-body-cell":!0,"vm-calendar-body-cell_day":!0,"vm-calendar-body-cell_day_empty":!c,"vm-calendar-body-cell_day_active":(c&&c.format(r))===n.format(r),"vm-calendar-body-cell_day_today":(c&&c.format(r))===a.format(r)}),onClick:l(c),children:c&&c.format("D")},c?c.format(r):d))]})},tc=({viewDate:e,onChangeViewDate:n})=>{const o=R().format("YYYY"),r=E(()=>e.format("YYYY"),[e]),a=E(()=>{const c=R().subtract(18/2,"year");return new Array(18).fill(c).map((d,u)=>d.add(u,"year"))},[e]);I(()=>{const i=document.getElementById(`vm-calendar-year-${r}`);i&&i.scrollIntoView({block:"center"})},[]);const s=i=>()=>{n(i)};return t("div",{className:"vm-calendar-years",children:a.map(i=>t("div",{className:M({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":i.format("YYYY")===r,"vm-calendar-years__year_today":i.format("YYYY")===o}),id:`vm-calendar-year-${i.format("YYYY")}`,onClick:s(i),children:i.format("YYYY")},i.format("YYYY")))})},nc=({viewDate:e,selectDate:n,onChangeViewDate:o})=>{const r=R().format("MM"),a=E(()=>n.format("MM"),[n]),s=E(()=>new Array(12).fill("").map((l,c)=>R(e).month(c)),[e]);I(()=>{const l=document.getElementById(`vm-calendar-year-${a}`);l&&l.scrollIntoView({block:"center"})},[]);const i=l=>()=>{o(l)};return t("div",{className:"vm-calendar-years",children:s.map(l=>t("div",{className:M({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":l.format("MM")===a,"vm-calendar-years__year_today":l.format("MM")===r}),id:`vm-calendar-year-${l.format("MM")}`,onClick:i(l),children:l.format("MMMM")},l.format("MM")))})},oc=({date:e,format:n=Ne,onChange:o})=>{const[r,a]=L(0),[s,i]=L(R.tz(e)),[l,c]=L(R.tz(e)),d=R.tz(),u=d.format(mn)===s.format(mn),{isMobile:m}=W(),h=()=>{a(f=>f===2?0:2)},_=f=>{i(f),a(g=>g===2?1:0)},p=f=>{c(f)},v=()=>{i(d)};return I(()=>{l.format()!==R.tz(e).format()&&o(l.format(n))},[l]),I(()=>{const f=R.tz(e);i(f),c(f)},[e]),t("div",{className:M({"vm-calendar":!0,"vm-calendar_mobile":m}),children:[t(Jl,{viewDate:s,onChangeViewDate:_,toggleDisplayYears:h,showArrowNav:r===0}),r===0&&t(ec,{viewDate:s,selectDate:l,onChangeSelectDate:p}),r===2&&t(tc,{viewDate:s,onChangeViewDate:_}),r===1&&t(nc,{selectDate:l,viewDate:s,onChangeViewDate:_}),!u&&r===0&&t("div",{className:"vm-calendar-footer",children:t(V,{variant:"text",size:"small",onClick:v,children:"show today"})})]})},rc=qt(({date:e,targetRef:n,format:o=Ne,onChange:r,label:a},s)=>{const i=E(()=>R(e).isValid()?R.tz(e):R().tz(),[e]),{isMobile:l}=W(),{value:c,toggle:d,setFalse:u}=Z(),m=_=>{r(_),u()},h=_=>{(_.key==="Escape"||_.key==="Enter")&&u()};return ee("click",d,n),ee("keyup",h),t(j,{children:t(se,{open:c,buttonRef:n,placement:"bottom-right",onClose:u,title:l?a:void 0,children:t("div",{ref:s,children:t(oc,{date:i,format:o,onChange:m})})})})}),Gn=e=>R(e).isValid()?R.tz(e).format(Ne):e,Kn=({value:e="",label:n,pickerLabel:o,pickerRef:r,onChange:a,onEnter:s})=>{const i=D(null),[l,c]=L(null),[d,u]=L(Gn(e)),[m,h]=L(!1),[_,p]=L(!1),v=R(d).isValid()?"":"Invalid date format",f=x=>{u(x.currentTarget.value)},g=()=>{a(d)},b=x=>{x.key==="Enter"&&(a(d),p(!0))},w=x=>{u(x),h(!0)};return I(()=>{const x=Gn(e);x!==d&&u(x),_&&(s(),p(!1))},[e]),I(()=>{m&&l&&(l.focus(),l.setSelectionRange(11,11),h(!1))},[m]),t("div",{className:M({"vm-date-time-input":!0,"vm-date-time-input_error":v}),children:[t("label",{children:n}),t(rr,{tabIndex:1,inputRef:c,mask:"9999-99-99 99:99:99",placeholder:"YYYY-MM-DD HH:mm:ss",value:d,autoCapitalize:"none",inputMode:"numeric",maskChar:null,onChange:f,onBlur:g,onKeyUp:b}),v&&t("span",{className:"vm-date-time-input__error-text",children:v}),t("div",{className:"vm-date-time-input__icon",ref:i,children:t(V,{variant:"text",color:"gray",size:"small",startIcon:t(aa,{}),ariaLabel:"calendar"})}),t(rc,{label:o,ref:r,date:d,onChange:w,targetRef:i})]})},ac=()=>{const{isMobile:e}=W(),{isDarkTheme:n}=ne(),o=D(null),r=Je(),a=E(()=>r.width>1120,[r]),[s,i]=L(),[l,c]=L(),{period:{end:d,start:u},relativeTime:m,timezone:h,duration:_}=Ke(),p=Ze(),v=be(),f=Ut(h),{value:g,toggle:b,setFalse:w}=Z(),x=E(()=>({region:h,utc:Ue(h)}),[h]);I(()=>{i($e(he(d)))},[h,d]),I(()=>{c($e(he(u)))},[h,u]);const S=({duration:O,until:H,id:$})=>{p({type:"SET_RELATIVE_TIME",payload:{duration:O,until:H,id:$}}),w()},y=E(()=>{const O=R.tz(he(u)).format(Ne),H=R.tz(he(d)).format(Ne);return{start:O,end:H}},[u,d,h]),k=E(()=>m&&m!=="none"?m.replace(/_/g," "):`${y.start} - ${y.end}`,[m,y]),C=D(null),A=D(null),N=D(null),T=()=>{l&&s&&p({type:"SET_PERIOD",payload:{from:R.tz(l).toDate(),to:R.tz(s).toDate()}}),w()},P=()=>p({type:"RUN_QUERY_TO_NOW"}),B=()=>{i($e(he(d))),c($e(he(u))),w()};return I(()=>{const O=Qt({relativeTimeId:m,defaultDuration:_,defaultEndInput:he(d)});f&&h!==f&&S({id:O.relativeTimeId,duration:O.duration,until:O.endInput})},[h,f]),Xe(o,O=>{if(e)return;const H=O.target,$=C?.current&&C?.current?.contains(H),G=A?.current&&A?.current?.contains(H);$||G||w()}),t(j,{children:[t("div",{ref:N,children:e?t("div",{className:"vm-mobile-option",onClick:b,children:[t("span",{className:"vm-mobile-option__icon",children:t(zt,{})}),t("div",{className:"vm-mobile-option-text",children:[t("span",{className:"vm-mobile-option-text__label",children:"Time range"}),t("span",{className:"vm-mobile-option-text__value",children:k})]}),t("span",{className:"vm-mobile-option__arrow",children:t(le,{})})]}):t(Y,{title:a?"Time range controls":k,children:t(V,{className:v?"":"vm-header-button",variant:"contained",color:"primary",startIcon:t(zt,{}),onClick:b,ariaLabel:"time range controls",children:a&&t("span",{children:k})})})}),t(se,{open:g,buttonRef:N,placement:"bottom-right",onClose:w,clickOutside:!1,title:e?"Time range controls":"",children:t("div",{className:M({"vm-time-selector":!0,"vm-time-selector_mobile":e}),ref:o,children:[t("div",{className:"vm-time-selector-left",children:[t("div",{className:M({"vm-time-selector-left-inputs":!0,"vm-time-selector-left-inputs_dark":n}),children:[t(Kn,{value:l,label:"From:",pickerLabel:"Date From",pickerRef:C,onChange:c,onEnter:T}),t(Kn,{value:s,label:"To:",pickerLabel:"Date To",pickerRef:A,onChange:i,onEnter:T})]}),t("div",{className:"vm-time-selector-left-timezone",children:[t("div",{className:"vm-time-selector-left-timezone__title",children:x.region}),t("div",{className:"vm-time-selector-left-timezone__utc",children:x.utc})]}),t(V,{variant:"text",startIcon:t(sa,{}),onClick:P,children:"switch to now"}),t("div",{className:"vm-time-selector-left__controls",children:[t(V,{color:"error",variant:"outlined",onClick:B,children:"Cancel"}),t(V,{color:"primary",onClick:T,children:"Apply"})]})]}),t(Ql,{relativeTime:m||"",setDuration:S})]})})]})},sc=()=>{const e=be(),{isMobile:n}=W(),o=Ze(),[r,a]=J(),[s,i]=re("0","accountID"),[l,c]=re("0","projectID"),d=`${s}:${l}`,u=D(null),{value:m,toggle:h,setFalse:_}=Z(),p=()=>{r.set("accountID",s),r.set("projectID",l),a(r),_(),o({type:"RUN_QUERY"})},v=()=>{i(r.get("accountID")||"0"),c(r.get("projectID")||"0")};return I(()=>{m||v()},[m]),t("div",{className:"vm-tenant-input",children:[t(Y,{title:"Define Tenant ID if you need request to another storage",children:t("div",{ref:u,children:n?t("div",{className:"vm-mobile-option",onClick:h,children:[t("span",{className:"vm-mobile-option__icon",children:t(Rt,{})}),t("div",{className:"vm-mobile-option-text",children:[t("span",{className:"vm-mobile-option-text__label",children:"Tenant ID"}),t("span",{className:"vm-mobile-option-text__value",children:d})]}),t("span",{className:"vm-mobile-option__arrow",children:t(le,{})})]}):t(V,{className:e?"":"vm-header-button",variant:"contained",color:"primary",fullWidth:!0,startIcon:t(Rt,{}),endIcon:t("div",{className:M({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":m}),children:t(le,{})}),onClick:h,children:d})})}),t(se,{open:m,placement:"bottom-right",onClose:_,buttonRef:u,title:n?"Define Tenant ID":void 0,children:t("div",{className:M({"vm-list vm-tenant-input-list":!0,"vm-list vm-tenant-input-list_mobile":n,"vm-tenant-input-list_inline":!0}),children:[t(Ce,{autofocus:!0,label:"accountID",value:s,onChange:i,type:"number"}),t(Ce,{autofocus:!0,label:"projectID",value:l,onChange:c,type:"number"}),t("div",{className:"vm-tenant-input-list__buttons",children:[t(Y,{title:"Multitenancy in VictoriaLogs documentation",children:t("a",{href:"https://docs.victoriametrics.com/victorialogs/#multitenancy",target:"_blank",rel:"help noreferrer",children:t(V,{variant:"text",color:"gray",startIcon:t(ca,{})})})}),t(V,{variant:"contained",color:"primary",onClick:p,children:"Apply"})]})]})})]})},Mt=[{seconds:0,title:"Off"},{seconds:1,title:"1s"},{seconds:2,title:"2s"},{seconds:5,title:"5s"},{seconds:10,title:"10s"},{seconds:30,title:"30s"},{seconds:60,title:"1m"},{seconds:300,title:"5m"},{seconds:900,title:"15m"},{seconds:1800,title:"30m"},{seconds:3600,title:"1h"},{seconds:7200,title:"2h"}],ic=()=>{const{isMobile:e}=W(),n=Ze(),o=be(),[r,a]=L(!1),[s,i]=L(Mt[0]),{value:l,toggle:c,setFalse:d}=Z(),u=D(null),m=p=>{(r&&!p.seconds||!r&&p.seconds)&&a(v=>!v),i(p),d()},h=()=>{n({type:"RUN_QUERY"})};I(()=>{const p=s.seconds;let v;return r?v=setInterval(()=>{n({type:"RUN_QUERY"})},p*1e3):i(Mt[0]),()=>{v&&clearInterval(v)}},[s,r]);const _=p=>()=>{m(p)};return t(j,{children:[t("div",{className:"vm-execution-controls",children:t("div",{className:M({"vm-execution-controls-buttons":!0,"vm-execution-controls-buttons_mobile":e,"vm-header-button":!o}),children:[!e&&t(Y,{title:"Refresh dashboard",children:t(V,{variant:"contained",color:"primary",onClick:h,startIcon:t(po,{}),ariaLabel:"refresh dashboard"})}),e?t("div",{className:"vm-mobile-option",onClick:c,children:[t("span",{className:"vm-mobile-option__icon",children:t(ot,{})}),t("div",{className:"vm-mobile-option-text",children:[t("span",{className:"vm-mobile-option-text__label",children:"Auto-refresh"}),t("span",{className:"vm-mobile-option-text__value",children:s.title})]}),t("span",{className:"vm-mobile-option__arrow",children:t(le,{})})]}):t(Y,{title:"Auto-refresh control",children:t("div",{ref:u,children:t(V,{variant:"contained",color:"primary",fullWidth:!0,endIcon:t("div",{className:M({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":l}),children:t(le,{})}),onClick:c,children:s.title})})})]})}),t(se,{open:l,placement:"bottom-right",onClose:d,buttonRef:u,title:e?"Auto-refresh duration":void 0,children:t("div",{className:M({"vm-execution-controls-list":!0,"vm-execution-controls-list_mobile":e}),children:Mt.map(p=>t("div",{className:M({"vm-list-item":!0,"vm-list-item_mobile":e,"vm-list-item_active":p.seconds===s.seconds}),onClick:_(p),children:p.title},p.seconds))})})]})},lc=({isMobile:e,headerSetup:n})=>t("div",{className:M({"vm-header-controls":!0,"vm-header-controls_mobile":e}),children:[n?.tenant&&t(sc,{}),n?.timeSelector&&t(ac,{}),n?.executionControls&&t(ic,{}),t(Zl,{})]}),cc=()=>{const e=be(),{isMobile:n}=W(),{pathname:o}=Pe();return I(()=>{const s=Object.entries(gt).find(([l])=>eo(l,o))?.[1]?.title,i="UI for VictoriaLogs";document.title=s?`${s} - ${i}`:i},[o]),t("section",{className:"vm-container",children:[t(Bl,{controlsComponent:lc}),t("div",{className:M({"vm-container-body":!0,"vm-container-body_mobile":n,"vm-container-body_app":e}),children:t(ar,{})}),!e&&t(Ul,{links:qo})]})},dc=()=>{const{_stream_id:e,_time:n}=sr(),[o]=J(),r=o.get(X.DISPLAY_FIELDS)||Fe,a=E(()=>r.split(","),[r]);return!e||!n?t("div",{children:"Error: Missing stream ID or time."}):t("div",{className:"vm-stream-context-page",children:t(Do,{log:{_stream_id:e,_time:n,_msg:"",_stream:""},displayFields:a})})};function uc(e){const{emojis:n}=e;if(!n)throw new Error("Must provide emojis to markedEmoji");const o=Object.keys(n).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");if(o.length===0)throw new Error("Emoji list is empty; provide at least one emoji.");const r=new RegExp(`:(${o}):`),a=new RegExp(`^${r.source}`);return{extensions:[{name:"emoji",level:"inline",start(s){return s.match(r)?.index},tokenizer(s){const i=a.exec(s);if(!i)return;const l=i[1],c=n[l];if(c)return{type:"emoji",raw:i[0],name:l,emoji:c}},renderer(s){return e.renderer(s)}}]}}const mc={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",rofl:"🤣",joy:"😂",slightly_smiling_face:"🙂",upside_down_face:"🙃",melting_face:"🫠",wink:"😉",blush:"😊",innocent:"😇",smiling_face_with_three_hearts:"🥰",heart_eyes:"😍",star_struck:"🤩",kissing_heart:"😘",kissing:"😗",relaxed:"☺️",kissing_closed_eyes:"😚",kissing_smiling_eyes:"😙",smiling_face_with_tear:"🥲",yum:"😋",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",zany_face:"🤪",stuck_out_tongue_closed_eyes:"😝",money_mouth_face:"🤑",hugs:"🤗",hand_over_mouth:"🤭",face_with_open_eyes_and_hand_over_mouth:"🫢",face_with_peeking_eye:"🫣",shushing_face:"🤫",thinking:"🤔",saluting_face:"🫡",zipper_mouth_face:"🤐",raised_eyebrow:"🤨",neutral_face:"😐",expressionless:"😑",no_mouth:"😶",dotted_line_face:"🫥",face_in_clouds:"😶‍🌫️",smirk:"😏",unamused:"😒",roll_eyes:"🙄",grimacing:"😬",face_exhaling:"😮‍💨",lying_face:"🤥",shaking_face:"🫨",relieved:"😌",pensive:"😔",sleepy:"😪",drooling_face:"🤤",sleeping:"😴",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",nauseated_face:"🤢",vomiting_face:"🤮",sneezing_face:"🤧",hot_face:"🥵",cold_face:"🥶",woozy_face:"🥴",dizzy_face:"😵",face_with_spiral_eyes:"😵‍💫",exploding_head:"🤯",cowboy_hat_face:"🤠",partying_face:"🥳",disguised_face:"🥸",sunglasses:"😎",nerd_face:"🤓",monocle_face:"🧐",confused:"😕",face_with_diagonal_mouth:"🫤",worried:"😟",slightly_frowning_face:"🙁",frowning_face:"☹️",open_mouth:"😮",hushed:"😯",astonished:"😲",flushed:"😳",pleading_face:"🥺",face_holding_back_tears:"🥹",frowning:"😦",anguished:"😧",fearful:"😨",cold_sweat:"😰",disappointed_relieved:"😥",cry:"😢",sob:"😭",scream:"😱",confounded:"😖",persevere:"😣",disappointed:"😞",sweat:"😓",weary:"😩",tired_face:"😫",yawning_face:"🥱",triumph:"😤",rage:"😡",pout:"😡",angry:"😠",cursing_face:"🤬",smiling_imp:"😈",imp:"👿",skull:"💀",skull_and_crossbones:"☠️",hankey:"💩",poop:"💩",shit:"💩",clown_face:"🤡",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",alien:"👽",space_invader:"👾",robot:"🤖",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",love_letter:"💌",cupid:"💘",gift_heart:"💝",sparkling_heart:"💖",heartpulse:"💗",heartbeat:"💓",revolving_hearts:"💞",two_hearts:"💕",heart_decoration:"💟",heavy_heart_exclamation:"❣️",broken_heart:"💔",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",pink_heart:"🩷",orange_heart:"🧡",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",light_blue_heart:"🩵",purple_heart:"💜",brown_heart:"🤎",black_heart:"🖤",grey_heart:"🩶",white_heart:"🤍",kiss:"💋",anger:"💢",boom:"💥",collision:"💥",dizzy:"💫",sweat_drops:"💦",dash:"💨",hole:"🕳️",speech_balloon:"💬",eye_speech_bubble:"👁️‍🗨️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",thought_balloon:"💭",zzz:"💤",wave:"👋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐️",hand:"✋",raised_hand:"✋",vulcan_salute:"🖖",rightwards_hand:"🫱",leftwards_hand:"🫲",palm_down_hand:"🫳",palm_up_hand:"🫴",leftwards_pushing_hand:"🫷",rightwards_pushing_hand:"🫸",ok_hand:"👌",pinched_fingers:"🤌",pinching_hand:"🤏",v:"✌️",crossed_fingers:"🤞",hand_with_index_finger_and_thumb_crossed:"🫰",love_you_gesture:"🤟",metal:"🤘",call_me_hand:"🤙",point_left:"👈",point_right:"👉",point_up_2:"👆",middle_finger:"🖕",fu:"🖕",point_down:"👇",point_up:"☝️",index_pointing_at_the_viewer:"🫵","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_raised:"✊",fist:"✊",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_left:"🤛",fist_right:"🤜",clap:"👏",raised_hands:"🙌",heart_hands:"🫶",open_hands:"👐",palms_up_together:"🤲",handshake:"🤝",pray:"🙏",writing_hand:"✍️",nail_care:"💅",selfie:"🤳",muscle:"💪",mechanical_arm:"🦾",mechanical_leg:"🦿",leg:"🦵",foot:"🦶",ear:"👂",ear_with_hearing_aid:"🦻",nose:"👃",brain:"🧠",anatomical_heart:"🫀",lungs:"🫁",tooth:"🦷",bone:"🦴",eyes:"👀",eye:"👁️",tongue:"👅",lips:"👄",biting_lip:"🫦",baby:"👶",child:"🧒",boy:"👦",girl:"👧",adult:"🧑",blond_haired_person:"👱",man:"👨",bearded_person:"🧔",man_beard:"🧔‍♂️",woman_beard:"🧔‍♀️",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",white_haired_man:"👨‍🦳",bald_man:"👨‍🦲",woman:"👩",red_haired_woman:"👩‍🦰",person_red_hair:"🧑‍🦰",curly_haired_woman:"👩‍🦱",person_curly_hair:"🧑‍🦱",white_haired_woman:"👩‍🦳",person_white_hair:"🧑‍🦳",bald_woman:"👩‍🦲",person_bald:"🧑‍🦲",blond_haired_woman:"👱‍♀️",blonde_woman:"👱‍♀️",blond_haired_man:"👱‍♂️",older_adult:"🧓",older_man:"👴",older_woman:"👵",frowning_person:"🙍",frowning_man:"🙍‍♂️",frowning_woman:"🙍‍♀️",pouting_face:"🙎",pouting_man:"🙎‍♂️",pouting_woman:"🙎‍♀️",no_good:"🙅",no_good_man:"🙅‍♂️",ng_man:"🙅‍♂️",no_good_woman:"🙅‍♀️",ng_woman:"🙅‍♀️",ok_person:"🙆",ok_man:"🙆‍♂️",ok_woman:"🙆‍♀️",tipping_hand_person:"💁",information_desk_person:"💁",tipping_hand_man:"💁‍♂️",sassy_man:"💁‍♂️",tipping_hand_woman:"💁‍♀️",sassy_woman:"💁‍♀️",raising_hand:"🙋",raising_hand_man:"🙋‍♂️",raising_hand_woman:"🙋‍♀️",deaf_person:"🧏",deaf_man:"🧏‍♂️",deaf_woman:"🧏‍♀️",bow:"🙇",bowing_man:"🙇‍♂️",bowing_woman:"🙇‍♀️",facepalm:"🤦",man_facepalming:"🤦‍♂️",woman_facepalming:"🤦‍♀️",shrug:"🤷",man_shrugging:"🤷‍♂️",woman_shrugging:"🤷‍♀️",health_worker:"🧑‍⚕️",man_health_worker:"👨‍⚕️",woman_health_worker:"👩‍⚕️",student:"🧑‍🎓",man_student:"👨‍🎓",woman_student:"👩‍🎓",teacher:"🧑‍🏫",man_teacher:"👨‍🏫",woman_teacher:"👩‍🏫",judge:"🧑‍⚖️",man_judge:"👨‍⚖️",woman_judge:"👩‍⚖️",farmer:"🧑‍🌾",man_farmer:"👨‍🌾",woman_farmer:"👩‍🌾",cook:"🧑‍🍳",man_cook:"👨‍🍳",woman_cook:"👩‍🍳",mechanic:"🧑‍🔧",man_mechanic:"👨‍🔧",woman_mechanic:"👩‍🔧",factory_worker:"🧑‍🏭",man_factory_worker:"👨‍🏭",woman_factory_worker:"👩‍🏭",office_worker:"🧑‍💼",man_office_worker:"👨‍💼",woman_office_worker:"👩‍💼",scientist:"🧑‍🔬",man_scientist:"👨‍🔬",woman_scientist:"👩‍🔬",technologist:"🧑‍💻",man_technologist:"👨‍💻",woman_technologist:"👩‍💻",singer:"🧑‍🎤",man_singer:"👨‍🎤",woman_singer:"👩‍🎤",artist:"🧑‍🎨",man_artist:"👨‍🎨",woman_artist:"👩‍🎨",pilot:"🧑‍✈️",man_pilot:"👨‍✈️",woman_pilot:"👩‍✈️",astronaut:"🧑‍🚀",man_astronaut:"👨‍🚀",woman_astronaut:"👩‍🚀",firefighter:"🧑‍🚒",man_firefighter:"👨‍🚒",woman_firefighter:"👩‍🚒",police_officer:"👮",cop:"👮",policeman:"👮‍♂️",policewoman:"👮‍♀️",detective:"🕵️",male_detective:"🕵️‍♂️",female_detective:"🕵️‍♀️",guard:"💂",guardsman:"💂‍♂️",guardswoman:"💂‍♀️",ninja:"🥷",construction_worker:"👷",construction_worker_man:"👷‍♂️",construction_worker_woman:"👷‍♀️",person_with_crown:"🫅",prince:"🤴",princess:"👸",person_with_turban:"👳",man_with_turban:"👳‍♂️",woman_with_turban:"👳‍♀️",man_with_gua_pi_mao:"👲",woman_with_headscarf:"🧕",person_in_tuxedo:"🤵",man_in_tuxedo:"🤵‍♂️",woman_in_tuxedo:"🤵‍♀️",person_with_veil:"👰",man_with_veil:"👰‍♂️",woman_with_veil:"👰‍♀️",bride_with_veil:"👰‍♀️",pregnant_woman:"🤰",pregnant_man:"🫃",pregnant_person:"🫄",breast_feeding:"🤱",woman_feeding_baby:"👩‍🍼",man_feeding_baby:"👨‍🍼",person_feeding_baby:"🧑‍🍼",angel:"👼",santa:"🎅",mrs_claus:"🤶",mx_claus:"🧑‍🎄",superhero:"🦸",superhero_man:"🦸‍♂️",superhero_woman:"🦸‍♀️",supervillain:"🦹",supervillain_man:"🦹‍♂️",supervillain_woman:"🦹‍♀️",mage:"🧙",mage_man:"🧙‍♂️",mage_woman:"🧙‍♀️",fairy:"🧚",fairy_man:"🧚‍♂️",fairy_woman:"🧚‍♀️",vampire:"🧛",vampire_man:"🧛‍♂️",vampire_woman:"🧛‍♀️",merperson:"🧜",merman:"🧜‍♂️",mermaid:"🧜‍♀️",elf:"🧝",elf_man:"🧝‍♂️",elf_woman:"🧝‍♀️",genie:"🧞",genie_man:"🧞‍♂️",genie_woman:"🧞‍♀️",zombie:"🧟",zombie_man:"🧟‍♂️",zombie_woman:"🧟‍♀️",troll:"🧌",massage:"💆",massage_man:"💆‍♂️",massage_woman:"💆‍♀️",haircut:"💇",haircut_man:"💇‍♂️",haircut_woman:"💇‍♀️",walking:"🚶",walking_man:"🚶‍♂️",walking_woman:"🚶‍♀️",standing_person:"🧍",standing_man:"🧍‍♂️",standing_woman:"🧍‍♀️",kneeling_person:"🧎",kneeling_man:"🧎‍♂️",kneeling_woman:"🧎‍♀️",person_with_probing_cane:"🧑‍🦯",man_with_probing_cane:"👨‍🦯",woman_with_probing_cane:"👩‍🦯",person_in_motorized_wheelchair:"🧑‍🦼",man_in_motorized_wheelchair:"👨‍🦼",woman_in_motorized_wheelchair:"👩‍🦼",person_in_manual_wheelchair:"🧑‍🦽",man_in_manual_wheelchair:"👨‍🦽",woman_in_manual_wheelchair:"👩‍🦽",runner:"🏃",running:"🏃",running_man:"🏃‍♂️",running_woman:"🏃‍♀️",woman_dancing:"💃",dancer:"💃",man_dancing:"🕺",business_suit_levitating:"🕴️",dancers:"👯",dancing_men:"👯‍♂️",dancing_women:"👯‍♀️",sauna_person:"🧖",sauna_man:"🧖‍♂️",sauna_woman:"🧖‍♀️",climbing:"🧗",climbing_man:"🧗‍♂️",climbing_woman:"🧗‍♀️",person_fencing:"🤺",horse_racing:"🏇",skier:"⛷️",snowboarder:"🏂",golfing:"🏌️",golfing_man:"🏌️‍♂️",golfing_woman:"🏌️‍♀️",surfer:"🏄",surfing_man:"🏄‍♂️",surfing_woman:"🏄‍♀️",rowboat:"🚣",rowing_man:"🚣‍♂️",rowing_woman:"🚣‍♀️",swimmer:"🏊",swimming_man:"🏊‍♂️",swimming_woman:"🏊‍♀️",bouncing_ball_person:"⛹️",bouncing_ball_man:"⛹️‍♂️",basketball_man:"⛹️‍♂️",bouncing_ball_woman:"⛹️‍♀️",basketball_woman:"⛹️‍♀️",weight_lifting:"🏋️",weight_lifting_man:"🏋️‍♂️",weight_lifting_woman:"🏋️‍♀️",bicyclist:"🚴",biking_man:"🚴‍♂️",biking_woman:"🚴‍♀️",mountain_bicyclist:"🚵",mountain_biking_man:"🚵‍♂️",mountain_biking_woman:"🚵‍♀️",cartwheeling:"🤸",man_cartwheeling:"🤸‍♂️",woman_cartwheeling:"🤸‍♀️",wrestling:"🤼",men_wrestling:"🤼‍♂️",women_wrestling:"🤼‍♀️",water_polo:"🤽",man_playing_water_polo:"🤽‍♂️",woman_playing_water_polo:"🤽‍♀️",handball_person:"🤾",man_playing_handball:"🤾‍♂️",woman_playing_handball:"🤾‍♀️",juggling_person:"🤹",man_juggling:"🤹‍♂️",woman_juggling:"🤹‍♀️",lotus_position:"🧘",lotus_position_man:"🧘‍♂️",lotus_position_woman:"🧘‍♀️",bath:"🛀",sleeping_bed:"🛌",people_holding_hands:"🧑‍🤝‍🧑",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏",couplekiss_man_woman:"👩‍❤️‍💋‍👨",couplekiss_man_man:"👨‍❤️‍💋‍👨",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couple_with_heart:"💑",couple_with_heart_woman_man:"👩‍❤️‍👨",couple_with_heart_man_man:"👨‍❤️‍👨",couple_with_heart_woman_woman:"👩‍❤️‍👩",family:"👪",family_man_woman_boy:"👨‍👩‍👦",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_girl_girl:"👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_girl_girl:"👩‍👧‍👧",speaking_head:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",people_hugging:"🫂",footprints:"👣",monkey_face:"🐵",monkey:"🐒",gorilla:"🦍",orangutan:"🦧",dog:"🐶",dog2:"🐕",guide_dog:"🦮",service_dog:"🐕‍🦺",poodle:"🐩",wolf:"🐺",fox_face:"🦊",raccoon:"🦝",cat:"🐱",cat2:"🐈",black_cat:"🐈‍⬛",lion:"🦁",tiger:"🐯",tiger2:"🐅",leopard:"🐆",horse:"🐴",moose:"🫎",donkey:"🫏",racehorse:"🐎",unicorn:"🦄",zebra:"🦓",deer:"🦌",bison:"🦬",cow:"🐮",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",pig:"🐷",pig2:"🐖",boar:"🐗",pig_nose:"🐽",ram:"🐏",sheep:"🐑",goat:"🐐",dromedary_camel:"🐪",camel:"🐫",llama:"🦙",giraffe:"🦒",elephant:"🐘",mammoth:"🦣",rhinoceros:"🦏",hippopotamus:"🦛",mouse:"🐭",mouse2:"🐁",rat:"🐀",hamster:"🐹",rabbit:"🐰",rabbit2:"🐇",chipmunk:"🐿️",beaver:"🦫",hedgehog:"🦔",bat:"🦇",bear:"🐻",polar_bear:"🐻‍❄️",koala:"🐨",panda_face:"🐼",sloth:"🦥",otter:"🦦",skunk:"🦨",kangaroo:"🦘",badger:"🦡",feet:"🐾",paw_prints:"🐾",turkey:"🦃",chicken:"🐔",rooster:"🐓",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",dove:"🕊️",eagle:"🦅",duck:"🦆",swan:"🦢",owl:"🦉",dodo:"🦤",feather:"🪶",flamingo:"🦩",peacock:"🦚",parrot:"🦜",wing:"🪽",black_bird:"🐦‍⬛",goose:"🪿",frog:"🐸",crocodile:"🐊",turtle:"🐢",lizard:"🦎",snake:"🐍",dragon_face:"🐲",dragon:"🐉",sauropod:"🦕","t-rex":"🦖",whale:"🐳",whale2:"🐋",dolphin:"🐬",flipper:"🐬",seal:"🦭",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",shark:"🦈",octopus:"🐙",shell:"🐚",coral:"🪸",jellyfish:"🪼",snail:"🐌",butterfly:"🦋",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",beetle:"🪲",lady_beetle:"🐞",cricket:"🦗",cockroach:"🪳",spider:"🕷️",spider_web:"🕸️",scorpion:"🦂",mosquito:"🦟",fly:"🪰",worm:"🪱",microbe:"🦠",bouquet:"💐",cherry_blossom:"🌸",white_flower:"💮",lotus:"🪷",rosette:"🏵️",rose:"🌹",wilted_flower:"🥀",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",tulip:"🌷",hyacinth:"🪻",seedling:"🌱",potted_plant:"🪴",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",ear_of_rice:"🌾",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",empty_nest:"🪹",nest_with_eggs:"🪺",mushroom:"🍄",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",mango:"🥭",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",blueberries:"🫐",kiwi_fruit:"🥝",tomato:"🍅",olive:"🫒",coconut:"🥥",avocado:"🥑",eggplant:"🍆",potato:"🥔",carrot:"🥕",corn:"🌽",hot_pepper:"🌶️",bell_pepper:"🫑",cucumber:"🥒",leafy_green:"🥬",broccoli:"🥦",garlic:"🧄",onion:"🧅",peanuts:"🥜",beans:"🫘",chestnut:"🌰",ginger_root:"🫚",pea_pod:"🫛",bread:"🍞",croissant:"🥐",baguette_bread:"🥖",flatbread:"🫓",pretzel:"🥨",bagel:"🥯",pancakes:"🥞",waffle:"🧇",cheese:"🧀",meat_on_bone:"🍖",poultry_leg:"🍗",cut_of_meat:"🥩",bacon:"🥓",hamburger:"🍔",fries:"🍟",pizza:"🍕",hotdog:"🌭",sandwich:"🥪",taco:"🌮",burrito:"🌯",tamale:"🫔",stuffed_flatbread:"🥙",falafel:"🧆",egg:"🥚",fried_egg:"🍳",shallow_pan_of_food:"🥘",stew:"🍲",fondue:"🫕",bowl_with_spoon:"🥣",green_salad:"🥗",popcorn:"🍿",butter:"🧈",salt:"🧂",canned_food:"🥫",bento:"🍱",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",sweet_potato:"🍠",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",moon_cake:"🥮",dango:"🍡",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",crab:"🦀",lobster:"🦞",shrimp:"🦐",squid:"🦑",oyster:"🦪",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",birthday:"🎂",cake:"🍰",cupcake:"🧁",pie:"🥧",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",baby_bottle:"🍼",milk_glass:"🥛",coffee:"☕",teapot:"🫖",tea:"🍵",sake:"🍶",champagne:"🍾",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",tumbler_glass:"🥃",pouring_liquid:"🫗",cup_with_straw:"🥤",bubble_tea:"🧋",beverage_box:"🧃",mate:"🧉",ice_cube:"🧊",chopsticks:"🥢",plate_with_cutlery:"🍽️",fork_and_knife:"🍴",spoon:"🥄",hocho:"🔪",knife:"🔪",jar:"🫙",amphora:"🏺",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",world_map:"🗺️",japan:"🗾",compass:"🧭",mountain_snow:"🏔️",mountain:"⛰️",volcano:"🌋",mount_fuji:"🗻",camping:"🏕️",beach_umbrella:"🏖️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",classical_building:"🏛️",building_construction:"🏗️",bricks:"🧱",rock:"🪨",wood:"🪵",hut:"🛖",houses:"🏘️",derelict_house:"🏚️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",japanese_castle:"🏯",european_castle:"🏰",wedding:"💒",tokyo_tower:"🗼",statue_of_liberty:"🗽",church:"⛪",mosque:"🕌",hindu_temple:"🛕",synagogue:"🕍",shinto_shrine:"⛩️",kaaba:"🕋",fountain:"⛲",tent:"⛺",foggy:"🌁",night_with_stars:"🌃",cityscape:"🏙️",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",bridge_at_night:"🌉",hotsprings:"♨️",carousel_horse:"🎠",playground_slide:"🛝",ferris_wheel:"🎡",roller_coaster:"🎢",barber:"💈",circus_tent:"🎪",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",monorail:"🚝",mountain_railway:"🚞",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",pickup_truck:"🛻",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",racing_car:"🏎️",motorcycle:"🏍️",motor_scooter:"🛵",manual_wheelchair:"🦽",motorized_wheelchair:"🦼",auto_rickshaw:"🛺",bike:"🚲",kick_scooter:"🛴",skateboard:"🛹",roller_skate:"🛼",busstop:"🚏",motorway:"🛣️",railway_track:"🛤️",oil_drum:"🛢️",fuelpump:"⛽",wheel:"🛞",rotating_light:"🚨",traffic_light:"🚥",vertical_traffic_light:"🚦",stop_sign:"🛑",construction:"🚧",anchor:"⚓",ring_buoy:"🛟",boat:"⛵",sailboat:"⛵",canoe:"🛶",speedboat:"🚤",passenger_ship:"🛳️",ferry:"⛴️",motor_boat:"🛥️",ship:"🚢",airplane:"✈️",small_airplane:"🛩️",flight_departure:"🛫",flight_arrival:"🛬",parachute:"🪂",seat:"💺",helicopter:"🚁",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",artificial_satellite:"🛰️",rocket:"🚀",flying_saucer:"🛸",bellhop_bell:"🛎️",luggage:"🧳",hourglass:"⌛",hourglass_flowing_sand:"⏳",watch:"⌚",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",mantelpiece_clock:"🕰️",clock12:"🕛",clock1230:"🕧",clock1:"🕐",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",thermometer:"🌡️",sunny:"☀️",full_moon_with_face:"🌝",sun_with_face:"🌞",ringed_planet:"🪐",star:"⭐",star2:"🌟",stars:"🌠",milky_way:"🌌",cloud:"☁️",partly_sunny:"⛅",cloud_with_lightning_and_rain:"⛈️",sun_behind_small_cloud:"🌤️",sun_behind_large_cloud:"🌥️",sun_behind_rain_cloud:"🌦️",cloud_with_rain:"🌧️",cloud_with_snow:"🌨️",cloud_with_lightning:"🌩️",tornado:"🌪️",fog:"🌫️",wind_face:"🌬️",cyclone:"🌀",rainbow:"🌈",closed_umbrella:"🌂",open_umbrella:"☂️",umbrella:"☔",parasol_on_ground:"⛱️",zap:"⚡",snowflake:"❄️",snowman_with_snow:"☃️",snowman:"⛄",comet:"☄️",fire:"🔥",droplet:"💧",ocean:"🌊",jack_o_lantern:"🎃",christmas_tree:"🎄",fireworks:"🎆",sparkler:"🎇",firecracker:"🧨",sparkles:"✨",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",red_envelope:"🧧",ribbon:"🎀",gift:"🎁",reminder_ribbon:"🎗️",tickets:"🎟️",ticket:"🎫",medal_military:"🎖️",trophy:"🏆",medal_sports:"🏅","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",soccer:"⚽",baseball:"⚾",softball:"🥎",basketball:"🏀",volleyball:"🏐",football:"🏈",rugby_football:"🏉",tennis:"🎾",flying_disc:"🥏",bowling:"🎳",cricket_game:"🏏",field_hockey:"🏑",ice_hockey:"🏒",lacrosse:"🥍",ping_pong:"🏓",badminton:"🏸",boxing_glove:"🥊",martial_arts_uniform:"🥋",goal_net:"🥅",golf:"⛳",ice_skate:"⛸️",fishing_pole_and_fish:"🎣",diving_mask:"🤿",running_shirt_with_sash:"🎽",ski:"🎿",sled:"🛷",curling_stone:"🥌",dart:"🎯",yo_yo:"🪀",kite:"🪁",gun:"🔫","8ball":"🎱",crystal_ball:"🔮",magic_wand:"🪄",video_game:"🎮",joystick:"🕹️",slot_machine:"🎰",game_die:"🎲",jigsaw:"🧩",teddy_bear:"🧸",pinata:"🪅",mirror_ball:"🪩",nesting_dolls:"🪆",spades:"♠️",hearts:"♥️",diamonds:"♦️",clubs:"♣️",chess_pawn:"♟️",black_joker:"🃏",mahjong:"🀄",flower_playing_cards:"🎴",performing_arts:"🎭",framed_picture:"🖼️",art:"🎨",thread:"🧵",sewing_needle:"🪡",yarn:"🧶",knot:"🪢",eyeglasses:"👓",dark_sunglasses:"🕶️",goggles:"🥽",lab_coat:"🥼",safety_vest:"🦺",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",dress:"👗",kimono:"👘",sari:"🥻",one_piece_swimsuit:"🩱",swim_brief:"🩲",shorts:"🩳",bikini:"👙",womans_clothes:"👚",folding_hand_fan:"🪭",purse:"👛",handbag:"👜",pouch:"👝",shopping:"🛍️",school_satchel:"🎒",thong_sandal:"🩴",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",hiking_boot:"🥾",flat_shoe:"🥿",high_heel:"👠",sandal:"👡",ballet_shoes:"🩰",boot:"👢",hair_pick:"🪮",crown:"👑",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",billed_cap:"🧢",military_helmet:"🪖",rescue_worker_helmet:"⛑️",prayer_beads:"📿",lipstick:"💄",ring:"💍",gem:"💎",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",loudspeaker:"📢",mega:"📣",postal_horn:"📯",bell:"🔔",no_bell:"🔕",musical_score:"🎼",musical_note:"🎵",notes:"🎶",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",microphone:"🎤",headphones:"🎧",radio:"📻",saxophone:"🎷",accordion:"🪗",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",banjo:"🪕",drum:"🥁",long_drum:"🪘",maracas:"🪇",flute:"🪈",iphone:"📱",calling:"📲",phone:"☎️",telephone:"☎️",telephone_receiver:"📞",pager:"📟",fax:"📠",battery:"🔋",low_battery:"🪫",electric_plug:"🔌",computer:"💻",desktop_computer:"🖥️",printer:"🖨️",keyboard:"⌨️",computer_mouse:"🖱️",trackball:"🖲️",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",abacus:"🧮",movie_camera:"🎥",film_strip:"🎞️",film_projector:"📽️",clapper:"🎬",tv:"📺",camera:"📷",camera_flash:"📸",video_camera:"📹",vhs:"📼",mag:"🔍",mag_right:"🔎",candle:"🕯️",bulb:"💡",flashlight:"🔦",izakaya_lantern:"🏮",lantern:"🏮",diya_lamp:"🪔",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",notebook:"📓",ledger:"📒",page_with_curl:"📃",scroll:"📜",page_facing_up:"📄",newspaper:"📰",newspaper_roll:"🗞️",bookmark_tabs:"📑",bookmark:"🔖",label:"🏷️",moneybag:"💰",coin:"🪙",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",credit_card:"💳",receipt:"🧾",chart:"💹",envelope:"✉️",email:"📧","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",outbox_tray:"📤",inbox_tray:"📥",package:"📦",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",ballot_box:"🗳️",pencil2:"✏️",black_nib:"✒️",fountain_pen:"🖋️",pen:"🖊️",paintbrush:"🖌️",crayon:"🖍️",memo:"📝",pencil:"📝",briefcase:"💼",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂️",date:"📅",calendar:"📆",spiral_notepad:"🗒️",spiral_calendar:"🗓️",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",paperclips:"🖇️",straight_ruler:"📏",triangular_ruler:"📐",scissors:"✂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",lock:"🔒",unlock:"🔓",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",old_key:"🗝️",hammer:"🔨",axe:"🪓",pick:"⛏️",hammer_and_pick:"⚒️",hammer_and_wrench:"🛠️",dagger:"🗡️",crossed_swords:"⚔️",bomb:"💣",boomerang:"🪃",bow_and_arrow:"🏹",shield:"🛡️",carpentry_saw:"🪚",wrench:"🔧",screwdriver:"🪛",nut_and_bolt:"🔩",gear:"⚙️",clamp:"🗜️",balance_scale:"⚖️",probing_cane:"🦯",link:"🔗",chains:"⛓️",hook:"🪝",toolbox:"🧰",magnet:"🧲",ladder:"🪜",alembic:"⚗️",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",microscope:"🔬",telescope:"🔭",satellite:"📡",syringe:"💉",drop_of_blood:"🩸",pill:"💊",adhesive_bandage:"🩹",crutch:"🩼",stethoscope:"🩺",x_ray:"🩻",door:"🚪",elevator:"🛗",mirror:"🪞",window:"🪟",bed:"🛏️",couch_and_lamp:"🛋️",chair:"🪑",toilet:"🚽",plunger:"🪠",shower:"🚿",bathtub:"🛁",mouse_trap:"🪤",razor:"🪒",lotion_bottle:"🧴",safety_pin:"🧷",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",bucket:"🪣",soap:"🧼",bubbles:"🫧",toothbrush:"🪥",sponge:"🧽",fire_extinguisher:"🧯",shopping_cart:"🛒",smoking:"🚬",coffin:"⚰️",headstone:"🪦",funeral_urn:"⚱️",nazar_amulet:"🧿",hamsa:"🪬",moyai:"🗿",placard:"🪧",identification_card:"🪪",atm:"🏧",put_litter_in_its_place:"🚮",potable_water:"🚰",wheelchair:"♿",men:"🚹",women:"🚺",restroom:"🚻",baby_symbol:"🚼",wc:"🚾",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",warning:"⚠️",children_crossing:"🚸",no_entry:"⛔",no_entry_sign:"🚫",no_bicycles:"🚳",no_smoking:"🚭",do_not_litter:"🚯","non-potable_water":"🚱",no_pedestrians:"🚷",no_mobile_phones:"📵",underage:"🔞",radioactive:"☢️",biohazard:"☣️",arrow_up:"⬆️",arrow_upper_right:"↗️",arrow_right:"➡️",arrow_lower_right:"↘️",arrow_down:"⬇️",arrow_lower_left:"↙️",arrow_left:"⬅️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",place_of_worship:"🛐",atom_symbol:"⚛️",om:"🕉️",star_of_david:"✡️",wheel_of_dharma:"☸️",yin_yang:"☯️",latin_cross:"✝️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",menorah:"🕎",six_pointed_star:"🔯",khanda:"🪯",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",ophiuchus:"⛎",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrow_forward:"▶️",fast_forward:"⏩",next_track_button:"⏭️",play_or_pause_button:"⏯️",arrow_backward:"◀️",rewind:"⏪",previous_track_button:"⏮️",arrow_up_small:"🔼",arrow_double_up:"⏫",arrow_down_small:"🔽",arrow_double_down:"⏬",pause_button:"⏸️",stop_button:"⏹️",record_button:"⏺️",eject_button:"⏏️",cinema:"🎦",low_brightness:"🔅",high_brightness:"🔆",signal_strength:"📶",wireless:"🛜",vibration_mode:"📳",mobile_phone_off:"📴",female_sign:"♀️",male_sign:"♂️",transgender_symbol:"⚧️",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_equals_sign:"🟰",infinity:"♾️",bangbang:"‼️",interrobang:"⁉️",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",wavy_dash:"〰️",currency_exchange:"💱",heavy_dollar_sign:"💲",medical_symbol:"⚕️",recycle:"♻️",fleur_de_lis:"⚜️",trident:"🔱",name_badge:"📛",beginner:"🔰",o:"⭕",white_check_mark:"✅",ballot_box_with_check:"☑️",heavy_check_mark:"✔️",x:"❌",negative_squared_cross_mark:"❎",curly_loop:"➰",loop:"➿",part_alternation_mark:"〽️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",sparkle:"❇️",copyright:"©️",registered:"®️",tm:"™️",hash:"#️⃣",asterisk:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",a:"🅰️",ab:"🆎",b:"🅱️",cl:"🆑",cool:"🆒",free:"🆓",information_source:"ℹ️",id:"🆔",m:"Ⓜ️",new:"🆕",ng:"🆖",o2:"🅾️",ok:"🆗",parking:"🅿️",sos:"🆘",up:"🆙",vs:"🆚",koko:"🈁",sa:"🈂️",u6708:"🈷️",u6709:"🈶",u6307:"🈯",ideograph_advantage:"🉐",u5272:"🈹",u7121:"🈚",u7981:"🈲",accept:"🉑",u7533:"🈸",u5408:"🈴",u7a7a:"🈳",congratulations:"㊗️",secret:"㊙️",u55b6:"🈺",u6e80:"🈵",red_circle:"🔴",orange_circle:"🟠",yellow_circle:"🟡",green_circle:"🟢",large_blue_circle:"🔵",purple_circle:"🟣",brown_circle:"🟤",black_circle:"⚫",white_circle:"⚪",red_square:"🟥",orange_square:"🟧",yellow_square:"🟨",green_square:"🟩",blue_square:"🟦",purple_square:"🟪",brown_square:"🟫",black_large_square:"⬛",white_large_square:"⬜",black_medium_square:"◼️",white_medium_square:"◻️",black_medium_small_square:"◾",white_medium_small_square:"◽",black_small_square:"▪️",white_small_square:"▫️",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",diamond_shape_with_a_dot_inside:"💠",radio_button:"🔘",white_square_button:"🔳",black_square_button:"🔲",checkered_flag:"🏁",triangular_flag_on_post:"🚩",crossed_flags:"🎌",black_flag:"🏴",white_flag:"🏳️",rainbow_flag:"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",pirate_flag:"🏴‍☠️",ascension_island:"🇦🇨",andorra:"🇦🇩",united_arab_emirates:"🇦🇪",afghanistan:"🇦🇫",antigua_barbuda:"🇦🇬",anguilla:"🇦🇮",albania:"🇦🇱",armenia:"🇦🇲",angola:"🇦🇴",antarctica:"🇦🇶",argentina:"🇦🇷",american_samoa:"🇦🇸",austria:"🇦🇹",australia:"🇦🇺",aruba:"🇦🇼",aland_islands:"🇦🇽",azerbaijan:"🇦🇿",bosnia_herzegovina:"🇧🇦",barbados:"🇧🇧",bangladesh:"🇧🇩",belgium:"🇧🇪",burkina_faso:"🇧🇫",bulgaria:"🇧🇬",bahrain:"🇧🇭",burundi:"🇧🇮",benin:"🇧🇯",st_barthelemy:"🇧🇱",bermuda:"🇧🇲",brunei:"🇧🇳",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",brazil:"🇧🇷",bahamas:"🇧🇸",bhutan:"🇧🇹",bouvet_island:"🇧🇻",botswana:"🇧🇼",belarus:"⬜️🟥⬜",belize:"🇧🇿",canada:"🇨🇦",cocos_islands:"🇨🇨",congo_kinshasa:"🇨🇩",central_african_republic:"🇨🇫",congo_brazzaville:"🇨🇬",switzerland:"🇨🇭",cote_divoire:"🇨🇮",cook_islands:"🇨🇰",chile:"🇨🇱",cameroon:"🇨🇲",cn:"🇨🇳",colombia:"🇨🇴",clipperton_island:"🇨🇵",costa_rica:"🇨🇷",cuba:"🇨🇺",cape_verde:"🇨🇻",curacao:"🇨🇼",christmas_island:"🇨🇽",cyprus:"🇨🇾",czech_republic:"🇨🇿",de:"🇩🇪",diego_garcia:"🇩🇬",djibouti:"🇩🇯",denmark:"🇩🇰",dominica:"🇩🇲",dominican_republic:"🇩🇴",algeria:"🇩🇿",ceuta_melilla:"🇪🇦",ecuador:"🇪🇨",estonia:"🇪🇪",egypt:"🇪🇬",western_sahara:"🇪🇭",eritrea:"🇪🇷",es:"🇪🇸",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",finland:"🇫🇮",fiji:"🇫🇯",falkland_islands:"🇫🇰",micronesia:"🇫🇲",faroe_islands:"🇫🇴",fr:"🇫🇷",gabon:"🇬🇦",gb:"🇬🇧",uk:"🇬🇧",grenada:"🇬🇩",georgia:"🇬🇪",french_guiana:"🇬🇫",guernsey:"🇬🇬",ghana:"🇬🇭",gibraltar:"🇬🇮",greenland:"🇬🇱",gambia:"🇬🇲",guinea:"🇬🇳",guadeloupe:"🇬🇵",equatorial_guinea:"🇬🇶",greece:"🇬🇷",south_georgia_south_sandwich_islands:"🇬🇸",guatemala:"🇬🇹",guam:"🇬🇺",guinea_bissau:"🇬🇼",guyana:"🇬🇾",hong_kong:"🇭🇰",heard_mcdonald_islands:"🇭🇲",honduras:"🇭🇳",croatia:"🇭🇷",haiti:"🇭🇹",hungary:"🇭🇺",canary_islands:"🇮🇨",indonesia:"🇮🇩",ireland:"🇮🇪",israel:"🇮🇱",isle_of_man:"🇮🇲",india:"🇮🇳",british_indian_ocean_territory:"🇮🇴",iraq:"🇮🇶",iran:"🇮🇷",iceland:"🇮🇸",it:"🇮🇹",jersey:"🇯🇪",jamaica:"🇯🇲",jordan:"🇯🇴",jp:"🇯🇵",kenya:"🇰🇪",kyrgyzstan:"🇰🇬",cambodia:"🇰🇭",kiribati:"🇰🇮",comoros:"🇰🇲",st_kitts_nevis:"🇰🇳",north_korea:"🇰🇵",kr:"🇰🇷",kuwait:"🇰🇼",cayman_islands:"🇰🇾",kazakhstan:"🇰🇿",laos:"🇱🇦",lebanon:"🇱🇧",st_lucia:"🇱🇨",liechtenstein:"🇱🇮",sri_lanka:"🇱🇰",liberia:"🇱🇷",lesotho:"🇱🇸",lithuania:"🇱🇹",luxembourg:"🇱🇺",latvia:"🇱🇻",libya:"🇱🇾",morocco:"🇲🇦",monaco:"🇲🇨",moldova:"🇲🇩",montenegro:"🇲🇪",st_martin:"🇲🇫",madagascar:"🇲🇬",marshall_islands:"🇲🇭",macedonia:"🇲🇰",mali:"🇲🇱",myanmar:"🇲🇲",mongolia:"🇲🇳",macau:"🇲🇴",northern_mariana_islands:"🇲🇵",martinique:"🇲🇶",mauritania:"🇲🇷",montserrat:"🇲🇸",malta:"🇲🇹",mauritius:"🇲🇺",maldives:"🇲🇻",malawi:"🇲🇼",mexico:"🇲🇽",malaysia:"🇲🇾",mozambique:"🇲🇿",namibia:"🇳🇦",new_caledonia:"🇳🇨",niger:"🇳🇪",norfolk_island:"🇳🇫",nigeria:"🇳🇬",nicaragua:"🇳🇮",netherlands:"🇳🇱",norway:"🇳🇴",nepal:"🇳🇵",nauru:"🇳🇷",niue:"🇳🇺",new_zealand:"🇳🇿",oman:"🇴🇲",panama:"🇵🇦",peru:"🇵🇪",french_polynesia:"🇵🇫",papua_new_guinea:"🇵🇬",philippines:"🇵🇭",pakistan:"🇵🇰",poland:"🇵🇱",st_pierre_miquelon:"🇵🇲",pitcairn_islands:"🇵🇳",puerto_rico:"🇵🇷",palestinian_territories:"🇵🇸",portugal:"🇵🇹",palau:"🇵🇼",paraguay:"🇵🇾",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",serbia:"🇷🇸",ru:"🇷🇺",rwanda:"🇷🇼",saudi_arabia:"🇸🇦",solomon_islands:"🇸🇧",seychelles:"🇸🇨",sudan:"🇸🇩",sweden:"🇸🇪",singapore:"🇸🇬",st_helena:"🇸🇭",slovenia:"🇸🇮",svalbard_jan_mayen:"🇸🇯",slovakia:"🇸🇰",sierra_leone:"🇸🇱",san_marino:"🇸🇲",senegal:"🇸🇳",somalia:"🇸🇴",suriname:"🇸🇷",south_sudan:"🇸🇸",sao_tome_principe:"🇸🇹",el_salvador:"🇸🇻",sint_maarten:"🇸🇽",syria:"🇸🇾",swaziland:"🇸🇿",tristan_da_cunha:"🇹🇦",turks_caicos_islands:"🇹🇨",chad:"🇹🇩",french_southern_territories:"🇹🇫",togo:"🇹🇬",thailand:"🇹🇭",tajikistan:"🇹🇯",tokelau:"🇹🇰",timor_leste:"🇹🇱",turkmenistan:"🇹🇲",tunisia:"🇹🇳",tonga:"🇹🇴",tr:"🇹🇷",trinidad_tobago:"🇹🇹",tuvalu:"🇹🇻",taiwan:"🇹🇼",tanzania:"🇹🇿",ukraine:"🇺🇦",uganda:"🇺🇬",us_outlying_islands:"🇺🇲",united_nations:"🇺🇳",us:"🇺🇸",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vatican_city:"🇻🇦",st_vincent_grenadines:"🇻🇨",venezuela:"🇻🇪",british_virgin_islands:"🇻🇬",us_virgin_islands:"🇻🇮",vietnam:"🇻🇳",vanuatu:"🇻🇺",wallis_futuna:"🇼🇫",samoa:"🇼🇸",kosovo:"🇽🇰",yemen:"🇾🇪",mayotte:"🇾🇹",south_africa:"🇿🇦",zambia:"🇿🇲",zimbabwe:"🇿🇼",england:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",scotland:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",wales:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",large_purple_circle:"🟣"};Jn.use(uc({emojis:mc,renderer:e=>e.emoji}));const hc=()=>{const[e,n]=L(!1);return t(j,{children:t(ir,{children:t(za,{children:t(j,{children:[t(Va,{onLoaded:n}),e&&t(lr,{children:t(bt,{path:"/",element:t(cc,{}),children:[t(bt,{path:"/",element:t(Tl,{})}),t(bt,{path:ke.streamContext,element:t(dc,{})})]})})]})})})})},Zn=document.getElementById("root");Zn&&cr(t(hc,{}),Zn);
